var Pj=Object.defineProperty;var Bj=(e,t,a)=>t in e?Pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Dm=(e,t,a)=>Bj(e,typeof t!="symbol"?t+"":t,a);function Lj(e,t){for(var a=0;a<t.length;a++){const n=t[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();function Vj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),a}var gy={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $j=Symbol.for("react.transitional.element"),Hj=Symbol.for("react.fragment");function yy(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var r in t)r!=="key"&&(a[r]=t[r])}else a=t;return t=a.ref,{$$typeof:$j,type:e,key:n,ref:t!==void 0?t:null,props:a}}nc.Fragment=Hj;nc.jsx=yy;nc.jsxs=yy;gy.exports=nc;var o=gy.exports,by={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=Symbol.for("react.transitional.element"),Ij=Symbol.for("react.portal"),Gj=Symbol.for("react.fragment"),Yj=Symbol.for("react.strict_mode"),Kj=Symbol.for("react.profiler"),Fj=Symbol.for("react.consumer"),Xj=Symbol.for("react.context"),Wj=Symbol.for("react.forward_ref"),Qj=Symbol.for("react.suspense"),Jj=Symbol.for("react.memo"),vy=Symbol.for("react.lazy"),Zj=Symbol.for("react.activity"),Mm=Symbol.iterator;function e_(e){return e===null||typeof e!="object"?null:(e=Mm&&e[Mm]||e["@@iterator"],typeof e=="function"?e:null)}var xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wy=Object.assign,jy={};function hs(e,t,a){this.props=e,this.context=t,this.refs=jy,this.updater=a||xy}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _y(){}_y.prototype=hs.prototype;function Uh(e,t,a){this.props=e,this.context=t,this.refs=jy,this.updater=a||xy}var zh=Uh.prototype=new _y;zh.constructor=Uh;wy(zh,hs.prototype);zh.isPureReactComponent=!0;var Um=Array.isArray;function Qu(){}var fe={H:null,A:null,T:null,S:null},Sy=Object.prototype.hasOwnProperty;function Ph(e,t,a){var n=a.ref;return{$$typeof:Mh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function t_(e,t){return Ph(e.type,t,e.props)}function Bh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mh}function a_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var zm=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a_(""+e.key):t.toString(36)}function n_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Qu,Qu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function vr(e,t,a,n,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Mh:case Ij:i=!0;break;case vy:return i=e._init,vr(i(e._payload),t,a,n,r)}}if(i)return r=r(e),i=n===""?"."+Lc(e,0):n,Um(r)?(a="",i!=null&&(a=i.replace(zm,"$&/")+"/"),vr(r,t,a,"",function(u){return u})):r!=null&&(Bh(r)&&(r=t_(r,a+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(zm,"$&/")+"/")+i)),t.push(r)),1;i=0;var l=n===""?".":n+":";if(Um(e))for(var c=0;c<e.length;c++)n=e[c],s=l+Lc(n,c),i+=vr(n,t,a,s,r);else if(c=e_(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,s=l+Lc(n,c++),i+=vr(n,t,a,s,r);else if(s==="object"){if(typeof e.then=="function")return vr(n_(e),t,a,n,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function ho(e,t,a){if(e==null)return e;var n=[],r=0;return vr(e,n,"","",function(s){return t.call(a,s,r++)}),n}function r_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},s_={map:ho,forEach:function(e,t,a){ho(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ho(e,function(){t++}),t},toArray:function(e){return ho(e,function(t){return t})||[]},only:function(e){if(!Bh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Activity=Zj;H.Children=s_;H.Component=hs;H.Fragment=Gj;H.Profiler=Kj;H.PureComponent=Uh;H.StrictMode=Yj;H.Suspense=Qj;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return fe.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cacheSignal=function(){return null};H.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=wy({},e.props),r=e.key;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)!Sy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=a;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];n.children=i}return Ph(e.type,r,n)};H.createContext=function(e){return e={$$typeof:Xj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Fj,_context:e},e};H.createElement=function(e,t,a){var n,r={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)Sy.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(r[n]=t[n]);var i=arguments.length-2;if(i===1)r.children=a;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)r[n]===void 0&&(r[n]=i[n]);return Ph(e,s,r)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Wj,render:e}};H.isValidElement=Bh;H.lazy=function(e){return{$$typeof:vy,_payload:{_status:-1,_result:e},_init:r_}};H.memo=function(e,t){return{$$typeof:Jj,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=fe.T,a={};fe.T=a;try{var n=e(),r=fe.S;r!==null&&r(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Qu,Pm)}catch(s){Pm(s)}finally{t!==null&&a.types!==null&&(t.types=a.types),fe.T=t}};H.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()};H.use=function(e){return fe.H.use(e)};H.useActionState=function(e,t,a){return fe.H.useActionState(e,t,a)};H.useCallback=function(e,t){return fe.H.useCallback(e,t)};H.useContext=function(e){return fe.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return fe.H.useDeferredValue(e,t)};H.useEffect=function(e,t){return fe.H.useEffect(e,t)};H.useEffectEvent=function(e){return fe.H.useEffectEvent(e)};H.useId=function(){return fe.H.useId()};H.useImperativeHandle=function(e,t,a){return fe.H.useImperativeHandle(e,t,a)};H.useInsertionEffect=function(e,t){return fe.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return fe.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return fe.H.useMemo(e,t)};H.useOptimistic=function(e,t){return fe.H.useOptimistic(e,t)};H.useReducer=function(e,t,a){return fe.H.useReducer(e,t,a)};H.useRef=function(e){return fe.H.useRef(e)};H.useState=function(e){return fe.H.useState(e)};H.useSyncExternalStore=function(e,t,a){return fe.H.useSyncExternalStore(e,t,a)};H.useTransition=function(){return fe.H.useTransition()};H.version="19.2.0";by.exports=H;var w=by.exports;const Io=Vj(w);var Ny={exports:{}},rc={},Ey={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,T){var U=O.length;O.push(T);e:for(;0<U;){var G=U-1>>>1,Q=O[G];if(0<r(Q,T))O[G]=T,O[U]=Q,U=G;else break e}}function a(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var T=O[0],U=O.pop();if(U!==T){O[0]=U;e:for(var G=0,Q=O.length,ta=Q>>>1;G<ta;){var aa=2*(G+1)-1,na=O[aa],dt=aa+1,Et=O[dt];if(0>r(na,U))dt<Q&&0>r(Et,na)?(O[G]=Et,O[dt]=U,G=dt):(O[G]=na,O[aa]=U,G=aa);else if(dt<Q&&0>r(Et,U))O[G]=Et,O[dt]=U,G=dt;else break e}}return T}function r(O,T){var U=O.sortIndex-T.sortIndex;return U!==0?U:O.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,b=!1,v=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function j(O){for(var T=a(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=O)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=a(u)}}function N(O){if(v=!1,j(O),!b)if(a(c)!==null)b=!0,_||(_=!0,L());else{var T=a(u);T!==null&&$e(N,T.startTime-O)}}var _=!1,S=-1,E=5,C=-1;function R(){return x?!0:!(e.unstable_now()-C<E)}function k(){if(x=!1,_){var O=e.unstable_now();C=O;var T=!0;try{e:{b=!1,v&&(v=!1,g(S),S=-1),m=!0;var U=f;try{t:{for(j(O),h=a(c);h!==null&&!(h.expirationTime>O&&R());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var Q=G(h.expirationTime<=O);if(O=e.unstable_now(),typeof Q=="function"){h.callback=Q,j(O),T=!0;break t}h===a(c)&&n(c),j(O)}else n(c);h=a(c)}if(h!==null)T=!0;else{var ta=a(u);ta!==null&&$e(N,ta.startTime-O),T=!1}}break e}finally{h=null,f=U,m=!1}T=void 0}}finally{T?L():_=!1}}}var L;if(typeof y=="function")L=function(){y(k)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,We=ie.port2;ie.port1.onmessage=k,L=function(){We.postMessage(null)}}else L=function(){p(k,0)};function $e(O,T){S=p(function(){O(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var U=f;f=T;try{return O()}finally{f=U}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(O,T){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return T()}finally{f=U}},e.unstable_scheduleCallback=function(O,T,U){var G=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,O={id:d++,callback:T,priorityLevel:O,startTime:U,expirationTime:Q,sortIndex:-1},U>G?(O.sortIndex=U,t(u,O),a(c)===null&&O===a(u)&&(v?(g(S),S=-1):v=!0,$e(N,U-G))):(O.sortIndex=Q,t(c,O),b||m||(b=!0,_||(_=!0,L()))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var T=f;return function(){var U=f;f=T;try{return O.apply(this,arguments)}finally{f=U}}}})(Ty);Ey.exports=Ty;var i_=Ey.exports,Ay={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=w;function Cy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var Ze={d:{f:Ha,r:function(){throw Error(Cy(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},l_=Symbol.for("react.portal");function c_(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l_,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Ys=o_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function sc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ze;tt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Cy(299));return c_(e,t,null,a)};tt.flushSync=function(e){var t=Ys.T,a=Ze.p;try{if(Ys.T=null,Ze.p=2,e)return e()}finally{Ys.T=t,Ze.p=a,Ze.d.f()}};tt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ze.d.C(e,t))};tt.prefetchDNS=function(e){typeof e=="string"&&Ze.d.D(e)};tt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=sc(a,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ze.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:s}):a==="script"&&Ze.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};tt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=sc(t.as,t.crossOrigin);Ze.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ze.d.M(e)};tt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=sc(a,t.crossOrigin);Ze.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};tt.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=sc(t.as,t.crossOrigin);Ze.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ze.d.m(e)};tt.requestFormReset=function(e){Ze.d.r(e)};tt.unstable_batchedUpdates=function(e,t){return e(t)};tt.useFormState=function(e,t,a){return Ys.H.useFormState(e,t,a)};tt.useFormStatus=function(){return Ys.H.useHostTransitionStatus()};tt.version="19.2.0";function ky(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ky)}catch(e){console.error(e)}}ky(),Ay.exports=tt;var u_=Ay.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=i_,Oy=w,d_=u_;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Dy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bm(e){if($i(e)!==e)throw Error(A(188))}function h_(e){var t=e.alternate;if(!t){if(t=$i(e),t===null)throw Error(A(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return Bm(r),e;if(s===n)return Bm(r),t;s=s.sibling}throw Error(A(188))}if(a.return!==n.return)a=r,n=s;else{for(var i=!1,l=r.child;l;){if(l===a){i=!0,a=r,n=s;break}if(l===n){i=!0,n=r,a=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===a){i=!0,a=s,n=r;break}if(l===n){i=!0,n=s,a=r;break}l=l.sibling}if(!i)throw Error(A(189))}}if(a.alternate!==n)throw Error(A(190))}if(a.tag!==3)throw Error(A(188));return a.stateNode.current===a?e:t}function Uy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Uy(e),t!==null)return t;e=e.sibling}return null}var me=Object.assign,f_=Symbol.for("react.element"),fo=Symbol.for("react.transitional.element"),Ls=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),Ju=Symbol.for("react.profiler"),Py=Symbol.for("react.consumer"),_a=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),ed=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),Ka=Symbol.for("react.lazy"),td=Symbol.for("react.activity"),m_=Symbol.for("react.memo_cache_sentinel"),Lm=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=Lm&&e[Lm]||e["@@iterator"],typeof e=="function"?e:null)}var p_=Symbol.for("react.client.reference");function ad(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===p_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case Ju:return"Profiler";case zy:return"StrictMode";case Zu:return"Suspense";case ed:return"SuspenseList";case td:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ls:return"Portal";case _a:return e.displayName||"Context";case Py:return(e._context.displayName||"Context")+".Consumer";case Lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vh:return t=e.displayName||null,t!==null?t:ad(e.type)||"Memo";case Ka:t=e._payload,e=e._init;try{return ad(e(t))}catch{}}return null}var Vs=Array.isArray,$=Oy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=d_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,In={pending:!1,data:null,method:null,action:null},nd=[],Nr=-1;function fa(e){return{current:e}}function Ve(e){0>Nr||(e.current=nd[Nr],nd[Nr]=null,Nr--)}function le(e,t){Nr++,nd[Nr]=e.current,e.current=t}var ca=fa(null),pi=fa(null),on=fa(null),fl=fa(null);function ml(e,t){switch(le(on,t),le(pi,e),le(ca,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gp(t),e=nx(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ve(ca),le(ca,e)}function Jr(){Ve(ca),Ve(pi),Ve(on)}function rd(e){e.memoizedState!==null&&le(fl,e);var t=ca.current,a=nx(t,e.type);t!==a&&(le(pi,e),le(ca,a))}function pl(e){pi.current===e&&(Ve(ca),Ve(pi)),fl.current===e&&(Ve(fl),Ei._currentValue=In)}var Vc,Vm;function On(e){if(Vc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Vc=t&&t[1]||"",Vm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+e+Vm}var qc=!1;function $c(e,t){if(!e||qc)return"";qc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(e,[],h)}else{try{h.call()}catch(m){f=m}e.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var c=i.split(`
`),u=l.split(`
`);for(r=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(n===c.length||r===u.length)for(n=c.length-1,r=u.length-1;1<=n&&0<=r&&c[n]!==u[r];)r--;for(;1<=n&&0<=r;n--,r--)if(c[n]!==u[r]){if(n!==1||r!==1)do if(n--,r--,0>r||c[n]!==u[r]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=r);break}}}finally{qc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?On(a):""}function g_(e,t){switch(e.tag){case 26:case 27:case 5:return On(e.type);case 16:return On("Lazy");case 13:return e.child!==t&&t!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return $c(e.type,!1);case 11:return $c(e.type.render,!1);case 1:return $c(e.type,!0);case 31:return On("Activity");default:return""}}function qm(e){try{var t="",a=null;do t+=g_(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var sd=Object.prototype.hasOwnProperty,qh=Ue.unstable_scheduleCallback,Hc=Ue.unstable_cancelCallback,y_=Ue.unstable_shouldYield,b_=Ue.unstable_requestPaint,vt=Ue.unstable_now,v_=Ue.unstable_getCurrentPriorityLevel,By=Ue.unstable_ImmediatePriority,Ly=Ue.unstable_UserBlockingPriority,gl=Ue.unstable_NormalPriority,x_=Ue.unstable_LowPriority,Vy=Ue.unstable_IdlePriority,w_=Ue.log,j_=Ue.unstable_setDisableYieldValue,Hi=null,xt=null;function en(e){if(typeof w_=="function"&&j_(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Hi,e)}catch{}}var wt=Math.clz32?Math.clz32:N_,__=Math.log,S_=Math.LN2;function N_(e){return e>>>=0,e===0?32:31-(__(e)/S_|0)|0}var mo=256,po=262144,go=4194304;function Rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ic(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~s,n!==0?r=Rn(n):(i&=l,i!==0?r=Rn(i):a||(a=l&~e,a!==0&&(r=Rn(a))))):(l=n&~s,l!==0?r=Rn(l):i!==0?r=Rn(i):a||(a=n&~e,a!==0&&(r=Rn(a)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:r}function Ii(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function E_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qy(){var e=go;return go<<=1,!(go&62914560)&&(go=4194304),e}function Ic(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Gi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function T_(e,t,a,n,r,s){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(a=i&~a;0<a;){var d=31-wt(a),h=1<<d;l[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}a&=~h}n!==0&&$y(e,n,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(i&~t))}function $y(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-wt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Hy(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-wt(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Iy(e,t){var a=t&-t;return a=a&42?1:$h(a),a&(e.suspendedLanes|t)?0:a}function $h(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Gy(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:mx(e.type))}function $m(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var _n=Math.random().toString(36).slice(2),Ye="__reactFiber$"+_n,lt="__reactProps$"+_n,fs="__reactContainer$"+_n,id="__reactEvents$"+_n,A_="__reactListeners$"+_n,C_="__reactHandles$"+_n,Hm="__reactResources$"+_n,Yi="__reactMarker$"+_n;function Ih(e){delete e[Ye],delete e[lt],delete e[id],delete e[A_],delete e[C_]}function Er(e){var t=e[Ye];if(t)return t;for(var a=e.parentNode;a;){if(t=a[fs]||a[Ye]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Wp(e);e!==null;){if(a=e[Ye])return a;e=Wp(e)}return t}e=a,a=e.parentNode}return null}function ms(e){if(e=e[Ye]||e[fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function $r(e){var t=e[Hm];return t||(t=e[Hm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(e){e[Yi]=!0}var Yy=new Set,Ky={};function rr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Ky[e]=t,e=0;e<t.length;e++)Yy.add(t[e])}var k_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Im={},Gm={};function O_(e){return sd.call(Gm,e)?!0:sd.call(Im,e)?!1:k_.test(e)?Gm[e]=!0:(Im[e]=!0,!1)}function Go(e,t,a){if(O_(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function yo(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function pa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R_(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function od(e){if(!e._valueTracker){var t=Fy(e)?"checked":"value";e._valueTracker=R_(e,t,""+e[t])}}function Xy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Fy(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var D_=/[\n"\\]/g;function Rt(e){return e.replace(D_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ld(e,t,a,n,r,s,i,l){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?cd(e,i,Ct(t)):a!=null?cd(e,i,Ct(a)):n!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ct(l):e.removeAttribute("name")}function Wy(e,t,a,n,r,s,i,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){od(e);return}a=a!=null?""+Ct(a):"",t=t!=null?""+Ct(t):a,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),od(e)}function cd(e,t,a){t==="number"&&yl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hr(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ct(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Qy(e,t,a){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ct(a):""}function Jy(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(A(92));if(Vs(n)){if(1<n.length)throw Error(A(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ct(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),od(e)}function es(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var M_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ym(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||M_.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Zy(e,t,a){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&Ym(e,r,n)}else for(var s in t)t.hasOwnProperty(s)&&Ym(e,s,t[s])}function Gh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(e){return z_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var ud=null;function Yh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Ir=null;function Km(e){var t=ms(e);if(t&&(e=t.stateNode)){var a=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ld(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[lt]||null;if(!r)throw Error(A(90));ld(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Xy(n)}break e;case"textarea":Qy(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Hr(e,!!a.multiple,t,!1)}}}var Gc=!1;function eb(e,t,a){if(Gc)return e(t,a);Gc=!0;try{var n=e(t);return n}finally{if(Gc=!1,(Tr!==null||Ir!==null)&&(bc(),Tr&&(t=Tr,e=Ir,Ir=Tr=null,Km(t),e)))for(t=0;t<e.length;t++)Km(e[t])}}function gi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[lt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(A(231,t,typeof a));return a}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=!1;if(Ra)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){dd=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{dd=!1}var tn=null,Kh=null,Ko=null;function tb(){if(Ko)return Ko;var e,t=Kh,a=t.length,n,r="value"in tn?tn.value:tn.textContent,s=r.length;for(e=0;e<a&&t[e]===r[e];e++);var i=a-e;for(n=1;n<=i&&t[a-n]===r[s-n];n++);return Ko=r.slice(e,1<n?1-n:void 0)}function Fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function Fm(){return!1}function ct(e){function t(a,n,r,s,i){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(a=e[l],this[l]=a?a(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bo:Fm,this.isPropagationStopped=Fm,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=ct(sr),Ki=me({},sr,{view:0,detail:0}),P_=ct(Ki),Yc,Kc,Rs,lc=me({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(Yc=e.screenX-Rs.screenX,Kc=e.screenY-Rs.screenY):Kc=Yc=0,Rs=e),Yc)},movementY:function(e){return"movementY"in e?e.movementY:Kc}}),Xm=ct(lc),B_=me({},lc,{dataTransfer:0}),L_=ct(B_),V_=me({},Ki,{relatedTarget:0}),Fc=ct(V_),q_=me({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=ct(q_),H_=me({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I_=ct(H_),G_=me({},sr,{data:0}),Wm=ct(G_),Y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F_[e])?!!t[e]:!1}function Fh(){return X_}var W_=me({},Ki,{key:function(e){if(e.key){var t=Y_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q_=ct(W_),J_=me({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=ct(J_),Z_=me({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),e2=ct(Z_),t2=me({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=ct(t2),n2=me({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r2=ct(n2),s2=me({},sr,{newState:0,oldState:0}),i2=ct(s2),o2=[9,13,27,32],Xh=Ra&&"CompositionEvent"in window,Ks=null;Ra&&"documentMode"in document&&(Ks=document.documentMode);var l2=Ra&&"TextEvent"in window&&!Ks,ab=Ra&&(!Xh||Ks&&8<Ks&&11>=Ks),Jm=" ",Zm=!1;function nb(e,t){switch(e){case"keyup":return o2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function c2(e,t){switch(e){case"compositionend":return rb(t);case"keypress":return t.which!==32?null:(Zm=!0,Jm);case"textInput":return e=t.data,e===Jm&&Zm?null:e;default:return null}}function u2(e,t){if(Ar)return e==="compositionend"||!Xh&&nb(e,t)?(e=tb(),Ko=Kh=tn=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ab&&t.locale!=="ko"?null:t.data;default:return null}}var d2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d2[e.type]:t==="textarea"}function sb(e,t,a,n){Tr?Ir?Ir.push(n):Ir=[n]:Tr=n,t=Ul(t,"onChange"),0<t.length&&(a=new oc("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Fs=null,yi=null;function h2(e){ex(e,0)}function cc(e){var t=qs(e);if(Xy(t))return e}function tp(e,t){if(e==="change")return t}var ib=!1;if(Ra){var Xc;if(Ra){var Wc="oninput"in document;if(!Wc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Wc=typeof ap.oninput=="function"}Xc=Wc}else Xc=!1;ib=Xc&&(!document.documentMode||9<document.documentMode)}function np(){Fs&&(Fs.detachEvent("onpropertychange",ob),yi=Fs=null)}function ob(e){if(e.propertyName==="value"&&cc(yi)){var t=[];sb(t,yi,e,Yh(e)),eb(h2,t)}}function f2(e,t,a){e==="focusin"?(np(),Fs=t,yi=a,Fs.attachEvent("onpropertychange",ob)):e==="focusout"&&np()}function m2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(yi)}function p2(e,t){if(e==="click")return cc(t)}function g2(e,t){if(e==="input"||e==="change")return cc(t)}function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:y2;function bi(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!sd.call(t,r)||!St(e[r],t[r]))return!1}return!0}function rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sp(e,t){var a=rp(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rp(a)}}function lb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cb(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=yl(e.document)}return t}function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b2=Ra&&"documentMode"in document&&11>=document.documentMode,Cr=null,hd=null,Xs=null,fd=!1;function ip(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||Cr==null||Cr!==yl(n)||(n=Cr,"selectionStart"in n&&Wh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xs&&bi(Xs,n)||(Xs=n,n=Ul(hd,"onSelect"),0<n.length&&(t=new oc("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Cr)))}function Tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var kr={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},Qc={},ub={};Ra&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function ir(e){if(Qc[e])return Qc[e];if(!kr[e])return e;var t=kr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ub)return Qc[e]=t[a];return e}var db=ir("animationend"),hb=ir("animationiteration"),fb=ir("animationstart"),v2=ir("transitionrun"),x2=ir("transitionstart"),w2=ir("transitioncancel"),mb=ir("transitionend"),pb=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function Jt(e,t){pb.set(e,t),rr(t,[e])}var bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},At=[],Or=0,Qh=0;function uc(){for(var e=Or,t=Qh=Or=0;t<e;){var a=At[t];At[t++]=null;var n=At[t];At[t++]=null;var r=At[t];At[t++]=null;var s=At[t];if(At[t++]=null,n!==null&&r!==null){var i=n.pending;i===null?r.next=r:(r.next=i.next,i.next=r),n.pending=r}s!==0&&gb(a,r,s)}}function dc(e,t,a,n){At[Or++]=e,At[Or++]=t,At[Or++]=a,At[Or++]=n,Qh|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Jh(e,t,a,n){return dc(e,t,a,n),vl(e)}function or(e,t){return dc(e,null,null,t),vl(e)}function gb(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-wt(a),e=s.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),s):null}function vl(e){if(50<ri)throw ri=0,Ud=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rr={};function j2(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,a,n){return new j2(e,t,a,n)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ta(e,t){var a=e.alternate;return a===null?(a=pt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yb(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xo(e,t,a,n,r,s){var i=0;if(n=e,typeof e=="function")Zh(e)&&(i=1);else if(typeof e=="string")i=TS(e,a,ca.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case td:return e=pt(31,a,t,r),e.elementType=td,e.lanes=s,e;case Sr:return Gn(a.children,r,s,t);case zy:i=8,r|=24;break;case Ju:return e=pt(12,a,t,r|2),e.elementType=Ju,e.lanes=s,e;case Zu:return e=pt(13,a,t,r),e.elementType=Zu,e.lanes=s,e;case ed:return e=pt(19,a,t,r),e.elementType=ed,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _a:i=10;break e;case Py:i=9;break e;case Lh:i=11;break e;case Vh:i=14;break e;case Ka:i=16,n=null;break e}i=29,a=Error(A(130,e===null?"null":typeof e,"")),n=null}return t=pt(i,a,t,r),t.elementType=e,t.type=n,t.lanes=s,t}function Gn(e,t,a,n){return e=pt(7,e,n,t),e.lanes=a,e}function Jc(e,t,a){return e=pt(6,e,null,t),e.lanes=a,e}function bb(e){var t=pt(18,null,null,0);return t.stateNode=e,t}function Zc(e,t,a){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var op=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=op.get(e);return a!==void 0?a:(t={value:e,source:t,stack:qm(t)},op.set(e,t),t)}return{value:e,source:t,stack:qm(t)}}var Dr=[],Mr=0,xl=null,vi=0,kt=[],Ot=0,yn=null,ia=1,oa="";function wa(e,t){Dr[Mr++]=vi,Dr[Mr++]=xl,xl=e,vi=t}function vb(e,t,a){kt[Ot++]=ia,kt[Ot++]=oa,kt[Ot++]=yn,yn=e;var n=ia;e=oa;var r=32-wt(n)-1;n&=~(1<<r),a+=1;var s=32-wt(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,ia=1<<32-wt(t)+r|a<<r|n,oa=s+e}else ia=1<<s|a<<r|n,oa=e}function ef(e){e.return!==null&&(wa(e,1),vb(e,1,0))}function tf(e){for(;e===xl;)xl=Dr[--Mr],Dr[Mr]=null,vi=Dr[--Mr],Dr[Mr]=null;for(;e===yn;)yn=kt[--Ot],kt[Ot]=null,oa=kt[--Ot],kt[Ot]=null,ia=kt[--Ot],kt[Ot]=null}function xb(e,t){kt[Ot++]=ia,kt[Ot++]=oa,kt[Ot++]=yn,ia=t.id,oa=t.overflow,yn=e}var Ke=null,he=null,W=!1,ln=null,Mt=!1,pd=Error(A(519));function bn(e){var t=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xi(Dt(t,e)),pd}function lp(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Ye]=e,t[lt]=n,a){case"dialog":K("cancel",t),K("close",t);break;case"iframe":case"object":case"embed":K("load",t);break;case"video":case"audio":for(a=0;a<Si.length;a++)K(Si[a],t);break;case"source":K("error",t);break;case"img":case"image":case"link":K("error",t),K("load",t);break;case"details":K("toggle",t);break;case"input":K("invalid",t),Wy(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":K("invalid",t);break;case"textarea":K("invalid",t),Jy(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||ax(t.textContent,a)?(n.popover!=null&&(K("beforetoggle",t),K("toggle",t)),n.onScroll!=null&&K("scroll",t),n.onScrollEnd!=null&&K("scrollend",t),n.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||bn(e,!0)}function cp(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Ke=Ke.return}}function ur(e){if(e!==Ke)return!1;if(!W)return cp(e),W=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&he&&bn(e),cp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));he=Xp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));he=Xp(e)}else t===27?(t=he,Sn(e.type)?(e=Id,Id=null,he=e):he=t):he=Ke?Pt(e.stateNode.nextSibling):null;return!0}function Qn(){he=Ke=null,W=!1}function eu(){var e=ln;return e!==null&&(st===null?st=e:st.push.apply(st,e),ln=null),e}function xi(e){ln===null?ln=[e]:ln.push(e)}var gd=fa(null),lr=null,Na=null;function Xa(e,t,a){le(gd,t._currentValue),t._currentValue=a}function Aa(e){e._currentValue=gd.current,Ve(gd)}function yd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function bd(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var i=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=a,l=s.alternate,l!==null&&(l.lanes|=a),yd(s.return,a,e),n||(i=null);break e}s=l.next}}else if(r.tag===18){if(i=r.return,i===null)throw Error(A(341));i.lanes|=a,s=i.alternate,s!==null&&(s.lanes|=a),yd(i,a,e),i=null}else i=r.child;if(i!==null)i.return=r;else for(i=r;i!==null;){if(i===e){i=null;break}if(r=i.sibling,r!==null){r.return=i.return,i=r;break}i=i.return}r=i}}function ps(e,t,a,n){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var i=r.alternate;if(i===null)throw Error(A(387));if(i=i.memoizedProps,i!==null){var l=r.type;St(r.pendingProps.value,i.value)||(e!==null?e.push(l):e=[l])}}else if(r===fl.current){if(i=r.alternate,i===null)throw Error(A(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ei):e=[Ei])}r=r.return}e!==null&&bd(t,e,a,n),t.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Jn(e){lr=e,Na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return wb(lr,e)}function vo(e,t){return lr===null&&Jn(e),wb(e,t)}function wb(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Na===null){if(e===null)throw Error(A(308));Na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Na=Na.next=t;return a}var _2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},S2=Ue.unstable_scheduleCallback,N2=Ue.unstable_NormalPriority,Ce={$$typeof:_a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new _2,data:new Map,refCount:0}}function Fi(e){e.refCount--,e.refCount===0&&S2(N2,function(){e.controller.abort()})}var Ws=null,vd=0,ts=0,Gr=null;function E2(e,t){if(Ws===null){var a=Ws=[];vd=0,ts=Af(),Gr={status:"pending",value:void 0,then:function(n){a.push(n)}}}return vd++,t.then(up,up),t}function up(){if(--vd===0&&Ws!==null){Gr!==null&&(Gr.status="fulfilled");var e=Ws;Ws=null,ts=0,Gr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function T2(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var dp=$.S;$.S=function(e,t){Uv=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&E2(e,t),dp!==null&&dp(e,t)};var Yn=fa(null);function nf(){var e=Yn.current;return e!==null?e:se.pooledCache}function Wo(e,t){t===null?le(Yn,Yn.current):le(Yn,t.pool)}function jb(){var e=nf();return e===null?null:{parent:Ce._currentValue,pool:e}}var gs=Error(A(460)),rf=Error(A(474)),hc=Error(A(542)),jl={then:function(){}};function hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _b(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Sa,Sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mp(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mp(e),e}throw Kn=t,gs}}function Dn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kn=a,gs):a}}var Kn=null;function fp(){if(Kn===null)throw Error(A(459));var e=Kn;return Kn=null,e}function mp(e){if(e===gs||e===hc)throw Error(A(483))}var Yr=null,wi=0;function xo(e){var t=wi;return wi+=1,Yr===null&&(Yr=[]),_b(Yr,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wo(e,t){throw t.$$typeof===f_?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sb(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function a(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(p,g){return p=Ta(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,g,y,j){return g===null||g.tag!==6?(g=Jc(y,p.mode,j),g.return=p,g):(g=r(g,y),g.return=p,g)}function c(p,g,y,j){var N=y.type;return N===Sr?d(p,g,y.props.children,j,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ka&&Dn(N)===g.type)?(g=r(g,y.props),Ds(g,y),g.return=p,g):(g=Xo(y.type,y.key,y.props,null,p.mode,j),Ds(g,y),g.return=p,g)}function u(p,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Zc(y,p.mode,j),g.return=p,g):(g=r(g,y.children||[]),g.return=p,g)}function d(p,g,y,j,N){return g===null||g.tag!==7?(g=Gn(y,p.mode,j,N),g.return=p,g):(g=r(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Jc(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fo:return y=Xo(g.type,g.key,g.props,null,p.mode,y),Ds(y,g),y.return=p,y;case Ls:return g=Zc(g,p.mode,y),g.return=p,g;case Ka:return g=Dn(g),h(p,g,y)}if(Vs(g)||ks(g))return g=Gn(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return h(p,xo(g),y);if(g.$$typeof===_a)return h(p,vo(p,g),y);wo(p,g)}return null}function f(p,g,y,j){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return N!==null?null:l(p,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fo:return y.key===N?c(p,g,y,j):null;case Ls:return y.key===N?u(p,g,y,j):null;case Ka:return y=Dn(y),f(p,g,y,j)}if(Vs(y)||ks(y))return N!==null?null:d(p,g,y,j,null);if(typeof y.then=="function")return f(p,g,xo(y),j);if(y.$$typeof===_a)return f(p,g,vo(p,y),j);wo(p,y)}return null}function m(p,g,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return p=p.get(y)||null,l(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case fo:return p=p.get(j.key===null?y:j.key)||null,c(g,p,j,N);case Ls:return p=p.get(j.key===null?y:j.key)||null,u(g,p,j,N);case Ka:return j=Dn(j),m(p,g,y,j,N)}if(Vs(j)||ks(j))return p=p.get(y)||null,d(g,p,j,N,null);if(typeof j.then=="function")return m(p,g,y,xo(j),N);if(j.$$typeof===_a)return m(p,g,y,vo(g,j),N);wo(g,j)}return null}function b(p,g,y,j){for(var N=null,_=null,S=g,E=g=0,C=null;S!==null&&E<y.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var R=f(p,S,y[E],j);if(R===null){S===null&&(S=C);break}e&&S&&R.alternate===null&&t(p,S),g=s(R,g,E),_===null?N=R:_.sibling=R,_=R,S=C}if(E===y.length)return a(p,S),W&&wa(p,E),N;if(S===null){for(;E<y.length;E++)S=h(p,y[E],j),S!==null&&(g=s(S,g,E),_===null?N=S:_.sibling=S,_=S);return W&&wa(p,E),N}for(S=n(S);E<y.length;E++)C=m(S,p,E,y[E],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),g=s(C,g,E),_===null?N=C:_.sibling=C,_=C);return e&&S.forEach(function(k){return t(p,k)}),W&&wa(p,E),N}function v(p,g,y,j){if(y==null)throw Error(A(151));for(var N=null,_=null,S=g,E=g=0,C=null,R=y.next();S!==null&&!R.done;E++,R=y.next()){S.index>E?(C=S,S=null):C=S.sibling;var k=f(p,S,R.value,j);if(k===null){S===null&&(S=C);break}e&&S&&k.alternate===null&&t(p,S),g=s(k,g,E),_===null?N=k:_.sibling=k,_=k,S=C}if(R.done)return a(p,S),W&&wa(p,E),N;if(S===null){for(;!R.done;E++,R=y.next())R=h(p,R.value,j),R!==null&&(g=s(R,g,E),_===null?N=R:_.sibling=R,_=R);return W&&wa(p,E),N}for(S=n(S);!R.done;E++,R=y.next())R=m(S,p,E,R.value,j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),g=s(R,g,E),_===null?N=R:_.sibling=R,_=R);return e&&S.forEach(function(L){return t(p,L)}),W&&wa(p,E),N}function x(p,g,y,j){if(typeof y=="object"&&y!==null&&y.type===Sr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fo:e:{for(var N=y.key;g!==null;){if(g.key===N){if(N=y.type,N===Sr){if(g.tag===7){a(p,g.sibling),j=r(g,y.props.children),j.return=p,p=j;break e}}else if(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ka&&Dn(N)===g.type){a(p,g.sibling),j=r(g,y.props),Ds(j,y),j.return=p,p=j;break e}a(p,g);break}else t(p,g);g=g.sibling}y.type===Sr?(j=Gn(y.props.children,p.mode,j,y.key),j.return=p,p=j):(j=Xo(y.type,y.key,y.props,null,p.mode,j),Ds(j,y),j.return=p,p=j)}return i(p);case Ls:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){a(p,g.sibling),j=r(g,y.children||[]),j.return=p,p=j;break e}else{a(p,g);break}else t(p,g);g=g.sibling}j=Zc(y,p.mode,j),j.return=p,p=j}return i(p);case Ka:return y=Dn(y),x(p,g,y,j)}if(Vs(y))return b(p,g,y,j);if(ks(y)){if(N=ks(y),typeof N!="function")throw Error(A(150));return y=N.call(y),v(p,g,y,j)}if(typeof y.then=="function")return x(p,g,xo(y),j);if(y.$$typeof===_a)return x(p,g,vo(p,y),j);wo(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(a(p,g.sibling),j=r(g,y),j.return=p,p=j):(a(p,g),j=Jc(y,p.mode,j),j.return=p,p=j),i(p)):a(p,g)}return function(p,g,y,j){try{wi=0;var N=x(p,g,y,j);return Yr=null,N}catch(S){if(S===gs||S===hc)throw S;var _=pt(29,S,null,p.mode);return _.lanes=j,_.return=p,_}finally{}}}var Zn=Sb(!0),Nb=Sb(!1),Fa=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function un(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=vl(e),gb(e,null,a),t}return dc(e,n,t,a),vl(e)}function Qs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Hy(e,a)}}function tu(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?r=s=i:s=s.next=i,a=a.next}while(a!==null);s===null?r=s=t:s=s.next=t}else r=s=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var wd=!1;function Js(){if(wd){var e=Gr;if(e!==null)throw e}}function Zs(e,t,a,n){wd=!1;var r=e.updateQueue;Fa=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=r.baseState;i=0,d=u=c=null,l=s;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(X&f)===f:(n&f)===f){f!==0&&f===ts&&(wd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,v=l;f=t;var x=a;switch(v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(x,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(x,h,f):b,f==null)break e;h=me({},h,f);break e;case 2:Fa=!0}}f=l.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=r.callbacks,m===null?r.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,i|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),xn|=i,e.lanes=i,e.memoizedState=h}}function Eb(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function Tb(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eb(a[e],t)}var as=fa(null),_l=fa(0);function pp(e,t){e=za,le(_l,e),le(as,t),za=e|t.baseLanes}function jd(){le(_l,za),le(as,as.current)}function of(){za=_l.current,Ve(as),Ve(_l)}var Nt=fa(null),zt=null;function Wa(e){var t=e.alternate;le(_e,_e.current&1),le(Nt,e),zt===null&&(t===null||as.current!==null||t.memoizedState!==null)&&(zt=e)}function _d(e){le(_e,_e.current),le(Nt,e),zt===null&&(zt=e)}function Ab(e){e.tag===22?(le(_e,_e.current),le(Nt,e),zt===null&&(zt=e)):Qa()}function Qa(){le(_e,_e.current),le(Nt,Nt.current)}function mt(e){Ve(Nt),zt===e&&(zt=null),Ve(_e)}var _e=fa(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$d(a)||Hd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=0,I=null,re=null,Te=null,Nl=!1,Kr=!1,er=!1,El=0,ji=0,Fr=null,A2=0;function xe(){throw Error(A(321))}function lf(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function cf(e,t,a,n,r,s){return Da=s,I=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?sv:xf,er=!1,s=a(n,r),er=!1,Kr&&(s=kb(t,a,n,r)),Cb(e),s}function Cb(e){$.H=_i;var t=re!==null&&re.next!==null;if(Da=0,Te=re=I=null,Nl=!1,ji=0,Fr=null,t)throw Error(A(300));e===null||ke||(e=e.dependencies,e!==null&&wl(e)&&(ke=!0))}function kb(e,t,a,n){I=e;var r=0;do{if(Kr&&(Fr=null),ji=0,Kr=!1,25<=r)throw Error(A(301));if(r+=1,Te=re=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=iv,s=t(a,n)}while(Kr);return s}function C2(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?Xi(t):t,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(I.flags|=1024),t}function uf(){var e=El!==0;return El=0,e}function df(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function hf(e){if(Nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nl=!1}Da=0,Te=re=I=null,Kr=!1,ji=El=0,Fr=null}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?I.memoizedState=Te=e:Te=Te.next=e,Te}function Se(){if(re===null){var e=I.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=Te===null?I.memoizedState:Te.next;if(t!==null)Te=t,re=e;else{if(e===null)throw I.alternate===null?Error(A(467)):Error(A(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Te===null?I.memoizedState=Te=e:Te=Te.next=e}return Te}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(e){var t=ji;return ji+=1,Fr===null&&(Fr=[]),e=_b(Fr,e,t),t=I,(Te===null?t.memoizedState:Te.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?sv:xf),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xi(e);if(e.$$typeof===_a)return Fe(e)}throw Error(A(438,String(e)))}function ff(e){var t=null,a=I.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=I.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=fc(),I.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=m_;return t.index++,a}function Ma(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=Se();return mf(t,re,e)}function mf(e,t,a){var n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=a;var r=e.baseQueue,s=n.pending;if(s!==null){if(r!==null){var i=r.next;r.next=s.next,s.next=i}t.baseQueue=r=s,n.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=i=null,c=null,u=t,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(X&h)===h:(Da&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ts&&(d=!0);else if((Da&f)===f){u=u.next,f===ts&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,i=s):c=c.next=h,I.lanes|=f,xn|=f;h=u.action,er&&a(s,h),s=u.hasEagerState?u.eagerState:a(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,i=s):c=c.next=f,I.lanes|=h,xn|=h;u=u.next}while(u!==null&&u!==t);if(c===null?i=s:c.next=l,!St(s,e.memoizedState)&&(ke=!0,d&&(a=Gr,a!==null)))throw a;e.memoizedState=s,e.baseState=i,e.baseQueue=c,n.lastRenderedState=s}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function au(e){var t=Se(),a=t.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,s=t.memoizedState;if(r!==null){a.pending=null;var i=r=r.next;do s=e(s,i.action),i=i.next;while(i!==r);St(s,t.memoizedState)||(ke=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Ob(e,t,a){var n=I,r=Se(),s=W;if(s){if(a===void 0)throw Error(A(407));a=a()}else a=t();var i=!St((re||r).memoizedState,a);if(i&&(r.memoizedState=a,ke=!0),r=r.queue,pf(Mb.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ns(9,{destroy:void 0},Db.bind(null,n,r,a,t),null),se===null)throw Error(A(349));s||Da&127||Rb(n,t,a)}return a}function Rb(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=I.updateQueue,t===null?(t=fc(),I.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Db(e,t,a,n){t.value=a,t.getSnapshot=n,Ub(t)&&zb(e)}function Mb(e,t,a){return a(function(){Ub(t)&&zb(e)})}function Ub(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function zb(e){var t=or(e,2);t!==null&&ot(t,e,2)}function Sd(e){var t=Qe();if(typeof e=="function"){var a=e;if(e=a(),er){en(!0);try{a()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t}function Pb(e,t,a,n){return e.baseState=a,mf(e,re,typeof n=="function"?n:Ma)}function k2(e,t,a,n,r){if(gc(e))throw Error(A(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};$.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,Bb(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Bb(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var s=$.T,i={};$.T=i;try{var l=a(r,n),c=$.S;c!==null&&c(i,l),gp(e,t,l)}catch(u){Nd(e,t,u)}finally{s!==null&&i.types!==null&&(s.types=i.types),$.T=s}}else try{s=a(r,n),gp(e,t,s)}catch(u){Nd(e,t,u)}}function gp(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){yp(e,t,n)},function(n){return Nd(e,t,n)}):yp(e,t,a)}function yp(e,t,a){t.status="fulfilled",t.value=a,Lb(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Bb(e,a)))}function Nd(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Lb(t),t=t.next;while(t!==n)}e.action=null}function Lb(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vb(e,t){return t}function bp(e,t){if(W){var a=se.formState;if(a!==null){e:{var n=I;if(W){if(he){t:{for(var r=he,s=Mt;r.nodeType!==8;){if(!s){r=null;break t}if(r=Pt(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){he=Pt(r.nextSibling),n=r.data==="F!";break e}}bn(n)}n=!1}n&&(t=a[0])}}return a=Qe(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vb,lastRenderedState:t},a.queue=n,a=av.bind(null,I,n),n.dispatch=a,n=Sd(!1),s=vf.bind(null,I,!1,n.queue),n=Qe(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=k2.bind(null,I,r,s,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function vp(e){var t=Se();return qb(t,re,e)}function qb(e,t,a){if(t=mf(e,t,Vb)[0],e=Qo(Ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Xi(t)}catch(i){throw i===gs?hc:i}else n=t;t=Se();var r=t.queue,s=r.dispatch;return a!==t.memoizedState&&(I.flags|=2048,ns(9,{destroy:void 0},O2.bind(null,r,a),null)),[n,s,e]}function O2(e,t){e.action=t}function xp(e){var t=Se(),a=re;if(a!==null)return qb(t,a,e);Se(),t=t.memoizedState,a=Se();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function ns(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=I.updateQueue,t===null&&(t=fc(),I.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function $b(){return Se().memoizedState}function Jo(e,t,a,n){var r=Qe();I.flags|=e,r.memoizedState=ns(1|t,{destroy:void 0},a,n===void 0?null:n)}function pc(e,t,a,n){var r=Se();n=n===void 0?null:n;var s=r.memoizedState.inst;re!==null&&n!==null&&lf(n,re.memoizedState.deps)?r.memoizedState=ns(t,s,a,n):(I.flags|=e,r.memoizedState=ns(1|t,s,a,n))}function wp(e,t){Jo(8390656,8,e,t)}function pf(e,t){pc(2048,8,e,t)}function R2(e){I.flags|=4;var t=I.updateQueue;if(t===null)t=fc(),I.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hb(e){var t=Se().memoizedState;return R2({ref:t,nextImpl:e}),function(){if(J&2)throw Error(A(440));return t.impl.apply(void 0,arguments)}}function Ib(e,t){return pc(4,2,e,t)}function Gb(e,t){return pc(4,4,e,t)}function Yb(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kb(e,t,a){a=a!=null?a.concat([e]):null,pc(4,4,Yb.bind(null,t,e),a)}function gf(){}function Fb(e,t){var a=Se();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&lf(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Xb(e,t){var a=Se();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&lf(t,n[1]))return n[0];if(n=e(),er){en(!0);try{e()}finally{en(!1)}}return a.memoizedState=[n,t],n}function yf(e,t,a){return a===void 0||Da&1073741824&&!(X&261930)?e.memoizedState=t:(e.memoizedState=a,e=Pv(),I.lanes|=e,xn|=e,a)}function Wb(e,t,a,n){return St(a,t)?a:as.current!==null?(e=yf(e,a,n),St(e,t)||(ke=!0),e):!(Da&42)||Da&1073741824&&!(X&261930)?(ke=!0,e.memoizedState=a):(e=Pv(),I.lanes|=e,xn|=e,t)}function Qb(e,t,a,n,r){var s=Z.p;Z.p=s!==0&&8>s?s:8;var i=$.T,l={};$.T=l,vf(e,!1,t,a);try{var c=r(),u=$.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=T2(c,n);ei(e,t,d,jt(e))}else ei(e,t,n,jt(e))}catch(h){ei(e,t,{then:function(){},status:"rejected",reason:h},jt())}finally{Z.p=s,i!==null&&l.types!==null&&(i.types=l.types),$.T=i}}function D2(){}function Ed(e,t,a,n){if(e.tag!==5)throw Error(A(476));var r=Jb(e).queue;Qb(e,r,t,In,a===null?D2:function(){return Zb(e),a(n)})}function Jb(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:In,baseState:In,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:In},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zb(e){var t=Jb(e);t.next===null&&(t=e.alternate.memoizedState),ei(e,t.next.queue,{},jt())}function bf(){return Fe(Ei)}function ev(){return Se().memoizedState}function tv(){return Se().memoizedState}function M2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=cn(a);var n=un(t,e,a);n!==null&&(ot(n,t,a),Qs(n,t,a)),t={cache:af()},e.payload=t;return}t=t.return}}function U2(e,t,a){var n=jt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(e)?nv(t,a):(a=Jh(e,t,a,n),a!==null&&(ot(a,e,n),rv(a,t,n)))}function av(e,t,a){var n=jt();ei(e,t,a,n)}function ei(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(e))nv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,a);if(r.hasEagerState=!0,r.eagerState=l,St(l,i))return dc(e,t,r,0),se===null&&uc(),!1}catch{}finally{}if(a=Jh(e,t,r,n),a!==null)return ot(a,e,n),rv(a,t,n),!0}return!1}function vf(e,t,a,n){if(n={lane:2,revertLane:Af(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gc(e)){if(t)throw Error(A(479))}else t=Jh(e,a,n,2),t!==null&&ot(t,e,2)}function gc(e){var t=e.alternate;return e===I||t!==null&&t===I}function nv(e,t){Kr=Nl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function rv(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Hy(e,a)}}var _i={readContext:Fe,use:mc,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};_i.useEffectEvent=xe;var sv={readContext:Fe,use:mc,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:wp,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Jo(4194308,4,Yb.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){Jo(4,2,e,t)},useMemo:function(e,t){var a=Qe();t=t===void 0?null:t;var n=e();if(er){en(!0);try{e()}finally{en(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Qe();if(a!==void 0){var r=a(t);if(er){en(!0);try{a(t)}finally{en(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=U2.bind(null,I,e),[n.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:function(e){e=Sd(e);var t=e.queue,a=av.bind(null,I,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(e,t){var a=Qe();return yf(a,e,t)},useTransition:function(){var e=Sd(!1);return e=Qb.bind(null,I,e.queue,!0,!1),Qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=I,r=Qe();if(W){if(a===void 0)throw Error(A(407));a=a()}else{if(a=t(),se===null)throw Error(A(349));X&127||Rb(n,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,wp(Mb.bind(null,n,s,e),[e]),n.flags|=2048,ns(9,{destroy:void 0},Db.bind(null,n,s,a,t),null),a},useId:function(){var e=Qe(),t=se.identifierPrefix;if(W){var a=oa,n=ia;a=(n&~(1<<32-wt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=El++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=A2++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var t=Qe();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=vf.bind(null,I,!0,a),a.dispatch=t,[e,t]},useMemoCache:ff,useCacheRefresh:function(){return Qe().memoizedState=M2.bind(null,I)},useEffectEvent:function(e){var t=Qe(),a={impl:e};return t.memoizedState=a,function(){if(J&2)throw Error(A(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Fe,use:mc,useCallback:Fb,useContext:Fe,useEffect:pf,useImperativeHandle:Kb,useInsertionEffect:Ib,useLayoutEffect:Gb,useMemo:Xb,useReducer:Qo,useRef:$b,useState:function(){return Qo(Ma)},useDebugValue:gf,useDeferredValue:function(e,t){var a=Se();return Wb(a,re.memoizedState,e,t)},useTransition:function(){var e=Qo(Ma)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:Ob,useId:ev,useHostTransitionStatus:bf,useFormState:vp,useActionState:vp,useOptimistic:function(e,t){var a=Se();return Pb(a,re,e,t)},useMemoCache:ff,useCacheRefresh:tv};xf.useEffectEvent=Hb;var iv={readContext:Fe,use:mc,useCallback:Fb,useContext:Fe,useEffect:pf,useImperativeHandle:Kb,useInsertionEffect:Ib,useLayoutEffect:Gb,useMemo:Xb,useReducer:au,useRef:$b,useState:function(){return au(Ma)},useDebugValue:gf,useDeferredValue:function(e,t){var a=Se();return re===null?yf(a,e,t):Wb(a,re.memoizedState,e,t)},useTransition:function(){var e=au(Ma)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:Xi(e),t]},useSyncExternalStore:Ob,useId:ev,useHostTransitionStatus:bf,useFormState:xp,useActionState:xp,useOptimistic:function(e,t){var a=Se();return re!==null?Pb(a,re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:tv};iv.useEffectEvent=Hb;function nu(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:me({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Td={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=jt(),r=cn(n);r.payload=t,a!=null&&(r.callback=a),t=un(e,r,n),t!==null&&(ot(t,e,n),Qs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=jt(),r=cn(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=un(e,r,n),t!==null&&(ot(t,e,n),Qs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),n=cn(a);n.tag=2,t!=null&&(n.callback=t),t=un(e,n,a),t!==null&&(ot(t,e,a),Qs(t,e,a))}};function jp(e,t,a,n,r,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!bi(a,n)||!bi(r,s):!0}function _p(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Td.enqueueReplaceState(t,t.state,null)}function tr(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=me({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function ov(e){bl(e)}function lv(e){console.error(e)}function cv(e){bl(e)}function Tl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sp(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ad(e,t,a){return a=cn(a),a.tag=3,a.payload={element:null},a.callback=function(){Tl(e,t)},a}function uv(e){return e=cn(e),e.tag=3,e}function dv(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var s=n.value;e.payload=function(){return r(s)},e.callback=function(){Sp(t,a,n)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Sp(t,a,n),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function z2(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ps(t,a,r,!0),a=Nt.current,a!==null){switch(a.tag){case 31:case 13:return zt===null?Rl():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===jl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),mu(e,n,r)),!1;case 22:return a.flags|=65536,n===jl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),mu(e,n,r)),!1}throw Error(A(435,a.tag))}return mu(e,n,r),Rl(),!1}if(W)return t=Nt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==pd&&(e=Error(A(422),{cause:n}),xi(Dt(e,a)))):(n!==pd&&(t=Error(A(423),{cause:n}),xi(Dt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Dt(n,a),r=Ad(e.stateNode,n,r),tu(e,r),je!==4&&(je=2)),!1;var s=Error(A(520),{cause:n});if(s=Dt(s,a),ni===null?ni=[s]:ni.push(s),je!==4&&(je=2),t===null)return!0;n=Dt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Ad(a.stateNode,n,e),tu(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(dn===null||!dn.has(s))))return a.flags|=65536,r&=-r,a.lanes|=r,r=uv(r),dv(r,e,a,n),tu(a,r),!1}a=a.return}while(a!==null);return!1}var wf=Error(A(461)),ke=!1;function Ge(e,t,a,n){t.child=e===null?Nb(t,null,a,n):Zn(t,e.child,a,n)}function Np(e,t,a,n,r){a=a.render;var s=t.ref;if("ref"in n){var i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}else i=n;return Jn(t),n=cf(e,t,a,i,s,r),l=uf(),e!==null&&!ke?(df(e,t,r),Ua(e,t,r)):(W&&l&&ef(t),t.flags|=1,Ge(e,t,n,r),t.child)}function Ep(e,t,a,n,r){if(e===null){var s=a.type;return typeof s=="function"&&!Zh(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,hv(e,t,s,n,r)):(e=Xo(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!jf(e,r)){var i=s.memoizedProps;if(a=a.compare,a=a!==null?a:bi,a(i,n)&&e.ref===t.ref)return Ua(e,t,r)}return t.flags|=1,e=Ta(s,n),e.ref=t.ref,e.return=t,t.child=e}function hv(e,t,a,n,r){if(e!==null){var s=e.memoizedProps;if(bi(s,n)&&e.ref===t.ref)if(ke=!1,t.pendingProps=n=s,jf(e,r))e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,Ua(e,t,r)}return Cd(e,t,a,n,r)}function fv(e,t,a,n){var r=n.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~s}else n=0,t.child=null;return Tp(e,t,s,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wo(t,s!==null?s.cachePool:null),s!==null?pp(t,s):jd(),Ab(t);else return n=t.lanes=536870912,Tp(e,t,s!==null?s.baseLanes|a:a,a,n)}else s!==null?(Wo(t,s.cachePool),pp(t,s),Qa(),t.memoizedState=null):(e!==null&&Wo(t,null),jd(),Qa());return Ge(e,t,r,a),t.child}function $s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tp(e,t,a,n,r){var s=nf();return s=s===null?null:{parent:Ce._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Wo(t,null),jd(),Ab(t),e!==null&&ps(e,t,n,!0),t.childLanes=r,null}function Zo(e,t){return t=Al({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ap(e,t,a){return Zn(t,e.child,null,a),e=Zo(t,t.pendingProps),e.flags|=2,mt(t),t.memoizedState=null,e}function P2(e,t,a){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(W){if(n.mode==="hidden")return e=Zo(t,n),t.lanes=536870912,$s(null,e);if(_d(t),(e=he)?(e=sx(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yn!==null?{id:ia,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=bb(e),a.return=t,t.child=a,Ke=t,he=null)):e=null,e===null)throw bn(t);return t.lanes=536870912,null}return Zo(t,n)}var s=e.memoizedState;if(s!==null){var i=s.dehydrated;if(_d(t),r)if(t.flags&256)t.flags&=-257,t=Ap(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(A(558));else if(ke||ps(e,t,a,!1),r=(a&e.childLanes)!==0,ke||r){if(n=se,n!==null&&(i=Iy(n,a),i!==0&&i!==s.retryLane))throw s.retryLane=i,or(e,i),ot(n,e,i),wf;Rl(),t=Ap(e,t,a)}else e=s.treeContext,he=Pt(i.nextSibling),Ke=t,W=!0,ln=null,Mt=!1,e!==null&&xb(t,e),t=Zo(t,n),t.flags|=4096;return t}return e=Ta(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function el(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(A(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Cd(e,t,a,n,r){return Jn(t),a=cf(e,t,a,n,void 0,r),n=uf(),e!==null&&!ke?(df(e,t,r),Ua(e,t,r)):(W&&n&&ef(t),t.flags|=1,Ge(e,t,a,r),t.child)}function Cp(e,t,a,n,r,s){return Jn(t),t.updateQueue=null,a=kb(t,n,a,r),Cb(e),n=uf(),e!==null&&!ke?(df(e,t,s),Ua(e,t,s)):(W&&n&&ef(t),t.flags|=1,Ge(e,t,a,s),t.child)}function kp(e,t,a,n,r){if(Jn(t),t.stateNode===null){var s=Rr,i=a.contextType;typeof i=="object"&&i!==null&&(s=Fe(i)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Td,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},sf(t),i=a.contextType,s.context=typeof i=="object"&&i!==null?Fe(i):Rr,s.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(nu(t,a,i,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&Td.enqueueReplaceState(s,s.state,null),Zs(t,n,s,r),Js(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,c=tr(a,l);s.props=c;var u=s.context,d=a.contextType;i=Rr,typeof d=="object"&&d!==null&&(i=Fe(d));var h=a.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==i)&&_p(t,s,n,i),Fa=!1;var f=t.memoizedState;s.state=f,Zs(t,n,s,r),Js(),u=t.memoizedState,l||f!==u||Fa?(typeof h=="function"&&(nu(t,a,h,n),u=t.memoizedState),(c=Fa||jp(t,a,c,n,f,u,i))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=i,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,xd(e,t),i=t.memoizedProps,d=tr(a,i),s.props=d,h=t.pendingProps,f=s.context,u=a.contextType,c=Rr,typeof u=="object"&&u!==null&&(c=Fe(u)),l=a.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==h||f!==c)&&_p(t,s,n,c),Fa=!1,f=t.memoizedState,s.state=f,Zs(t,n,s,r),Js();var m=t.memoizedState;i!==h||f!==m||Fa||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof l=="function"&&(nu(t,a,l,n),m=t.memoizedState),(d=Fa||jp(t,a,d,n,f,m,c)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=c,n=d):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,el(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=Zn(t,e.child,null,r),t.child=Zn(t,null,a,r)):Ge(e,t,a,r),t.memoizedState=s.state,e=t.child):e=Ua(e,t,r),e}function Op(e,t,a,n){return Qn(),t.flags|=256,Ge(e,t,a,n),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:jb()}}function iu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=bt),e}function mv(e,t,a){var n=t.pendingProps,r=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),i&&(r=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(W){if(r?Wa(t):Qa(),(e=he)?(e=sx(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yn!==null?{id:ia,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=bb(e),a.return=t,t.child=a,Ke=t,he=null)):e=null,e===null)throw bn(t);return Hd(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,r?(Qa(),r=t.mode,l=Al({mode:"hidden",children:l},r),n=Gn(n,r,a,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=su(a),n.childLanes=iu(e,i,a),t.memoizedState=ru,$s(null,n)):(Wa(t),kd(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)t.flags&256?(Wa(t),t.flags&=-257,t=ou(e,t,a)):t.memoizedState!==null?(Qa(),t.child=e.child,t.flags|=128,t=null):(Qa(),l=n.fallback,r=t.mode,n=Al({mode:"visible",children:n.children},r),l=Gn(l,r,a,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,Zn(t,e.child,null,a),n=t.child,n.memoizedState=su(a),n.childLanes=iu(e,i,a),t.memoizedState=ru,t=$s(null,n));else if(Wa(t),Hd(l)){if(i=l.nextSibling&&l.nextSibling.dataset,i)var u=i.dgst;i=u,n=Error(A(419)),n.stack="",n.digest=i,xi({value:n,source:null,stack:null}),t=ou(e,t,a)}else if(ke||ps(e,t,a,!1),i=(a&e.childLanes)!==0,ke||i){if(i=se,i!==null&&(n=Iy(i,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,or(e,n),ot(i,e,n),wf;$d(l)||Rl(),t=ou(e,t,a)}else $d(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,he=Pt(l.nextSibling),Ke=t,W=!0,ln=null,Mt=!1,e!==null&&xb(t,e),t=kd(t,n.children),t.flags|=4096);return t}return r?(Qa(),l=n.fallback,r=t.mode,c=e.child,u=c.sibling,n=Ta(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=Ta(u,l):(l=Gn(l,r,a,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,$s(null,n),n=t.child,l=e.child.memoizedState,l===null?l=su(a):(r=l.cachePool,r!==null?(c=Ce._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=jb(),l={baseLanes:l.baseLanes|a,cachePool:r}),n.memoizedState=l,n.childLanes=iu(e,i,a),t.memoizedState=ru,$s(e.child,n)):(Wa(t),a=e.child,e=a.sibling,a=Ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function kd(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=pt(22,e,null,t),e.lanes=0,e}function ou(e,t,a){return Zn(t,e.child,null,a),e=kd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yd(e.return,t,a)}function lu(e,t,a,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=a,i.tailMode=r,i.treeForkCount=s)}function pv(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;n=n.children;var i=_e.current,l=(i&2)!==0;if(l?(i=i&1|2,t.flags|=128):i&=1,le(_e,i),Ge(e,t,n,a),n=W?vi:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,a,t);else if(e.tag===19)Rp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Sl(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),lu(t,!1,r,a,s,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Sl(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}lu(t,!0,a,null,s,n);break;case"together":lu(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(a&t.childLanes))if(e!==null){if(ps(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,a=Ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function jf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function B2(e,t,a){switch(t.tag){case 3:ml(t,t.stateNode.containerInfo),Xa(t,Ce,e.memoizedState.cache),Qn();break;case 27:case 5:rd(t);break;case 4:ml(t,t.stateNode.containerInfo);break;case 10:Xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_d(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Wa(t),t.flags|=128,null):a&t.child.childLanes?mv(e,t,a):(Wa(t),e=Ua(e,t,a),e!==null?e.sibling:null);Wa(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ps(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return pv(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(_e,_e.current),n)break;return null;case 22:return t.lanes=0,fv(e,t,a,t.pendingProps);case 24:Xa(t,Ce,e.memoizedState.cache)}return Ua(e,t,a)}function gv(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ke=!0;else{if(!jf(e,a)&&!(t.flags&128))return ke=!1,B2(e,t,a);ke=!!(e.flags&131072)}else ke=!1,W&&t.flags&1048576&&vb(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Dn(t.elementType),t.type=e,typeof e=="function")Zh(e)?(n=tr(e,n),t.tag=1,t=kp(null,t,e,n,a)):(t.tag=0,t=Cd(null,t,e,n,a));else{if(e!=null){var r=e.$$typeof;if(r===Lh){t.tag=11,t=Np(null,t,e,n,a);break e}else if(r===Vh){t.tag=14,t=Ep(null,t,e,n,a);break e}}throw t=ad(e)||e,Error(A(306,t,""))}}return t;case 0:return Cd(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=tr(n,t.pendingProps),kp(e,t,n,r,a);case 3:e:{if(ml(t,t.stateNode.containerInfo),e===null)throw Error(A(387));n=t.pendingProps;var s=t.memoizedState;r=s.element,xd(e,t),Zs(t,n,null,a);var i=t.memoizedState;if(n=i.cache,Xa(t,Ce,n),n!==s.cache&&bd(t,[Ce],a,!0),Js(),n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Op(e,t,n,a);break e}else if(n!==r){r=Dt(Error(A(424)),t),xi(r),t=Op(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Pt(e.firstChild),Ke=t,W=!0,ln=null,Mt=!0,a=Nb(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qn(),n===r){t=Ua(e,t,a);break e}Ge(e,t,n,a)}t=t.child}return t;case 26:return el(e,t),e===null?(a=Jp(t.type,null,t.pendingProps,null))?t.memoizedState=a:W||(a=t.type,e=t.pendingProps,n=zl(on.current).createElement(a),n[Ye]=t,n[lt]=e,Xe(n,a,e),Be(n),t.stateNode=n):t.memoizedState=Jp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rd(t),e===null&&W&&(n=t.stateNode=ix(t.type,t.pendingProps,on.current),Ke=t,Mt=!0,r=he,Sn(t.type)?(Id=r,he=Pt(n.firstChild)):he=r),Ge(e,t,t.pendingProps.children,a),el(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&W&&((r=n=he)&&(n=mS(n,t.type,t.pendingProps,Mt),n!==null?(t.stateNode=n,Ke=t,he=Pt(n.firstChild),Mt=!1,r=!0):r=!1),r||bn(t)),rd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,n=s.children,Vd(r,s)?n=null:i!==null&&Vd(r,i)&&(t.flags|=32),t.memoizedState!==null&&(r=cf(e,t,C2,null,null,a),Ei._currentValue=r),el(e,t),Ge(e,t,n,a),t.child;case 6:return e===null&&W&&((e=a=he)&&(a=pS(a,t.pendingProps,Mt),a!==null?(t.stateNode=a,Ke=t,he=null,e=!0):e=!1),e||bn(t)),null;case 13:return mv(e,t,a);case 4:return ml(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zn(t,null,n,a):Ge(e,t,n,a),t.child;case 11:return Np(e,t,t.type,t.pendingProps,a);case 7:return Ge(e,t,t.pendingProps,a),t.child;case 8:return Ge(e,t,t.pendingProps.children,a),t.child;case 12:return Ge(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Xa(t,t.type,n.value),Ge(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Jn(t),r=Fe(r),n=n(r),t.flags|=1,Ge(e,t,n,a),t.child;case 14:return Ep(e,t,t.type,t.pendingProps,a);case 15:return hv(e,t,t.type,t.pendingProps,a);case 19:return pv(e,t,a);case 31:return P2(e,t,a);case 22:return fv(e,t,a,t.pendingProps);case 24:return Jn(t),n=Fe(Ce),e===null?(r=nf(),r===null&&(r=se,s=af(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=a),r=s),t.memoizedState={parent:n,cache:r},sf(t),Xa(t,Ce,r)):(e.lanes&a&&(xd(e,t),Zs(t,null,null,a),Js()),r=e.memoizedState,s=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Xa(t,Ce,n)):(n=s.cache,Xa(t,Ce,n),n!==r.cache&&bd(t,[Ce],a,!0))),Ge(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function ga(e){e.flags|=4}function cu(e,t,a,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Vv())e.flags|=8192;else throw Kn=jl,rf}else e.flags&=-16777217}function Dp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!cx(t))if(Vv())e.flags|=8192;else throw Kn=jl,rf}function jo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qy():536870912,e.lanes|=t,rs|=t)}function Ms(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function L2(e,t,a){var n=t.pendingProps;switch(tf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(t),null;case 1:return ue(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Aa(Ce),Jr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ur(t)?ga(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,eu())),ue(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(ga(t),s!==null?(ue(t),Dp(t,s)):(ue(t),cu(t,r,null,n,a))):s?s!==e.memoizedState?(ga(t),ue(t),Dp(t,s)):(ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ga(t),ue(t),cu(t,r,e,n,a)),null;case 27:if(pl(t),a=on.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(!n){if(t.stateNode===null)throw Error(A(166));return ue(t),null}e=ca.current,ur(t)?lp(t):(e=ix(r,n,a),t.stateNode=e,ga(t))}return ue(t),null;case 5:if(pl(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(!n){if(t.stateNode===null)throw Error(A(166));return ue(t),null}if(s=ca.current,ur(t))lp(t);else{var i=zl(on.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}s[Ye]=t,s[lt]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=s;e:switch(Xe(s,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(t)}}return ue(t),cu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(e=on.current,ur(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=Ke,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Ye]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||ax(e.nodeValue,a)),e||bn(t,!0)}else e=zl(e).createTextNode(n),e[Ye]=t,t.stateNode=e}return ue(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=ur(t),a!==null){if(e===null){if(!n)throw Error(A(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(557));e[Ye]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),e=!1}else a=eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(mt(t),t):(mt(t),null);if(t.flags&128)throw Error(A(558))}return ue(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ur(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(A(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));r[Ye]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),r=!1}else r=eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(mt(t),t):(mt(t),null)}return mt(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),jo(t,t.updateQueue),ue(t),null);case 4:return Jr(),e===null&&Cf(t.stateNode.containerInfo),ue(t),null;case 10:return Aa(t.type),ue(t),null;case 19:if(Ve(_e),n=t.memoizedState,n===null)return ue(t),null;if(r=(t.flags&128)!==0,s=n.rendering,s===null)if(r)Ms(n,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sl(e),s!==null){for(t.flags|=128,Ms(n,!1),e=s.updateQueue,t.updateQueue=e,jo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)yb(a,e),a=a.sibling;return le(_e,_e.current&1|2),W&&wa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&vt()>kl&&(t.flags|=128,r=!0,Ms(n,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,jo(t,e),Ms(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!W)return ue(t),null}else 2*vt()-n.renderingStartTime>kl&&a!==536870912&&(t.flags|=128,r=!0,Ms(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=vt(),e.sibling=null,a=_e.current,le(_e,r?a&1|2:a&1),W&&wa(t,n.treeForkCount),e):(ue(t),null);case 22:case 23:return mt(t),of(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(ue(t),t.subtreeFlags&6&&(t.flags|=8192)):ue(t),a=t.updateQueue,a!==null&&jo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Ve(Yn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Aa(Ce),ue(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function V2(e,t){switch(tf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Aa(Ce),Jr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pl(t),null;case 31:if(t.memoizedState!==null){if(mt(t),t.alternate===null)throw Error(A(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(_e),null;case 4:return Jr(),null;case 10:return Aa(t.type),null;case 22:case 23:return mt(t),of(),e!==null&&Ve(Yn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Aa(Ce),null;case 25:return null;default:return null}}function yv(e,t){switch(tf(t),t.tag){case 3:Aa(Ce),Jr();break;case 26:case 27:case 5:pl(t);break;case 4:Jr();break;case 31:t.memoizedState!==null&&mt(t);break;case 13:mt(t);break;case 19:Ve(_e);break;case 10:Aa(t.type);break;case 22:case 23:mt(t),of(),e!==null&&Ve(Yn);break;case 24:Aa(Ce)}}function Wi(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var s=a.create,i=a.inst;n=s(),i.destroy=n}a=a.next}while(a!==r)}}catch(l){ae(t,t.return,l)}}function vn(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){var i=n.inst,l=i.destroy;if(l!==void 0){i.destroy=void 0,r=t;var c=a,u=l;try{u()}catch(d){ae(r,c,d)}}}n=n.next}while(n!==s)}}catch(d){ae(t,t.return,d)}}function bv(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tb(t,a)}catch(n){ae(e,e.return,n)}}}function vv(e,t,a){a.props=tr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ae(e,t,n)}}function ti(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){ae(e,t,r)}}function la(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){ae(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){ae(e,t,r)}else a.current=null}function xv(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){ae(e,e.return,r)}}function uu(e,t,a){try{var n=e.stateNode;lS(n,e.type,a,t),n[lt]=t}catch(r){ae(e,e.return,r)}}function wv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sn(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Sa));else if(n!==4&&(n===27&&Sn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Od(e,t,a),e=e.sibling;e!==null;)Od(e,t,a),e=e.sibling}function Cl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Sn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cl(e,t,a),e=e.sibling;e!==null;)Cl(e,t,a),e=e.sibling}function jv(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Xe(t,n,a),t[Ye]=e,t[lt]=a}catch(s){ae(e,e.return,s)}}var ja=!1,Ae=!1,hu=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function q2(e,t){if(e=e.containerInfo,Bd=Vl,e=cb(e),Wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==a||r!==0&&h.nodeType!==3||(l=i+r),h!==s||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===a&&++u===r&&(l=i),f===s&&++d===n&&(c=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}a=l===-1||c===-1?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:e,selectionRange:a},Vl=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,r=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var b=tr(a.type,r);e=n.getSnapshotBeforeUpdate(b,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){ae(a,a.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)qd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function _v(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ba(e,a),n&4&&Wi(5,a);break;case 1:if(ba(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){ae(a,a.return,i)}else{var r=tr(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ae(a,a.return,i)}}n&64&&bv(a),n&512&&ti(a,a.return);break;case 3:if(ba(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tb(e,t)}catch(i){ae(a,a.return,i)}}break;case 27:t===null&&n&4&&jv(a);case 26:case 5:ba(e,a),t===null&&n&4&&xv(a),n&512&&ti(a,a.return);break;case 12:ba(e,a);break;case 31:ba(e,a),n&4&&Ev(e,a);break;case 13:ba(e,a),n&4&&Tv(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=W2.bind(null,a),gS(e,a))));break;case 22:if(n=a.memoizedState!==null||ja,!n){t=t!==null&&t.memoizedState!==null||Ae,r=ja;var s=Ae;ja=n,(Ae=t)&&!s?va(e,a,(a.subtreeFlags&8772)!==0):ba(e,a),ja=r,Ae=s}break;case 30:break;default:ba(e,a)}}function Sv(e){var t=e.alternate;t!==null&&(e.alternate=null,Sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ih(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,rt=!1;function ya(e,t,a){for(a=a.child;a!==null;)Nv(e,t,a),a=a.sibling}function Nv(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Hi,a)}catch{}switch(a.tag){case 26:Ae||la(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||la(a,t);var n=ge,r=rt;Sn(a.type)&&(ge=a.stateNode,rt=!1),ya(e,t,a),si(a.stateNode),ge=n,rt=r;break;case 5:Ae||la(a,t);case 6:if(n=ge,r=rt,ge=null,ya(e,t,a),ge=n,rt=r,ge!==null)if(rt)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(s){ae(a,t,s)}else try{ge.removeChild(a.stateNode)}catch(s){ae(a,t,s)}break;case 18:ge!==null&&(rt?(e=ge,Kp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ls(e)):Kp(ge,a.stateNode));break;case 4:n=ge,r=rt,ge=a.stateNode.containerInfo,rt=!0,ya(e,t,a),ge=n,rt=r;break;case 0:case 11:case 14:case 15:vn(2,a,t),Ae||vn(4,a,t),ya(e,t,a);break;case 1:Ae||(la(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&vv(a,t,n)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Ae=(n=Ae)||a.memoizedState!==null,ya(e,t,a),Ae=n;break;default:ya(e,t,a)}}function Ev(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(a){ae(t,t.return,a)}}}function Tv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(a){ae(t,t.return,a)}}function $2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mp),t;default:throw Error(A(435,e.tag))}}function _o(e,t){var a=$2(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var r=Q2.bind(null,e,n);n.then(r,r)}})}function at(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 27:if(Sn(l.type)){ge=l.stateNode,rt=!1;break e}break;case 5:ge=l.stateNode,rt=!1;break e;case 3:case 4:ge=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(ge===null)throw Error(A(160));Nv(s,i,r),ge=null,rt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Av(t,e),t=t.sibling}var Xt=null;function Av(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:at(t,e),nt(e),n&4&&(vn(3,e,e.return),Wi(3,e),vn(5,e,e.return));break;case 1:at(t,e),nt(e),n&512&&(Ae||a===null||la(a,a.return)),n&64&&ja&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Xt;if(at(t,e),nt(e),n&512&&(Ae||a===null||la(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Yi]||s[Ye]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(n),r.head.insertBefore(s,r.querySelector("head > title"))),Xe(s,n,a),s[Ye]=e,Be(s),n=s;break e;case"link":var i=eg("link","href",r).get(n+(a.href||""));if(i){for(var l=0;l<i.length;l++)if(s=i[l],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(l,1);break t}}s=r.createElement(n),Xe(s,n,a),r.head.appendChild(s);break;case"meta":if(i=eg("meta","content",r).get(n+(a.content||""))){for(l=0;l<i.length;l++)if(s=i[l],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(l,1);break t}}s=r.createElement(n),Xe(s,n,a),r.head.appendChild(s);break;default:throw Error(A(468,n))}s[Ye]=e,Be(s),n=s}e.stateNode=n}else tg(r,e.type,e.stateNode);else e.stateNode=Zp(r,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?tg(r,e.type,e.stateNode):Zp(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:at(t,e),nt(e),n&512&&(Ae||a===null||la(a,a.return)),a!==null&&n&4&&uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(at(t,e),nt(e),n&512&&(Ae||a===null||la(a,a.return)),e.flags&32){r=e.stateNode;try{es(r,"")}catch(b){ae(e,e.return,b)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,uu(e,r,a!==null?a.memoizedProps:r)),n&1024&&(hu=!0);break;case 6:if(at(t,e),nt(e),n&4){if(e.stateNode===null)throw Error(A(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(b){ae(e,e.return,b)}}break;case 3:if(nl=null,r=Xt,Xt=Pl(t.containerInfo),at(t,e),Xt=r,nt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(b){ae(e,e.return,b)}hu&&(hu=!1,Cv(e));break;case 4:n=Xt,Xt=Pl(e.stateNode.containerInfo),at(t,e),nt(e),Xt=n;break;case 12:at(t,e),nt(e);break;case 31:at(t,e),nt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_o(e,n)));break;case 13:at(t,e),nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=vt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_o(e,n)));break;case 22:r=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,u=ja,d=Ae;if(ja=u||r,Ae=d||c,at(t,e),Ae=d,ja=u,nt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||c||ja||Ae||Mn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(s=c.stateNode,r)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(b){ae(c,c.return,b)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(b){ae(c,c.return,b)}}}else if(t.tag===18){if(a===null){c=t;try{var m=c.stateNode;r?Fp(m,!0):Fp(c.stateNode,!1)}catch(b){ae(c,c.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,_o(e,a))));break;case 19:at(t,e),nt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_o(e,n)));break;case 30:break;case 21:break;default:at(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(wv(n)){a=n;break}n=n.return}if(a==null)throw Error(A(160));switch(a.tag){case 27:var r=a.stateNode,s=du(e);Cl(e,s,r);break;case 5:var i=a.stateNode;a.flags&32&&(es(i,""),a.flags&=-33);var l=du(e);Cl(e,l,i);break;case 3:case 4:var c=a.stateNode.containerInfo,u=du(e);Od(e,u,c);break;default:throw Error(A(161))}}catch(d){ae(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_v(e,t.alternate,t),t=t.sibling}function Mn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vn(4,t,t.return),Mn(t);break;case 1:la(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&vv(t,t.return,a),Mn(t);break;case 27:si(t.stateNode);case 26:case 5:la(t,t.return),Mn(t);break;case 22:t.memoizedState===null&&Mn(t);break;case 30:Mn(t);break;default:Mn(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:va(r,s,a),Wi(4,s);break;case 1:if(va(r,s,a),n=s,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){ae(n,n.return,u)}if(n=s,r=n.updateQueue,r!==null){var l=n.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)Eb(c[r],l)}catch(u){ae(n,n.return,u)}}a&&i&64&&bv(s),ti(s,s.return);break;case 27:jv(s);case 26:case 5:va(r,s,a),a&&n===null&&i&4&&xv(s),ti(s,s.return);break;case 12:va(r,s,a);break;case 31:va(r,s,a),a&&i&4&&Ev(r,s);break;case 13:va(r,s,a),a&&i&4&&Tv(r,s);break;case 22:s.memoizedState===null&&va(r,s,a),ti(s,s.return);break;case 30:break;default:va(r,s,a)}t=t.sibling}}function _f(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fi(a))}function Sf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fi(e))}function It(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kv(e,t,a,n),t=t.sibling}function kv(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,n),r&2048&&Wi(9,t);break;case 1:It(e,t,a,n);break;case 3:It(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fi(e)));break;case 12:if(r&2048){It(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;typeof l=="function"&&l(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ae(t,t.return,c)}}else It(e,t,a,n);break;case 31:It(e,t,a,n);break;case 13:It(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,t.memoizedState!==null?s._visibility&2?It(e,t,a,n):ai(e,t):s._visibility&2?It(e,t,a,n):(s._visibility|=2,xr(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&_f(i,t);break;case 24:It(e,t,a,n),r&2048&&Sf(t.alternate,t);break;default:It(e,t,a,n)}}function xr(e,t,a,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,i=t,l=a,c=n,u=i.flags;switch(i.tag){case 0:case 11:case 15:xr(s,i,l,c,r),Wi(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?xr(s,i,l,c,r):ai(s,i):(d._visibility|=2,xr(s,i,l,c,r)),r&&u&2048&&_f(i.alternate,i);break;case 24:xr(s,i,l,c,r),r&&u&2048&&Sf(i.alternate,i);break;default:xr(s,i,l,c,r)}t=t.sibling}}function ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:ai(a,n),r&2048&&_f(n.alternate,n);break;case 24:ai(a,n),r&2048&&Sf(n.alternate,n);break;default:ai(a,n)}t=t.sibling}}var Hs=8192;function dr(e,t,a){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)Ov(e,t,a),e=e.sibling}function Ov(e,t,a){switch(e.tag){case 26:dr(e,t,a),e.flags&Hs&&e.memoizedState!==null&&AS(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:dr(e,t,a);break;case 3:case 4:var n=Xt;Xt=Pl(e.stateNode.containerInfo),dr(e,t,a),Xt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hs,Hs=16777216,dr(e,t,a),Hs=n):dr(e,t,a));break;default:dr(e,t,a)}}function Rv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Us(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Pe=n,Mv(n,e)}Rv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dv(e),e=e.sibling}function Dv(e){switch(e.tag){case 0:case 11:case 15:Us(e),e.flags&2048&&vn(9,e,e.return);break;case 3:Us(e);break;case 12:Us(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,tl(e)):Us(e);break;default:Us(e)}}function tl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Pe=n,Mv(n,e)}Rv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vn(8,t,t.return),tl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,tl(t));break;default:tl(t)}e=e.sibling}}function Mv(e,t){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:vn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Fi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Pe=n;else e:for(a=e;Pe!==null;){n=Pe;var r=n.sibling,s=n.return;if(Sv(n),n===a){Pe=null;break e}if(r!==null){r.return=s,Pe=r;break e}Pe=s}}}var H2={getCacheForType:function(e){var t=Fe(Ce),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Fe(Ce).controller.signal}},I2=typeof WeakMap=="function"?WeakMap:Map,J=0,se=null,F=null,X=0,te=0,ft=null,an=!1,ys=!1,Nf=!1,za=0,je=0,xn=0,Fn=0,Ef=0,bt=0,rs=0,ni=null,st=null,Rd=!1,yc=0,Uv=0,kl=1/0,Ol=null,dn=null,Me=0,hn=null,ss=null,Ca=0,Dd=0,Md=null,zv=null,ri=0,Ud=null;function jt(){return J&2&&X!==0?X&-X:$.T!==null?Af():Gy()}function Pv(){if(bt===0)if(!(X&536870912)||W){var e=po;po<<=1,!(po&3932160)&&(po=262144),bt=e}else bt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),bt}function ot(e,t,a){(e===se&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(is(e,0),nn(e,X,bt,!1)),Gi(e,a),(!(J&2)||e!==se)&&(e===se&&(!(J&2)&&(Fn|=a),je===4&&nn(e,X,bt,!1)),ma(e))}function Bv(e,t,a){if(J&6)throw Error(A(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ii(e,t),r=n?K2(e,t):fu(e,t,!0),s=n;do{if(r===0){ys&&!n&&nn(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!G2(a)){r=fu(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var l=e;r=ni;var c=l.current.memoizedState.isDehydrated;if(c&&(is(l,i).flags|=256),i=fu(l,i,!1),i!==2){if(Nf&&!c){l.errorRecoveryDisabledLanes|=s,Fn|=s,r=4;break e}s=st,st=r,s!==null&&(st===null?st=s:st.push.apply(st,s))}r=i}if(s=!1,r!==2)continue}}if(r===1){is(e,0),nn(e,t,0,!0);break}e:{switch(n=e,s=r,s){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:nn(n,t,bt,!an);break e;case 2:st=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(r=yc+300-vt(),10<r)){if(nn(n,t,bt,!an),ic(n,0,!0)!==0)break e;Ca=t,n.timeoutHandle=rx(Up.bind(null,n,a,st,Ol,Rd,t,bt,Fn,rs,an,s,"Throttled",-0,0),r);break e}Up(n,a,st,Ol,Rd,t,bt,Fn,rs,an,s,null,-0,0)}}break}while(!0);ma(e)}function Up(e,t,a,n,r,s,i,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},Ov(t,s,h);var b=(s&62914560)===s?yc-vt():(s&4194048)===s?Uv-vt():0;if(b=CS(h,b),b!==null){Ca=s,e.cancelPendingCommit=b(Pp.bind(null,e,t,s,a,n,r,i,l,c,d,h,null,f,m)),nn(e,s,i,!u);return}}Pp(e,t,s,a,n,r,i,l,c)}function G2(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!St(s(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t,a,n){t&=~Ef,t&=~Fn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var s=31-wt(r),i=1<<s;n[s]=-1,r&=~i}a!==0&&$y(e,a,t)}function bc(){return J&6?!0:(Qi(0),!1)}function Tf(){if(F!==null){if(te===0)var e=F.return;else e=F,Na=lr=null,hf(e),Yr=null,wi=0,e=F;for(;e!==null;)yv(e.alternate,e),e=e.return;F=null}}function is(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ca=0,Tf(),se=e,F=a=Ta(e.current,null),X=t,te=0,ft=null,an=!1,ys=Ii(e,t),Nf=!1,rs=bt=Ef=Fn=xn=je=0,st=ni=null,Rd=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-wt(n),s=1<<r;t|=e[r],n&=~s}return za=t,uc(),a}function Lv(e,t){I=null,$.H=_i,t===gs||t===hc?(t=fp(),te=3):t===rf?(t=fp(),te=4):te=t===wf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ft=t,F===null&&(je=1,Tl(e,Dt(t,e.current)))}function Vv(){var e=Nt.current;return e===null?!0:(X&4194048)===X?zt===null:(X&62914560)===X||X&536870912?e===zt:!1}function qv(){var e=$.H;return $.H=_i,e===null?_i:e}function $v(){var e=$.A;return $.A=H2,e}function Rl(){je=4,an||(X&4194048)!==X&&Nt.current!==null||(ys=!0),!(xn&134217727)&&!(Fn&134217727)||se===null||nn(se,X,bt,!1)}function fu(e,t,a){var n=J;J|=2;var r=qv(),s=$v();(se!==e||X!==t)&&(Ol=null,is(e,t)),t=!1;var i=je;e:do try{if(te!==0&&F!==null){var l=F,c=ft;switch(te){case 8:Tf(),i=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var u=te;if(te=0,ft=null,Ur(e,l,c,u),a&&ys){i=0;break e}break;default:u=te,te=0,ft=null,Ur(e,l,c,u)}}Y2(),i=je;break}catch(d){Lv(e,d)}while(!0);return t&&e.shellSuspendCounter++,Na=lr=null,J=n,$.H=r,$.A=s,F===null&&(se=null,X=0,uc()),i}function Y2(){for(;F!==null;)Hv(F)}function K2(e,t){var a=J;J|=2;var n=qv(),r=$v();se!==e||X!==t?(Ol=null,kl=vt()+500,is(e,t)):ys=Ii(e,t);e:do try{if(te!==0&&F!==null){t=F;var s=ft;t:switch(te){case 1:te=0,ft=null,Ur(e,t,s,1);break;case 2:case 9:if(hp(s)){te=0,ft=null,zp(t);break}t=function(){te!==2&&te!==9||se!==e||(te=7),ma(e)},s.then(t,t);break e;case 3:te=7;break e;case 4:te=5;break e;case 7:hp(s)?(te=0,ft=null,zp(t)):(te=0,ft=null,Ur(e,t,s,7));break;case 5:var i=null;switch(F.tag){case 26:i=F.memoizedState;case 5:case 27:var l=F;if(i?cx(i):l.stateNode.complete){te=0,ft=null;var c=l.sibling;if(c!==null)F=c;else{var u=l.return;u!==null?(F=u,vc(u)):F=null}break t}}te=0,ft=null,Ur(e,t,s,5);break;case 6:te=0,ft=null,Ur(e,t,s,6);break;case 8:Tf(),je=6;break e;default:throw Error(A(462))}}F2();break}catch(d){Lv(e,d)}while(!0);return Na=lr=null,$.H=n,$.A=r,J=a,F!==null?0:(se=null,X=0,uc(),je)}function F2(){for(;F!==null&&!y_();)Hv(F)}function Hv(e){var t=gv(e.alternate,e,za);e.memoizedProps=e.pendingProps,t===null?vc(e):F=t}function zp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cp(a,t,t.pendingProps,t.type,void 0,X);break;case 11:t=Cp(a,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:hf(t);default:yv(a,t),t=F=yb(t,za),t=gv(a,t,za)}e.memoizedProps=e.pendingProps,t===null?vc(e):F=t}function Ur(e,t,a,n){Na=lr=null,hf(t),Yr=null,wi=0;var r=t.return;try{if(z2(e,r,t,a,X)){je=1,Tl(e,Dt(a,e.current)),F=null;return}}catch(s){if(r!==null)throw F=r,s;je=1,Tl(e,Dt(a,e.current)),F=null;return}t.flags&32768?(W||n===1?e=!0:ys||X&536870912?e=!1:(an=e=!0,(n===2||n===9||n===3||n===6)&&(n=Nt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Iv(t,e)):vc(t)}function vc(e){var t=e;do{if(t.flags&32768){Iv(t,an);return}e=t.return;var a=L2(t.alternate,t,za);if(a!==null){F=a;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);je===0&&(je=5)}function Iv(e,t){do{var a=V2(e.alternate,e);if(a!==null){a.flags&=32767,F=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=a}while(e!==null);je=6,F=null}function Pp(e,t,a,n,r,s,i,l,c){e.cancelPendingCommit=null;do xc();while(Me!==0);if(J&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(s=t.lanes|t.childLanes,s|=Qh,T_(e,a,s,i,l,c),e===se&&(F=se=null,X=0),ss=t,hn=e,Ca=a,Dd=s,Md=r,zv=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,J2(gl,function(){return Xv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=$.T,$.T=null,r=Z.p,Z.p=2,i=J,J|=4;try{q2(e,t,a)}finally{J=i,Z.p=r,$.T=n}}Me=1,Gv(),Yv(),Kv()}}function Gv(){if(Me===1){Me=0;var e=hn,t=ss,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=$.T,$.T=null;var n=Z.p;Z.p=2;var r=J;J|=4;try{Av(t,e);var s=Ld,i=cb(e.containerInfo),l=s.focusedElem,c=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&lb(l.ownerDocument.documentElement,l)){if(c!==null&&Wh(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),b=l.textContent.length,v=Math.min(c.start,b),x=c.end===void 0?v:Math.min(c.end,b);!m.extend&&v>x&&(i=x,x=v,v=i);var p=sp(l,v),g=sp(l,x);if(p&&g&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=h.createRange();y.setStart(p.node,p.offset),m.removeAllRanges(),v>x?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var j=h[l];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Vl=!!Bd,Ld=Bd=null}finally{J=r,Z.p=n,$.T=a}}e.current=t,Me=2}}function Yv(){if(Me===2){Me=0;var e=hn,t=ss,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=$.T,$.T=null;var n=Z.p;Z.p=2;var r=J;J|=4;try{_v(e,t.alternate,t)}finally{J=r,Z.p=n,$.T=a}}Me=3}}function Kv(){if(Me===4||Me===3){Me=0,b_();var e=hn,t=ss,a=Ca,n=zv;t.subtreeFlags&10256||t.flags&10256?Me=5:(Me=0,ss=hn=null,Fv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(dn=null),Hh(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Hi,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=$.T,r=Z.p,Z.p=2,$.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var l=n[i];s(l.value,{componentStack:l.stack})}}finally{$.T=t,Z.p=r}}Ca&3&&xc(),ma(e),r=e.pendingLanes,a&261930&&r&42?e===Ud?ri++:(ri=0,Ud=e):ri=0,Qi(0)}}function Fv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fi(t)))}function xc(){return Gv(),Yv(),Kv(),Xv()}function Xv(){if(Me!==5)return!1;var e=hn,t=Dd;Dd=0;var a=Hh(Ca),n=$.T,r=Z.p;try{Z.p=32>a?32:a,$.T=null,a=Md,Md=null;var s=hn,i=Ca;if(Me=0,ss=hn=null,Ca=0,J&6)throw Error(A(331));var l=J;if(J|=4,Dv(s.current),kv(s,s.current,i,a),J=l,Qi(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Hi,s)}catch{}return!0}finally{Z.p=r,$.T=n,Fv(e,t)}}function Bp(e,t,a){t=Dt(a,t),t=Ad(e.stateNode,t,2),e=un(e,t,2),e!==null&&(Gi(e,2),ma(e))}function ae(e,t,a){if(e.tag===3)Bp(e,e,a);else for(;t!==null;){if(t.tag===3){Bp(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=Dt(a,e),a=uv(2),n=un(t,a,2),n!==null&&(dv(a,n,t,e),Gi(n,2),ma(n));break}}t=t.return}}function mu(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new I2;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Nf=!0,r.add(a),e=X2.bind(null,e,t,a),t.then(e,e))}function X2(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(X&a)===a&&(je===4||je===3&&(X&62914560)===X&&300>vt()-yc?!(J&2)&&is(e,0):Ef|=a,rs===X&&(rs=0)),ma(e)}function Wv(e,t){t===0&&(t=qy()),e=or(e,t),e!==null&&(Gi(e,t),ma(e))}function W2(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Wv(e,a)}function Q2(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(A(314))}n!==null&&n.delete(t),Wv(e,a)}function J2(e,t){return qh(e,t)}var Dl=null,wr=null,zd=!1,Ml=!1,pu=!1,rn=0;function ma(e){e!==wr&&e.next===null&&(wr===null?Dl=wr=e:wr=wr.next=e),Ml=!0,zd||(zd=!0,eS())}function Qi(e,t){if(!pu&&Ml){pu=!0;do for(var a=!1,n=Dl;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var s=0;else{var i=n.suspendedLanes,l=n.pingedLanes;s=(1<<31-wt(42|e)+1)-1,s&=r&~(i&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Lp(n,s))}else s=X,s=ic(n,n===se?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||Ii(n,s)||(a=!0,Lp(n,s));n=n.next}while(a);pu=!1}}function Z2(){Qv()}function Qv(){Ml=zd=!1;var e=0;rn!==0&&uS()&&(e=rn);for(var t=vt(),a=null,n=Dl;n!==null;){var r=n.next,s=Jv(n,t);s===0?(n.next=null,a===null?Dl=r:a.next=r,r===null&&(wr=a)):(a=n,(e!==0||s&3)&&(Ml=!0)),n=r}Me!==0&&Me!==5||Qi(e),rn!==0&&(rn=0)}function Jv(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var i=31-wt(s),l=1<<i,c=r[i];c===-1?(!(l&a)||l&n)&&(r[i]=E_(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}if(t=se,a=X,a=ic(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(te===2||te===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Hc(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ii(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Hc(n),Hh(a)){case 2:case 8:a=Ly;break;case 32:a=gl;break;case 268435456:a=Vy;break;default:a=gl}return n=Zv.bind(null,e),a=qh(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Hc(n),e.callbackPriority=2,e.callbackNode=null,2}function Zv(e,t){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xc()&&e.callbackNode!==a)return null;var n=X;return n=ic(e,e===se?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Bv(e,n,t),Jv(e,vt()),e.callbackNode!=null&&e.callbackNode===a?Zv.bind(null,e):null)}function Lp(e,t){if(xc())return null;Bv(e,t,!0)}function eS(){hS(function(){J&6?qh(By,Z2):Qv()})}function Af(){if(rn===0){var e=ts;e===0&&(e=mo,mo<<=1,!(mo&261888)&&(mo=256)),rn=e}return rn}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yo(""+e)}function qp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var s=Vp((r[lt]||null).action),i=n.submitter;i&&(t=(t=i[lt]||null)?Vp(t.formAction):i.getAttribute("formAction"),t!==null&&(s=t,i=null));var l=new oc("action","action",null,n,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(rn!==0){var c=i?qp(r,i):new FormData(r);Ed(a,{pending:!0,data:c,method:r.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=i?qp(r,i):new FormData(r),Ed(a,{pending:!0,data:c,method:r.method,action:s},s,c))},currentTarget:r}]})}}for(var gu=0;gu<md.length;gu++){var yu=md[gu],aS=yu.toLowerCase(),nS=yu[0].toUpperCase()+yu.slice(1);Jt(aS,"on"+nS)}Jt(db,"onAnimationEnd");Jt(hb,"onAnimationIteration");Jt(fb,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(v2,"onTransitionRun");Jt(x2,"onTransitionStart");Jt(w2,"onTransitionCancel");Jt(mb,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function ex(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=u;try{s(r)}catch(d){bl(d)}r.currentTarget=null,s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=u;try{s(r)}catch(d){bl(d)}r.currentTarget=null,s=c}}}}function K(e,t){var a=t[id];a===void 0&&(a=t[id]=new Set);var n=e+"__bubble";a.has(n)||(tx(t,e,2,!1),a.add(n))}function bu(e,t,a){var n=0;t&&(n|=4),tx(a,e,n,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[So]){e[So]=!0,Yy.forEach(function(a){a!=="selectionchange"&&(rS.has(a)||bu(a,!1,e),bu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,bu("selectionchange",!1,t))}}function tx(e,t,a,n){switch(mx(t)){case 2:var r=RS;break;case 8:r=DS;break;default:r=Df}a=r.bind(null,t,a,e),r=void 0,!dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function vu(e,t,a,n,r){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===r)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===r)return;i=i.return}for(;l!==null;){if(i=Er(l),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){n=s=i;continue e}l=l.parentNode}}n=n.return}eb(function(){var u=s,d=Yh(a),h=[];e:{var f=pb.get(e);if(f!==void 0){var m=oc,b=e;switch(e){case"keypress":if(Fo(a)===0)break e;case"keydown":case"keyup":m=Q_;break;case"focusin":b="focus",m=Fc;break;case"focusout":b="blur",m=Fc;break;case"beforeblur":case"afterblur":m=Fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e2;break;case db:case hb:case fb:m=$_;break;case mb:m=a2;break;case"scroll":case"scrollend":m=P_;break;case"wheel":m=r2;break;case"copy":case"cut":case"paste":m=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qm;break;case"toggle":case"beforetoggle":m=i2}var v=(t&4)!==0,x=!v&&(e==="scroll"||e==="scrollend"),p=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,y;g!==null;){var j=g;if(y=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||y===null||p===null||(j=gi(g,p),j!=null&&v.push(Ni(g,j,y))),x)break;g=g.return}0<v.length&&(f=new m(f,b,null,a,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&a!==ud&&(b=a.relatedTarget||a.fromElement)&&(Er(b)||b[fs]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=a.relatedTarget||a.toElement,m=u,b=b?Er(b):null,b!==null&&(x=$i(b),v=b.tag,b!==x||v!==5&&v!==27&&v!==6)&&(b=null)):(m=null,b=u),m!==b)){if(v=Xm,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Qm,j="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?f:qs(m),y=b==null?f:qs(b),f=new v(j,g+"leave",m,a,d),f.target=x,f.relatedTarget=y,j=null,Er(d)===u&&(v=new v(p,g+"enter",b,a,d),v.target=y,v.relatedTarget=x,j=v),x=j,m&&b)t:{for(v=sS,p=m,g=b,y=0,j=p;j;j=v(j))y++;j=0;for(var N=g;N;N=v(N))j++;for(;0<y-j;)p=v(p),y--;for(;0<j-y;)g=v(g),j--;for(;y--;){if(p===g||g!==null&&p===g.alternate){v=p;break t}p=v(p),g=v(g)}v=null}else v=null;m!==null&&$p(h,f,m,v,!1),b!==null&&x!==null&&$p(h,x,b,v,!0)}}e:{if(f=u?qs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=tp;else if(ep(f))if(ib)_=g2;else{_=m2;var S=f2}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Gh(u.elementType)&&(_=tp):_=p2;if(_&&(_=_(e,u))){sb(h,_,a,d);break e}S&&S(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&cd(f,"number",f.value)}switch(S=u?qs(u):window,e){case"focusin":(ep(S)||S.contentEditable==="true")&&(Cr=S,hd=u,Xs=null);break;case"focusout":Xs=hd=Cr=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,ip(h,a,d);break;case"selectionchange":if(b2)break;case"keydown":case"keyup":ip(h,a,d)}var E;if(Xh)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ar?nb(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(ab&&a.locale!=="ko"&&(Ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ar&&(E=tb()):(tn=d,Kh="value"in tn?tn.value:tn.textContent,Ar=!0)),S=Ul(u,C),0<S.length&&(C=new Wm(C,e,null,a,d),h.push({event:C,listeners:S}),E?C.data=E:(E=rb(a),E!==null&&(C.data=E)))),(E=l2?c2(e,a):u2(e,a))&&(C=Ul(u,"onBeforeInput"),0<C.length&&(S=new Wm("onBeforeInput","beforeinput",null,a,d),h.push({event:S,listeners:C}),S.data=E)),tS(h,e,u,a,d)}ex(h,t)})}function Ni(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ul(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=gi(e,a),r!=null&&n.unshift(Ni(e,r,s)),r=gi(e,t),r!=null&&n.push(Ni(e,r,s))),e.tag===3)return n;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $p(e,t,a,n,r){for(var s=t._reactName,i=[];a!==null&&a!==n;){var l=a,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===n)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=gi(a,s),u!=null&&i.unshift(Ni(a,u,c))):r||(u=gi(a,s),u!=null&&i.push(Ni(a,u,c)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var iS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(iS,`
`).replace(oS,"")}function ax(e,t){return t=Hp(t),Hp(e)===t}function ne(e,t,a,n,r,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||es(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&es(e,""+n);break;case"className":yo(e,"class",n);break;case"tabIndex":yo(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(e,a,n);break;case"style":Zy(e,n,s);break;case"data":if(t!=="object"){yo(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Yo(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&ne(e,t,"name",r.name,r,null),ne(e,t,"formEncType",r.formEncType,r,null),ne(e,t,"formMethod",r.formMethod,r,null),ne(e,t,"formTarget",r.formTarget,r,null)):(ne(e,t,"encType",r.encType,r,null),ne(e,t,"method",r.method,r,null),ne(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Yo(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Sa);break;case"onScroll":n!=null&&K("scroll",e);break;case"onScrollEnd":n!=null&&K("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(A(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(A(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Yo(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":K("beforetoggle",e),K("toggle",e),Go(e,"popover",n);break;case"xlinkActuate":pa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":pa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":pa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":pa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":pa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":pa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":pa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":pa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":pa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Go(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=U_.get(a)||a,Go(e,a,n))}}function Pd(e,t,a,n,r,s){switch(a){case"style":Zy(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(A(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(A(60));e.innerHTML=a}}break;case"children":typeof n=="string"?es(e,n):(typeof n=="number"||typeof n=="bigint")&&es(e,""+n);break;case"onScroll":n!=null&&K("scroll",e);break;case"onScrollEnd":n!=null&&K("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ky.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),s=e[lt]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Go(e,a,n)}}}function Xe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":K("error",e),K("load",e);var n=!1,r=!1,s;for(s in a)if(a.hasOwnProperty(s)){var i=a[s];if(i!=null)switch(s){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:ne(e,t,s,i,a,null)}}r&&ne(e,t,"srcSet",a.srcSet,a,null),n&&ne(e,t,"src",a.src,a,null);return;case"input":K("invalid",e);var l=s=i=r=null,c=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":r=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:ne(e,t,n,d,a,null)}}Wy(e,s,l,c,u,i,r,!1);return;case"select":K("invalid",e),n=i=s=null;for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":n=l;default:ne(e,t,r,l,a,null)}t=s,a=i,e.multiple=!!n,t!=null?Hr(e,!!n,t,!1):a!=null&&Hr(e,!!n,a,!0);return;case"textarea":K("invalid",e),s=r=n=null;for(i in a)if(a.hasOwnProperty(i)&&(l=a[i],l!=null))switch(i){case"value":n=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:ne(e,t,i,l,a,null)}Jy(e,n,r,s);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ne(e,t,c,n,a,null)}return;case"dialog":K("beforetoggle",e),K("toggle",e),K("cancel",e),K("close",e);break;case"iframe":case"object":K("load",e);break;case"video":case"audio":for(n=0;n<Si.length;n++)K(Si[n],e);break;case"image":K("error",e),K("load",e);break;case"details":K("toggle",e);break;case"embed":case"source":case"link":K("error",e),K("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:ne(e,t,u,n,a,null)}return;default:if(Gh(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&Pd(e,t,d,n,a,void 0));return}}for(l in a)a.hasOwnProperty(l)&&(n=a[l],n!=null&&ne(e,t,l,n,a,null))}function lS(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,i=null,l=null,c=null,u=null,d=null;for(m in a){var h=a[m];if(a.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(m)||ne(e,t,m,null,n,h)}}for(var f in n){var m=n[f];if(h=a[f],n.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":s=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:m!==h&&ne(e,t,f,m,n,h)}}ld(e,i,l,c,u,d,s,r);return;case"select":m=i=l=f=null;for(s in a)if(c=a[s],a.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(s)||ne(e,t,s,null,n,c)}for(r in n)if(s=n[r],c=a[r],n.hasOwnProperty(r)&&(s!=null||c!=null))switch(r){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":i=s;default:s!==c&&ne(e,t,r,s,n,c)}t=l,a=i,n=m,f!=null?Hr(e,!!a,f,!1):!!n!=!!a&&(t!=null?Hr(e,!!a,t,!0):Hr(e,!!a,a?[]:"",!1));return;case"textarea":m=f=null;for(l in a)if(r=a[l],a.hasOwnProperty(l)&&r!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ne(e,t,l,null,n,r)}for(i in n)if(r=n[i],s=a[i],n.hasOwnProperty(i)&&(r!=null||s!=null))switch(i){case"value":f=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(A(91));break;default:r!==s&&ne(e,t,i,r,n,s)}Qy(e,f,m);return;case"option":for(var b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:ne(e,t,b,null,n,f)}for(c in n)if(f=n[c],m=a[c],n.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ne(e,t,c,f,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)f=a[v],a.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v)&&ne(e,t,v,null,n,f);for(u in n)if(f=n[u],m=a[u],n.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(A(137,t));break;default:ne(e,t,u,f,n,m)}return;default:if(Gh(t)){for(var x in a)f=a[x],a.hasOwnProperty(x)&&f!==void 0&&!n.hasOwnProperty(x)&&Pd(e,t,x,void 0,n,f);for(d in n)f=n[d],m=a[d],!n.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Pd(e,t,d,f,n,m);return}}for(var p in a)f=a[p],a.hasOwnProperty(p)&&f!=null&&!n.hasOwnProperty(p)&&ne(e,t,p,null,n,f);for(h in n)f=n[h],m=a[h],!n.hasOwnProperty(h)||f===m||f==null&&m==null||ne(e,t,h,f,n,m)}function Ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],s=r.transferSize,i=r.initiatorType,l=r.duration;if(s&&l&&Ip(i)){for(i=0,l=r.responseEnd,n+=1;n<a.length;n++){var c=a[n],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&Ip(h)&&(c=c.responseEnd,i+=d*(c<l?1:(l-u)/(c-u)))}if(--n,t+=8*(s+i)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bd=null,Ld=null;function zl(e){return e.nodeType===9?e:e.ownerDocument}function Gp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nx(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===xu?!1:(xu=e,!0):(xu=null,!1)}var rx=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(fS)}:rx;function fS(e){setTimeout(function(){throw e})}function Sn(e){return e==="head"}function Kp(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(r),ls(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")si(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,si(a);for(var s=a.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[Yi]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=i}}else a==="body"&&si(e.ownerDocument.body);a=r}while(a);ls(t)}function Fp(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function qd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),Ih(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mS(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Yi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function pS(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pt(e.nextSibling),e===null))return null;return e}function sx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function $d(e){return e.data==="$?"||e.data==="$~"}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gS(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Id=null;function Xp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Pt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ix(e,t,a){switch(t=zl(a),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function si(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ih(e)}var Vt=new Map,Qp=new Set;function Pl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=Z.d;Z.d={f:yS,r:bS,D:vS,C:xS,L:wS,m:jS,X:SS,S:_S,M:NS};function yS(){var e=qa.f(),t=bc();return e||t}function bS(e){var t=ms(e);t!==null&&t.tag===5&&t.type==="form"?Zb(t):qa.r(e)}var bs=typeof document>"u"?null:document;function ox(e,t,a){var n=bs;if(n&&typeof t=="string"&&t){var r=Rt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Qp.has(r)||(Qp.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Xe(t,"link",e),Be(t),n.head.appendChild(t)))}}function vS(e){qa.D(e),ox("dns-prefetch",e,null)}function xS(e,t){qa.C(e,t),ox("preconnect",e,t)}function wS(e,t,a){qa.L(e,t,a);var n=bs;if(n&&e&&t){var r='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Rt(a.imageSizes)+'"]')):r+='[href="'+Rt(e)+'"]';var s=r;switch(t){case"style":s=os(e);break;case"script":s=vs(e)}Vt.has(s)||(e=me({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(s,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Ji(s))||t==="script"&&n.querySelector(Zi(s))||(t=n.createElement("link"),Xe(t,"link",e),Be(t),n.head.appendChild(t)))}}function jS(e,t){qa.m(e,t);var a=bs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Rt(n)+'"][href="'+Rt(e)+'"]',s=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=vs(e)}if(!Vt.has(s)&&(e=me({rel:"modulepreload",href:e},t),Vt.set(s,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zi(s)))return}n=a.createElement("link"),Xe(n,"link",e),Be(n),a.head.appendChild(n)}}}function _S(e,t,a){qa.S(e,t,a);var n=bs;if(n&&e){var r=$r(n).hoistableStyles,s=os(e);t=t||"default";var i=r.get(s);if(!i){var l={loading:0,preload:null};if(i=n.querySelector(Ji(s)))l.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(s))&&kf(e,a);var c=i=n.createElement("link");Be(c),Xe(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,al(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(s,i)}}}function SS(e,t){qa.X(e,t);var a=bs;if(a&&e){var n=$r(a).hoistableScripts,r=vs(e),s=n.get(r);s||(s=a.querySelector(Zi(r)),s||(e=me({src:e,async:!0},t),(t=Vt.get(r))&&Of(e,t),s=a.createElement("script"),Be(s),Xe(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}function NS(e,t){qa.M(e,t);var a=bs;if(a&&e){var n=$r(a).hoistableScripts,r=vs(e),s=n.get(r);s||(s=a.querySelector(Zi(r)),s||(e=me({src:e,async:!0,type:"module"},t),(t=Vt.get(r))&&Of(e,t),s=a.createElement("script"),Be(s),Xe(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}function Jp(e,t,a,n){var r=(r=on.current)?Pl(r):null;if(!r)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=os(a.href),a=$r(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=os(a.href);var s=$r(r).hoistableStyles,i=s.get(e);if(i||(r=r.ownerDocument||r,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,i),(s=r.querySelector(Ji(e)))&&!s._p&&(i.instance=s,i.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),s||ES(r,e,a,i.state))),t&&n===null)throw Error(A(528,""));return i}if(t&&n!==null)throw Error(A(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(a),a=$r(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function os(e){return'href="'+Rt(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function lx(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function ES(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Xe(t,"link",a),Be(t),e.head.appendChild(t))}function vs(e){return'[src="'+Rt(e)+'"]'}function Zi(e){return"script[async]"+e}function Zp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(n)return t.instance=n,Be(n),n;var r=me({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Be(n),Xe(n,"style",r),al(n,a.precedence,e),t.instance=n;case"stylesheet":r=os(a.href);var s=e.querySelector(Ji(r));if(s)return t.state.loading|=4,t.instance=s,Be(s),s;n=lx(a),(r=Vt.get(r))&&kf(n,r),s=(e.ownerDocument||e).createElement("link"),Be(s);var i=s;return i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Xe(s,"link",n),t.state.loading|=4,al(s,a.precedence,e),t.instance=s;case"script":return s=vs(a.src),(r=e.querySelector(Zi(s)))?(t.instance=r,Be(r),r):(n=a,(r=Vt.get(s))&&(n=me({},a),Of(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Be(r),Xe(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,al(n,a.precedence,e));return t.instance}function al(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,s=r,i=0;i<n.length;i++){var l=n[i];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function kf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Of(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function eg(e,t,a){if(nl===null){var n=new Map,r=nl=new Map;r.set(a,n)}else r=nl,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var s=a[r];if(!(s[Yi]||s[Ye]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(t)||"";i=e+i;var l=n.get(i);l?l.push(s):n.set(i,[s])}}return n}function tg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function TS(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cx(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function AS(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var r=os(n.href),s=t.querySelector(Ji(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Bl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,Be(s);return}s=t.ownerDocument||t,n=lx(n),(r=Vt.get(r))&&kf(n,r),s=s.createElement("link"),Be(s);var i=s;i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Xe(s,"link",n),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=Bl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var wu=0;function CS(e,t){return e.stylesheets&&e.count===0&&rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&wu===0&&(wu=62500*cS());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>wu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function Bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(kS,e),Ll=null,Bl.call(e))}function kS(e,t){if(!(t.state.loading&4)){var a=Ll.get(e);if(a)var n=a.get(null);else{a=new Map,Ll.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),n=i)}n&&a.set(null,n)}r=t.instance,i=r.getAttribute("data-precedence"),s=a.get(i)||n,s===n&&a.set(null,r),a.set(i,r),this.count++,n=Bl.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ei={$$typeof:_a,Provider:null,Consumer:null,_currentValue:In,_currentValue2:In,_threadCount:0};function OS(e,t,a,n,r,s,i,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ux(e,t,a,n,r,s,i,l,c,u,d,h){return e=new OS(e,t,a,i,c,u,d,h,l),t=1,s===!0&&(t|=24),s=pt(3,null,null,t),e.current=s,s.stateNode=e,t=af(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},sf(s),e}function dx(e){return e?(e=Rr,e):Rr}function hx(e,t,a,n,r,s){r=dx(r),n.context===null?n.context=r:n.pendingContext=r,n=cn(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=un(e,n,t),a!==null&&(ot(a,e,t),Qs(a,e,t))}function ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Rf(e,t){ag(e,t),(e=e.alternate)&&ag(e,t)}function fx(e){if(e.tag===13||e.tag===31){var t=or(e,67108864);t!==null&&ot(t,e,67108864),Rf(e,67108864)}}function ng(e){if(e.tag===13||e.tag===31){var t=jt();t=$h(t);var a=or(e,t);a!==null&&ot(a,e,t),Rf(e,t)}}var Vl=!0;function RS(e,t,a,n){var r=$.T;$.T=null;var s=Z.p;try{Z.p=2,Df(e,t,a,n)}finally{Z.p=s,$.T=r}}function DS(e,t,a,n){var r=$.T;$.T=null;var s=Z.p;try{Z.p=8,Df(e,t,a,n)}finally{Z.p=s,$.T=r}}function Df(e,t,a,n){if(Vl){var r=Gd(n);if(r===null)vu(e,t,n,ql,a),rg(e,n);else if(US(r,e,t,a,n))n.stopPropagation();else if(rg(e,n),t&4&&-1<MS.indexOf(e)){for(;r!==null;){var s=ms(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=Rn(s.pendingLanes);if(i!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var c=1<<31-wt(i);l.entanglements[1]|=c,i&=~c}ma(s),!(J&6)&&(kl=vt()+500,Qi(0))}}break;case 31:case 13:l=or(s,2),l!==null&&ot(l,s,2),bc(),Rf(s,2)}if(s=Gd(n),s===null&&vu(e,t,n,ql,a),s===r)break;r=s}r!==null&&n.stopPropagation()}else vu(e,t,n,null,a)}}function Gd(e){return e=Yh(e),Mf(e)}var ql=null;function Mf(e){if(ql=null,e=Er(e),e!==null){var t=$i(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Dy(t),e!==null)return e;e=null}else if(a===31){if(e=My(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ql=e,null}function mx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v_()){case By:return 2;case Ly:return 8;case gl:case x_:return 32;case Vy:return 268435456;default:return 32}default:return 32}}var Yd=!1,fn=null,mn=null,pn=null,Ti=new Map,Ai=new Map,Ja=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function zs(e,t,a,n,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ms(t),t!==null&&fx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function US(e,t,a,n,r){switch(t){case"focusin":return fn=zs(fn,e,t,a,n,r),!0;case"dragenter":return mn=zs(mn,e,t,a,n,r),!0;case"mouseover":return pn=zs(pn,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return Ti.set(s,zs(Ti.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ai.set(s,zs(Ai.get(s)||null,e,t,a,n,r)),!0}return!1}function px(e){var t=Er(e.target);if(t!==null){var a=$i(t);if(a!==null){if(t=a.tag,t===13){if(t=Dy(a),t!==null){e.blockedOn=t,$m(e.priority,function(){ng(a)});return}}else if(t===31){if(t=My(a),t!==null){e.blockedOn=t,$m(e.priority,function(){ng(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ud=n,a.target.dispatchEvent(n),ud=null}else return t=ms(a),t!==null&&fx(t),e.blockedOn=a,!1;t.shift()}return!0}function sg(e,t,a){sl(e)&&a.delete(t)}function zS(){Yd=!1,fn!==null&&sl(fn)&&(fn=null),mn!==null&&sl(mn)&&(mn=null),pn!==null&&sl(pn)&&(pn=null),Ti.forEach(sg),Ai.forEach(sg)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Yd||(Yd=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,zS)))}var Eo=null;function ig(e){Eo!==e&&(Eo=e,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,function(){Eo===e&&(Eo=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Mf(n||a)===null)continue;break}var s=ms(a);s!==null&&(e.splice(t,3),t-=3,Ed(s,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function ls(e){function t(c){return No(c,e)}fn!==null&&No(fn,e),mn!==null&&No(mn,e),pn!==null&&No(pn,e),Ti.forEach(t),Ai.forEach(t);for(var a=0;a<Ja.length;a++){var n=Ja[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ja.length&&(a=Ja[0],a.blockedOn===null);)px(a),a.blockedOn===null&&Ja.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],s=a[n+1],i=r[lt]||null;if(typeof s=="function")i||ig(a);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[lt]||null)l=i.formAction;else if(Mf(r)!==null)continue}else l=i.action;typeof l=="function"?a[n+1]=l:(a.splice(n,3),n-=3),ig(a)}}}function gx(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(i){return r=i})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Uf(e){this._internalRoot=e}wc.prototype.render=Uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var a=t.current,n=jt();hx(a,n,e,t,null,null)};wc.prototype.unmount=Uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hx(e.current,2,null,e,null,null),bc(),t[fs]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gy();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ja.length&&t!==0&&t<Ja[a].priority;a++);Ja.splice(a,0,e),a===0&&px(e)}};var og=Oy.version;if(og!=="19.2.0")throw Error(A(527,og,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=h_(t),e=e!==null?Uy(e):null,e=e===null?null:e.stateNode,e};var PS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Hi=To.inject(PS),xt=To}catch{}}rc.createRoot=function(e,t){if(!Ry(e))throw Error(A(299));var a=!1,n="",r=ov,s=lv,i=cv;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ux(e,1,!1,null,null,a,n,null,r,s,i,gx),e[fs]=t.current,Cf(e),new Uf(t)};rc.hydrateRoot=function(e,t,a){if(!Ry(e))throw Error(A(299));var n=!1,r="",s=ov,i=lv,l=cv,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(l=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),t=ux(e,1,!0,t,a??null,n,r,c,s,i,l,gx),t.context=dx(null),a=t.current,n=jt(),n=$h(n),r=cn(n),r.callback=null,un(a,r,n),a=n,t.current.lanes=a,Gi(t,a),ma(t),e[fs]=t.current,Cf(e),new wc(t)};rc.version="19.2.0";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(e){console.error(e)}}yx(),Ny.exports=rc;var BS=Ny.exports;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lg="popstate";function LS(e={}){function t(n,r){let{pathname:s,search:i,hash:l}=n.location;return Kd("",{pathname:s,search:i,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:Ci(r)}return qS(t,a,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function cg(e,t){return{usr:e.state,key:e.key,idx:t}}function Kd(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xs(t):t,state:a,key:t&&t.key||n||VS()}}function Ci({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function xs(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function qS(e,t,a,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,i=r.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function h(){l="POP";let x=d(),p=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:p})}function f(x,p){l="PUSH";let g=Kd(v.location,x,p);u=d()+1;let y=cg(g,u),j=v.createHref(g);try{i.pushState(y,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(j)}s&&c&&c({action:l,location:v.location,delta:1})}function m(x,p){l="REPLACE";let g=Kd(v.location,x,p);u=d();let y=cg(g,u),j=v.createHref(g);i.replaceState(y,"",j),s&&c&&c({action:l,location:v.location,delta:0})}function b(x){return $S(x)}let v={get action(){return l},get location(){return e(r,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(lg,h),c=x,()=>{r.removeEventListener(lg,h),c=null}},createHref(x){return t(r,x)},createURL:b,encodeLocation(x){let p=b(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(x){return i.go(x)}};return v}function $S(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ye(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ci(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function bx(e,t,a="/"){return HS(e,t,a,!1)}function HS(e,t,a,n){let r=typeof t=="string"?xs(t):t,s=Pa(r.pathname||"/",a);if(s==null)return null;let i=vx(e);IS(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=tN(s);l=ZS(i[c],u,n)}return l}function vx(e,t=[],a=[],n="",r=!1){let s=(i,l,c=r,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ye(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=ka([n,d.relativePath]),f=a.concat(d);i.children&&i.children.length>0&&(ye(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),vx(i.children,t,f,h,c)),!(i.path==null&&!i.index)&&t.push({path:h,score:QS(h,i.index),routesMeta:f})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let u of xx(i.path))s(i,l,!0,u)}),t}function xx(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let i=xx(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),r&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IS(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:JS(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var GS=/^:[\w-]+$/,YS=3,KS=2,FS=1,XS=10,WS=-2,ug=e=>e==="*";function QS(e,t){let a=e.split("/"),n=a.length;return a.some(ug)&&(n+=WS),t&&(n+=KS),a.filter(r=>!ug(r)).reduce((r,s)=>r+(GS.test(s)?YS:s===""?FS:XS),n)}function JS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function ZS(e,t,a=!1){let{routesMeta:n}=e,r={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=$l({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&a&&!n[n.length-1].route.index&&(h=$l({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:ka([s,h.pathname]),pathnameBase:iN(ka([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ka([s,h.pathnameBase]))}return i}function $l(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=eN(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let b=l[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function eN(e,t=!1,a=!0){qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function tN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}var aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nN=e=>aN.test(e);function rN(e,t="/"){let{pathname:a,search:n="",hash:r=""}=typeof e=="string"?xs(e):e,s;if(a)if(nN(a))s=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${a}`)}a.startsWith("/")?s=dg(a.substring(1),"/"):s=dg(a,t)}else s=t;return{pathname:s,search:oN(n),hash:lN(r)}}function dg(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function ju(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sN(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function zf(e){let t=sN(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function Pf(e,t,a,n=!1){let r;typeof e=="string"?r=xs(e):(r={...e},ye(!r.pathname||!r.pathname.includes("?"),ju("?","pathname","search",r)),ye(!r.pathname||!r.pathname.includes("#"),ju("#","pathname","hash",r)),ye(!r.search||!r.search.includes("#"),ju("#","search","hash",r)));let s=e===""||r.pathname==="",i=s?"/":r.pathname,l;if(i==null)l=a;else{let h=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=rN(r,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ka=e=>e.join("/").replace(/\/\/+/g,"/"),iN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var uN=["GET",...wx];new Set(uN);var ws=w.createContext(null);ws.displayName="DataRouter";var jc=w.createContext(null);jc.displayName="DataRouterState";w.createContext(!1);var jx=w.createContext({isTransitioning:!1});jx.displayName="ViewTransition";var dN=w.createContext(new Map);dN.displayName="Fetchers";var hN=w.createContext(null);hN.displayName="Await";var Zt=w.createContext(null);Zt.displayName="Navigation";var eo=w.createContext(null);eo.displayName="Location";var ea=w.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var Bf=w.createContext(null);Bf.displayName="RouteError";function fN(e,{relative:t}={}){ye(js(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=w.useContext(Zt),{hash:r,pathname:s,search:i}=to(e,{relative:t}),l=s;return a!=="/"&&(l=s==="/"?a:ka([a,s])),n.createHref({pathname:l,search:i,hash:r})}function js(){return w.useContext(eo)!=null}function ut(){return ye(js(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(eo).location}var _x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sx(e){w.useContext(Zt).static||w.useLayoutEffect(e)}function $a(){let{isDataRoute:e}=w.useContext(ea);return e?AN():mN()}function mN(){ye(js(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ws),{basename:t,navigator:a}=w.useContext(Zt),{matches:n}=w.useContext(ea),{pathname:r}=ut(),s=JSON.stringify(zf(n)),i=w.useRef(!1);return Sx(()=>{i.current=!0}),w.useCallback((c,u={})=>{if(qt(i.current,_x),!i.current)return;if(typeof c=="number"){a.go(c);return}let d=Pf(c,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ka([t,d.pathname])),(u.replace?a.replace:a.push)(d,u.state,u)},[t,a,s,r,e])}var pN=w.createContext(null);function gN(e){let t=w.useContext(ea).outlet;return w.useMemo(()=>t&&w.createElement(pN.Provider,{value:e},t),[t,e])}function to(e,{relative:t}={}){let{matches:a}=w.useContext(ea),{pathname:n}=ut(),r=JSON.stringify(zf(a));return w.useMemo(()=>Pf(e,JSON.parse(r),n,t==="path"),[e,r,n,t])}function yN(e,t){return Nx(e,t)}function Nx(e,t,a,n,r){var g;ye(js(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Zt),{matches:i}=w.useContext(ea),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let y=h&&h.path||"";Ex(u,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=ut(),m;if(t){let y=typeof t=="string"?xs(t):t;ye(d==="/"||((g=y.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${y.pathname}" was given in the \`location\` prop.`),m=y}else m=f;let b=m.pathname||"/",v=b;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=bx(e,{pathname:v});qt(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),qt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=jN(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:ka([d,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:ka([d,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),i,a,n,r);return t&&p?w.createElement(eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},p):p}function bN(){let e=TN(),t=cN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),a?w.createElement("pre",{style:r},a):null,i)}var vN=w.createElement(bN,null),xN=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(ea.Provider,{value:this.props.routeContext},w.createElement(Bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wN({routeContext:e,match:t,children:a}){let n=w.useContext(ws);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(ea.Provider,{value:e},a)}function jN(e,t=[],a=null,n=null,r=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let s=e,i=a==null?void 0:a.errors;if(i!=null){let d=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);ye(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(a)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=a,b=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=a&&n?(d,h)=>{var f,m;n(d,{location:a.location,params:((m=(f=a.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return s.reduceRight((d,h,f)=>{let m,b=!1,v=null,x=null;a&&(m=i&&h.route.id?i[h.route.id]:void 0,v=h.route.errorElement||vN,l&&(c<0&&f===0?(Ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):c===f&&(b=!0,x=h.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,f+1)),g=()=>{let y;return m?y=v:b?y=x:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,w.createElement(wN,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:a!=null},children:y})};return a&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(xN,{location:a.location,revalidation:a.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):g()},null)}function Lf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(e){let t=w.useContext(ws);return ye(t,Lf(e)),t}function SN(e){let t=w.useContext(jc);return ye(t,Lf(e)),t}function NN(e){let t=w.useContext(ea);return ye(t,Lf(e)),t}function Vf(e){let t=NN(e),a=t.matches[t.matches.length-1];return ye(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function EN(){return Vf("useRouteId")}function TN(){var n;let e=w.useContext(Bf),t=SN("useRouteError"),a=Vf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function AN(){let{router:e}=_N("useNavigate"),t=Vf("useNavigate"),a=w.useRef(!1);return Sx(()=>{a.current=!0}),w.useCallback(async(r,s={})=>{qt(a.current,_x),a.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var hg={};function Ex(e,t,a){!t&&!hg[e]&&(hg[e]=!0,qt(!1,a))}w.memo(CN);function CN({routes:e,future:t,state:a,unstable_onError:n}){return Nx(e,void 0,a,n,t)}function kN({to:e,replace:t,state:a,relative:n}){ye(js(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=w.useContext(Zt);qt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(ea),{pathname:i}=ut(),l=$a(),c=Pf(e,zf(s),i,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:a,relative:n})},[l,u,n,t,a]),null}function qf(e){return gN(e.context)}function pe(e){ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:r,static:s=!1}){ye(!js(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:i,navigator:r,static:s,future:{}}),[i,r,s]);typeof a=="string"&&(a=xs(a));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=a,m=w.useMemo(()=>{let b=Pa(c,i);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:f},navigationType:n}},[i,c,u,d,h,f,n]);return qt(m!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(Zt.Provider,{value:l},w.createElement(eo.Provider,{children:t,value:m}))}function RN({children:e,location:t}){return yN(Fd(e),t)}function Fd(e,t=[]){let a=[];return w.Children.forEach(e,(n,r)=>{if(!w.isValidElement(n))return;let s=[...t,r];if(n.type===w.Fragment){a.push.apply(a,Fd(n.props.children,s));return}ye(n.type===pe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ye(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Fd(n.props.children,s)),a.push(i)}),a}var il="get",ol="application/x-www-form-urlencoded";function _c(e){return e!=null&&typeof e.tagName=="string"}function DN(e){return _c(e)&&e.tagName.toLowerCase()==="button"}function MN(e){return _c(e)&&e.tagName.toLowerCase()==="form"}function UN(e){return _c(e)&&e.tagName.toLowerCase()==="input"}function zN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PN(e,t){return e.button===0&&(!t||t==="_self")&&!zN(e)}var Ao=null;function BN(){if(Ao===null)try{new FormData(document.createElement("form"),0),Ao=!1}catch{Ao=!0}return Ao}var LN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _u(e){return e!=null&&!LN.has(e)?(qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ol}"`),null):e}function VN(e,t){let a,n,r,s,i;if(MN(e)){let l=e.getAttribute("action");n=l?Pa(l,t):null,a=e.getAttribute("method")||il,r=_u(e.getAttribute("enctype"))||ol,s=new FormData(e)}else if(DN(e)||UN(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Pa(c,t):null,a=e.getAttribute("formmethod")||l.getAttribute("method")||il,r=_u(e.getAttribute("formenctype"))||_u(l.getAttribute("enctype"))||ol,s=new FormData(l,e),!BN()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(_c(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=il,n=null,r=ol,i=e}return s&&r==="text/plain"&&(i=s,s=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $f(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qN(e,t,a){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${a}`:t&&Pa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function $N(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IN(e,t,a){let n=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let i=await $N(s,a);return i.links?i.links():[]}return[]}));return FN(n.flat(1).filter(HN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function fg(e,t,a,n,r,s){let i=(c,u)=>a[u]?c.route.id!==a[u].route.id:!0,l=(c,u)=>{var d;return a[u].pathname!==c.pathname||((d=a[u].route.path)==null?void 0:d.endsWith("*"))&&a[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=a[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function GN(e,t,{includeHydrateFallback:a}={}){return YN(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function YN(e){return[...new Set(e)]}function KN(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function FN(e,t){let a=new Set;return new Set(t),e.reduce((n,r)=>{let s=JSON.stringify(KN(r));return a.has(s)||(a.add(s),n.push({key:s,link:r})),n},[])}function Tx(){let e=w.useContext(ws);return $f(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XN(){let e=w.useContext(jc);return $f(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hf=w.createContext(void 0);Hf.displayName="FrameworkContext";function Ax(){let e=w.useContext(Hf);return $f(e,"You must render this element inside a <HydratedRouter> element"),e}function WN(e,t){let a=w.useContext(Hf),[n,r]=w.useState(!1),[s,i]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let v=p=>{p.forEach(g=>{i(g.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[e]),w.useEffect(()=>{if(n){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{r(!0)},b=()=>{r(!1),i(!1)};return a?e!=="intent"?[s,f,{}]:[s,f,{onFocus:Ps(l,m),onBlur:Ps(c,b),onMouseEnter:Ps(u,m),onMouseLeave:Ps(d,b),onTouchStart:Ps(h,m)}]:[!1,f,{}]}function Ps(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function QN({page:e,...t}){let{router:a}=Tx(),n=w.useMemo(()=>bx(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?w.createElement(ZN,{page:e,matches:n,...t}):null}function JN(e){let{manifest:t,routeModules:a}=Ax(),[n,r]=w.useState([]);return w.useEffect(()=>{let s=!1;return IN(e,t,a).then(i=>{s||r(i)}),()=>{s=!0}},[e,t,a]),n}function ZN({page:e,matches:t,...a}){let n=ut(),{manifest:r,routeModules:s}=Ax(),{basename:i}=Tx(),{loaderData:l,matches:c}=XN(),u=w.useMemo(()=>fg(e,t,c,r,n,"data"),[e,t,c,r,n]),d=w.useMemo(()=>fg(e,t,c,r,n,"assets"),[e,t,c,r,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(t.forEach(p=>{var y;let g=r.routes[p.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===p.route.id)&&p.route.id in l&&((y=s[p.route.id])!=null&&y.shouldRevalidate)||g.hasClientLoader?v=!0:b.add(p.route.id))}),b.size===0)return[];let x=qN(e,i,"data");return v&&b.size>0&&x.searchParams.set("_routes",t.filter(p=>b.has(p.route.id)).map(p=>p.route.id).join(",")),[x.pathname+x.search]},[i,l,n,r,u,t,e,s]),f=w.useMemo(()=>GN(d,r),[d,r]),m=JN(d);return w.createElement(w.Fragment,null,h.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...a})),f.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...a})),m.map(({key:b,link:v})=>w.createElement("link",{key:b,nonce:a.nonce,...v})))}function eE(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cx&&(window.__reactRouterVersion="7.9.6")}catch{}function tE({basename:e,children:t,window:a}){let n=w.useRef();n.current==null&&(n.current=LS({window:a,v5Compat:!0}));let r=n.current,[s,i]=w.useState({action:r.action,location:r.location}),l=w.useCallback(c=>{w.startTransition(()=>i(c))},[i]);return w.useLayoutEffect(()=>r.listen(l),[r,l]),w.createElement(ON,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y=w.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:b}=w.useContext(Zt),v=typeof u=="string"&&kx.test(u),x,p=!1;if(typeof u=="string"&&v&&(x=u,Cx))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),k=Pa(R.pathname,b);R.origin===C.origin&&k!=null?u=k+R.search+R.hash:p=!0}catch{qt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=fN(u,{relative:r}),[y,j,N]=WN(n,f),_=sE(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function S(C){t&&t(C),C.defaultPrevented||_(C)}let E=w.createElement("a",{...f,...N,href:x||g,onClick:p||s?t:S,ref:eE(m,j),target:c,"data-discover":!v&&a==="render"?"true":void 0});return y&&!v?w.createElement(w.Fragment,null,E,w.createElement(QN,{page:g})):E});Y.displayName="Link";var aE=w.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let h=to(i,{relative:u.relative}),f=ut(),m=w.useContext(jc),{navigator:b,basename:v}=w.useContext(Zt),x=m!=null&&uE(h)&&l===!0,p=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,g=f.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(g=g.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&v&&(y=Pa(y,v)||y);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=g===p||!r&&g.startsWith(p)&&g.charAt(j)==="/",_=y!=null&&(y===p||!r&&y.startsWith(p)&&y.charAt(p.length)==="/"),S={isActive:N,isPending:_,isTransitioning:x},E=N?t:void 0,C;typeof n=="function"?C=n(S):C=[n,N?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(S):s;return w.createElement(Y,{...u,"aria-current":E,className:C,ref:d,style:R,to:i,viewTransition:l},typeof c=="function"?c(S):c)});aE.displayName="NavLink";var nE=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:r,state:s,method:i=il,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let b=lE(),v=cE(l,{relative:u}),x=i.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&kx.test(l),g=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let j=y.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||i;b(j||y.currentTarget,{fetcherKey:t,method:N,navigate:a,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:m,method:x,action:v,onSubmit:n?c:g,...f,"data-discover":!p&&e==="render"?"true":void 0})});nE.displayName="Form";function rE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(e){let t=w.useContext(ws);return ye(t,rE(e)),t}function sE(e,{target:t,replace:a,state:n,preventScrollReset:r,relative:s,viewTransition:i}={}){let l=$a(),c=ut(),u=to(e,{relative:s});return w.useCallback(d=>{if(PN(d,t)){d.preventDefault();let h=a!==void 0?a:Ci(c)===Ci(u);l(e,{replace:h,state:n,preventScrollReset:r,relative:s,viewTransition:i})}},[c,l,u,a,n,t,e,r,s,i])}var iE=0,oE=()=>`__${String(++iE)}__`;function lE(){let{router:e}=Ox("useSubmit"),{basename:t}=w.useContext(Zt),a=EN();return w.useCallback(async(n,r={})=>{let{action:s,method:i,encType:l,formData:c,body:u}=VN(n,t);if(r.navigate===!1){let d=r.fetcherKey||oE();await e.fetch(d,a,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||i,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||i,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,a])}function cE(e,{relative:t}={}){let{basename:a}=w.useContext(Zt),n=w.useContext(ea);ye(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...to(e||".",{relative:t})},i=ut();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(s.pathname=s.pathname==="/"?a:ka([a,s.pathname])),Ci(s)}function uE(e,{relative:t}={}){let a=w.useContext(jx);ye(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ox("useViewTransitionState"),r=to(e,{relative:t});if(!a.isTransitioning)return!1;let s=Pa(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=Pa(a.nextLocation.pathname,n)||a.nextLocation.pathname;return $l(r.pathname,i)!=null||$l(r.pathname,s)!=null}var Xd=function(e,t){return Xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])},Xd(e,t)};function Rx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xd(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Hl=function(){return Hl=Object.assign||function(t){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Hl.apply(this,arguments)};function _s(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a}function Dx(e,t,a,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,a):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,a,s):i(t,a))||s);return r>3&&s&&Object.defineProperty(t,a,s),s}function Mx(e,t){return function(a,n){t(a,n,e)}}function Ux(e,t,a,n,r,s){function i(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=a.length-1;m>=0;m--){var b={};for(var v in n)b[v]=v==="access"?{}:n[v];for(var v in n.access)b.access[v]=n.access[v];b.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(p||null))};var x=(0,a[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],b);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=i(x.get))&&(d.get=h),(h=i(x.set))&&(d.set=h),(h=i(x.init))&&r.unshift(h)}else(h=i(x))&&(l==="field"?r.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function zx(e,t,a){for(var n=arguments.length>2,r=0;r<t.length;r++)a=n?t[r].call(e,a):t[r].call(e);return n?a:void 0}function Px(e){return typeof e=="symbol"?e:"".concat(e)}function Bx(e,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function Lx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function M(e,t,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?s(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Vx(e,t){var a={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){a.label=u[1];break}if(u[0]===6&&a.label<s[1]){a.label=s[1],s=u;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(u);break}s[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(d){u=[6,d],r=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Sc=Object.create?function(e,t,a,n){n===void 0&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){n===void 0&&(n=a),e[n]=t[a]};function qx(e,t){for(var a in e)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&Sc(t,e,a)}function Il(e){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&e[t],n=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),r,s=[],i;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(i)throw i.error}}return s}function $x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(If(arguments[t]));return e}function Hx(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<a;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,r++)n[r]=s[i];return n}function Ix(e,t,a){if(a||arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function cs(e){return this instanceof cs?(this.v=e,this):new cs(e)}function Gx(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(m){return function(b){return Promise.resolve(b).then(m,h)}}function l(m,b){n[m]&&(r[m]=function(v){return new Promise(function(x,p){s.push([m,v,x,p])>1||c(m,v)})},b&&(r[m]=b(r[m])))}function c(m,b){try{u(n[m](b))}catch(v){f(s[0][3],v)}}function u(m){m.value instanceof cs?Promise.resolve(m.value.v).then(d,h):f(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function f(m,b){m(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Yx(e){var t,a;return t={},n("next"),n("throw",function(r){throw r}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(r,s){t[r]=e[r]?function(i){return(a=!a)?{value:cs(e[r](i)),done:!1}:s?s(i):i}:s}}function Kx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],a;return t?t.call(e):(e=typeof Il=="function"?Il(e):e[Symbol.iterator](),a={},n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a);function n(s){a[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),r(l,c,i.done,i.value)})}}function r(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function Fx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var dE=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Wd=function(e){return Wd=Object.getOwnPropertyNames||function(t){var a=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[a.length]=n);return a},Wd(e)};function Xx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var a=Wd(e),n=0;n<a.length;n++)a[n]!=="default"&&Sc(t,e,a[n]);return dE(t,e),t}function Wx(e){return e&&e.__esModule?e:{default:e}}function Qx(e,t,a,n){if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?n:a==="a"?n.call(e):n?n.value:t.get(e)}function Jx(e,t,a,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(e,a):r?r.value=a:t.set(e,a),a}function Zx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ew(e,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,r;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],a&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:a})}else a&&e.stack.push({async:!0});return t}var hE=typeof SuppressedError=="function"?SuppressedError:function(e,t,a){var n=new Error(a);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function tw(e){function t(s){e.error=e.hasError?new hE(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var a,n=0;function r(){for(;a=e.stack.pop();)try{if(!a.async&&n===1)return n=0,e.stack.push(a),Promise.resolve().then(r);if(a.dispose){var s=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(s).then(r,function(i){return t(i),r()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function aw(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,n,r,s,i){return n?t?".jsx":".js":r&&(!s||!i)?a:r+s+"."+i.toLowerCase()+"js"}):e}const fE={__extends:Rx,__assign:Hl,__rest:_s,__decorate:Dx,__param:Mx,__esDecorate:Ux,__runInitializers:zx,__propKey:Px,__setFunctionName:Bx,__metadata:Lx,__awaiter:M,__generator:Vx,__createBinding:Sc,__exportStar:qx,__values:Il,__read:If,__spread:$x,__spreadArrays:Hx,__spreadArray:Ix,__await:cs,__asyncGenerator:Gx,__asyncDelegator:Yx,__asyncValues:Kx,__makeTemplateObject:Fx,__importStar:Xx,__importDefault:Wx,__classPrivateFieldGet:Qx,__classPrivateFieldSet:Jx,__classPrivateFieldIn:Zx,__addDisposableResource:ew,__disposeResources:tw,__rewriteRelativeImportExtension:aw},mE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ew,get __assign(){return Hl},__asyncDelegator:Yx,__asyncGenerator:Gx,__asyncValues:Kx,__await:cs,__awaiter:M,__classPrivateFieldGet:Qx,__classPrivateFieldIn:Zx,__classPrivateFieldSet:Jx,__createBinding:Sc,__decorate:Dx,__disposeResources:tw,__esDecorate:Ux,__exportStar:qx,__extends:Rx,__generator:Vx,__importDefault:Wx,__importStar:Xx,__makeTemplateObject:Fx,__metadata:Lx,__param:Mx,__propKey:Px,__read:If,__rest:_s,__rewriteRelativeImportExtension:aw,__runInitializers:zx,__setFunctionName:Bx,__spread:$x,__spreadArray:Ix,__spreadArrays:Hx,__values:Il,default:fE},Symbol.toStringTag,{value:"Module"})),pE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gf extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class gE extends Gf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mg extends Gf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pg extends Gf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qd||(Qd={}));class yE{constructor(t,{headers:a={},customFetch:n,region:r=Qd.Any}={}){this.url=t,this.headers=a,this.region=r,this.fetch=pE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return M(this,arguments,void 0,function*(a,n={}){var r;let s,i;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const b=new URL(`${this.url}/${a}`);m&&m!=="any"&&(f["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let x=d;h&&(i=new AbortController,s=setTimeout(()=>i.abort(),h),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const p=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:x}).catch(N=>{throw new gE(N)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new mg(p);if(!p.ok)throw new pg(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield p.json():y==="application/octet-stream"||y==="application/pdf"?j=yield p.blob():y==="text/event-stream"?j=p:y==="multipart/form-data"?j=yield p.formData():j=yield p.text(),{data:j,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof pg||l instanceof mg?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var Je={};const Ss=qj(mE);var Co={},ko={},Oo={},Ro={},Do={},Mo={},gg;function nw(){if(gg)return Mo;gg=1,Object.defineProperty(Mo,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Mo.default=e,Mo}var yg;function rw(){if(yg)return Do;yg=1,Object.defineProperty(Do,"__esModule",{value:!0});const t=Ss.__importDefault(nw());class a{constructor(r){var s,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(s=r.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,s){return this.headers=new Headers(this.headers),this.headers.set(r,s),this}then(r,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let m=null,b=null,v=null,x=c.status,p=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?b=N:b=JSON.parse(N))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(m={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,v=null,x=406,p="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const y=await c.text();try{m=JSON.parse(y),Array.isArray(m)&&c.status===404&&(b=[],m=null,x=200,p="OK")}catch{c.status===404&&y===""?(x=204,p="No Content"):m={message:y}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,x=200,p="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:b,count:v,status:x,statusText:p}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,f,m,b;let v="";const x=c==null?void 0:c.cause;if(x){const p=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",g=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";v=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(f=x==null?void 0:x.name)!==null&&f!==void 0?f:"Error"}: ${p}`,g&&(v+=` (${g})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(r,s)}returns(){return this}overrideTypes(){return this}}return Do.default=a,Do}var bg;function sw(){if(bg)return Ro;bg=1,Object.defineProperty(Ro,"__esModule",{value:!0});const t=Ss.__importDefault(rw());class a extends t.default{select(r){let s=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${r}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(u,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[r?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Ro.default=a,Ro}var vg;function Yf(){if(vg)return Oo;vg=1,Object.defineProperty(Oo,"__esModule",{value:!0});const t=Ss.__importDefault(sw()),a=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}regexMatch(s,i){return this.url.searchParams.append(s,`match.${i}`),this}regexIMatch(s,i){return this.url.searchParams.append(s,`imatch.${i}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}isDistinct(s,i){return this.url.searchParams.append(s,`isdistinct.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&a.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return Oo.default=n,Oo}var xg;function iw(){if(xg)return ko;xg=1,Object.defineProperty(ko,"__esModule",{value:!0});const t=Ss.__importDefault(Yf());class a{constructor(r,{headers:s={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(r,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var s;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ko.default=a,ko}var wg;function bE(){if(wg)return Co;wg=1,Object.defineProperty(Co,"__esModule",{value:!0});const e=Ss,t=e.__importDefault(iw()),a=e.__importDefault(Yf());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${s}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(i).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{f.searchParams.append(v,x)})):(h="POST",m=i);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new a.default({method:h,url:f,headers:b,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Co.default=n,Co}Object.defineProperty(Je,"__esModule",{value:!0});var ow=Je.PostgrestError=yw=Je.PostgrestBuilder=pw=Je.PostgrestTransformBuilder=fw=Je.PostgrestFilterBuilder=dw=Je.PostgrestQueryBuilder=cw=Je.PostgrestClient=void 0;const Ns=Ss,lw=Ns.__importDefault(bE());var cw=Je.PostgrestClient=lw.default;const uw=Ns.__importDefault(iw());var dw=Je.PostgrestQueryBuilder=uw.default;const hw=Ns.__importDefault(Yf());var fw=Je.PostgrestFilterBuilder=hw.default;const mw=Ns.__importDefault(sw());var pw=Je.PostgrestTransformBuilder=mw.default;const gw=Ns.__importDefault(rw());var yw=Je.PostgrestBuilder=gw.default;const bw=Ns.__importDefault(nw());ow=Je.PostgrestError=bw.default;var vw=Je.default={PostgrestClient:lw.default,PostgrestQueryBuilder:uw.default,PostgrestFilterBuilder:hw.default,PostgrestTransformBuilder:mw.default,PostgrestBuilder:gw.default,PostgrestError:bw.default};const vE=Lj({__proto__:null,get PostgrestBuilder(){return yw},get PostgrestClient(){return cw},get PostgrestError(){return ow},get PostgrestFilterBuilder(){return fw},get PostgrestQueryBuilder(){return dw},get PostgrestTransformBuilder(){return pw},default:vw},[Je]),{PostgrestClient:xE,PostgrestQueryBuilder:mM,PostgrestFilterBuilder:pM,PostgrestTransformBuilder:gM,PostgrestBuilder:yM,PostgrestError:bM}=vw||vE;class wE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const n=a.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jE="2.86.0",_E=`realtime-js/${jE}`,xw="1.0.0",SE="2.0.0",jg=xw,Jd=1e4,NE=1e3,EE=100;var Bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bn||(Bn={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var Wt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wt||(Wt={}));var Zd;(function(e){e.websocket="websocket"})(Zd||(Zd={}));var Ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ln||(Ln={}));class TE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const r=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var a,n;const r=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,a,n){var r,s;const i=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),v=0;b.setUint8(v++,this.KINDS.userBroadcastPush),b.setUint8(v++,c.length),b.setUint8(v++,l.length),b.setUint8(v++,i.length),b.setUint8(v++,u.length),b.setUint8(v++,h.length),b.setUint8(v++,a),Array.from(c,p=>b.setUint8(v++,p.charCodeAt(0))),Array.from(l,p=>b.setUint8(v++,p.charCodeAt(0))),Array.from(i,p=>b.setUint8(v++,p.charCodeAt(0))),Array.from(u,p=>b.setUint8(v++,p.charCodeAt(0))),Array.from(h,p=>b.setUint8(v++,p.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[r,s,i,l,c]=n;return a({join_ref:r,ref:s,topic:i,event:l,payload:c})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,r)}}_decodeUserBroadcast(t,a,n){const r=a.getUint8(1),s=a.getUint8(2),i=a.getUint8(3),l=a.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+r));c=c+r;const d=n.decode(t.slice(c,c+s));c=c+s;const h=n.decode(t.slice(c,c+i));c=c+i;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,b={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class ww{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const _g=(e,t,a={})=>{var n;const r=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=AE(i,e,t,r),s),{}):{}},AE=(e,t,a,n)=>{const r=t.find(l=>l.name===e),s=r==null?void 0:r.type,i=a[e];return s&&!n.includes(s)?jw(s,i):eh(i)},jw=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return RE(t,a)}switch(e){case oe.bool:return CE(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return kE(t);case oe.json:case oe.jsonb:return OE(t);case oe.timestamp:return DE(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return eh(t);default:return eh(t)}},eh=e=>e,CE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RE=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,a);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>jw(t,l))}return e},DE=e=>typeof e=="string"?e.replace(" ","T"):e,_w=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Su{constructor(t,a,n={},r=Jd){this.channel=t,this.event=a,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sg||(Sg={}));class ii{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ii.syncState(this.state,r,s,i),this.pendingDiffs.forEach(c=>{this.state=ii.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ii.syncDiff(this.state,r,s,i),l())}),this.onJoin((r,s,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:i})}),this.onLeave((r,s,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,r){const s=this.cloneDeep(t),i=this.transformState(a),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=s[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),v=h.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,r)}static syncDiff(t,a,n,r){const{joins:s,leaves:i}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const r=t[n];return"metas"in r?a[n]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[n]=r,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ng;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ng||(Ng={}));var oi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oi||(oi={}));var xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class Kf{constructor(t,a={config:{}},n){var r,s;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Su(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new ww(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new ii(this),this.broadcastEndpointURL=_w(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&r!==void 0?r:[],d=!!this.bindings[oi.PRESENCE]&&this.bindings[oi.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(xa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(xa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(xa.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,p=[];for(let g=0;g<x;g++){const y=v[g],{filter:{event:j,schema:N,table:_,filter:S}}=y,E=m&&m[g];if(E&&E.event===j&&E.schema===N&&E.table===_&&E.filter===S)p.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(xa.SUBSCRIBED);return}}).receive("error",m=>{this.state=Re.errored,t==null||t(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===Re.joined&&t===oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,a={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Su(this,Wt.leave,{},t),n.receive("ok",()=>{a(),r("ok")}).receive("timeout",()=>{a(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:r.signal}));return clearTimeout(s),i}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Su(this,t,a,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EE){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var r,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wt;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,a,n);if(a&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var b,v,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var b,v,x,p,g,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const j=m.id,N=(b=m.filter)===null||b===void 0?void 0:b.event;return j&&((v=a.ids)===null||v===void 0?void 0:v.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=a.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((y=a==null?void 0:a.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:v,table:x,commit_timestamp:p,type:g,errors:y}=b;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(b))}m.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const r=t.toLocaleLowerCase(),s={type:r,filter:a,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Kf.isEqual(r.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wt.close,{},t)}_onError(t){this._on(Wt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=_g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=_g(t.columns,t.old_record)),a}}const Nu=()=>{},Uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ME=[1e3,2e3,5e3,1e4],UE=1e4,zE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PE{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jd,this.transport=null,this.heartbeatIntervalMs=Uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nu,this.ref=0,this.reconnectTimer=null,this.vsn=jg,this.logger=Nu,this.conn=null,this.sendBuffer=[],this.serializer=new TE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Zd.websocket}`,this.httpEndpoint=_w(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return Ln.Connecting;case Bn.open:return Ln.Open;case Bn.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find(s=>s.topic===n);if(r)return r;{const s=new Kf(`realtime:${t}`,a,this);return this.channels.push(s),s}}push(t){const{topic:a,event:n,payload:r,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${a} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NE,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:s,ref:i}=a,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${r} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,s,i)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(a);return`${t}${n}${r}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([zE],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a;t?a=t:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(n=>{const r={access_token:a,version:_E};a&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(Wt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ww(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,r,s,i,l,c,u,d,h,f,m;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jd,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Uo.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Nu,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:jg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>ME[b-1]||UE,this.vsn){case xw:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,v)=>v(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,v)=>v(JSON.parse(b));break;case SE:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Nc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BE extends Nc{constructor(t,a,n){super(t),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class th extends Nc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}const Ff=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LE=()=>Response,ah=e=>{if(Array.isArray(e))return e.map(a=>ah(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const r=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[r]=ah(n)}),t},VE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Eu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$E=(e,t,a)=>M(void 0,void 0,void 0,function*(){const n=yield LE();e instanceof n&&!(a!=null&&a.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new BE(Eu(r),s,i))}).catch(r=>{t(new th(Eu(r),r))}):t(new th(Eu(e),e))}),HE=(e,t,a,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?r:(VE(n)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(n)):r.body=n,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),a))};function ao(e,t,a,n,r,s){return M(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(a,HE(t,n,r,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>$E(c,l,n))})})}function ki(e,t,a,n){return M(this,void 0,void 0,function*(){return ao(e,"GET",t,a,n)})}function Ft(e,t,a,n,r){return M(this,void 0,void 0,function*(){return ao(e,"POST",t,n,r,a)})}function nh(e,t,a,n,r){return M(this,void 0,void 0,function*(){return ao(e,"PUT",t,n,r,a)})}function IE(e,t,a,n){return M(this,void 0,void 0,function*(){return ao(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),n)})}function Xf(e,t,a,n,r){return M(this,void 0,void 0,function*(){return ao(e,"DELETE",t,n,r,a)})}class GE{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a}then(t,a){return this.execute().then(t,a)}execute(){return M(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}var Sw;class YE{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a,this[Sw]="BlobDownloadBuilder",this.promise=null}asStream(){return new GE(this.downloadFn,this.shouldThrowOnError)}then(t,a){return this.getPromise().then(t,a)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return M(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}Sw=Symbol.toStringTag;const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FE{constructor(t,a={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=n,this.fetch=Ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,n,r){return M(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},Eg),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(a),d=this._getFinalPath(u),h=yield(t=="PUT"?nh:Ft)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}upload(t,a,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,n)})}uploadToSignedUrl(t,a,n,r){return M(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",a);try{let c;const u=Object.assign({upsert:Eg.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nh(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,a){return M(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);a!=null&&a.upsert&&(r["x-upsert"]="true");const s=yield Ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new Nc("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}update(t,a,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,n)})}move(t,a,n){return M(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}copy(t,a,n){return M(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}createSignedUrl(t,a,n){return M(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),s=yield Ft(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:a},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}createSignedUrls(t,a,n){return M(this,void 0,void 0,function*(){try{const r=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}download(t,a){const r=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>ki(this.fetch,`${this.url}/${r}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new YE(c,this.shouldThrowOnError)}info(t){return M(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const n=yield ki(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:ah(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}exists(t){return M(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield IE(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n)&&n instanceof th){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,a){const n=this._getFinalPath(t),r=[],s=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";s!==""&&r.push(s);const l=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return M(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}list(t,a,n){return M(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},KE),a),{prefix:t||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}listV2(t,a){return M(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const Nw="2.86.0",Ew={"X-Client-Info":`storage-js/${Nw}`};class XE{constructor(t,a={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ew),a),this.fetch=Ff(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return M(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(t);return{data:yield ki(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}getBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}createBucket(t){return M(this,arguments,void 0,function*(a,n={public:!1}){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,a){return M(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}deleteBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(t){const a={};return t&&("limit"in t&&(a.limit=String(t.limit)),"offset"in t&&(a.offset=String(t.offset)),t.search&&(a.search=t.search),t.sortColumn&&(a.sortColumn=t.sortColumn),t.sortOrder&&(a.sortOrder=t.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}var Oi=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WE(e,t,a){const n=new URL(t,e);if(a)for(const[r,s]of Object.entries(a))s!==void 0&&n.searchParams.set(r,s);return n.toString()}async function QE(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JE(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:r,body:s,headers:i}){const l=WE(e.baseUrl,n,r),c=await QE(e.auth),u=await t(l,{method:a,headers:{...s?{"Content-Type":"application/json"}:{},...c,...i},body:s?JSON.stringify(s):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,b=m==null?void 0:m.error;throw new Oi((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function zo(e){return e.join("")}var ZE=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:zo(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zo(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zo(e.namespace)}`}),!0}catch(t){if(t instanceof Oi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof Oi&&a.status===409)return;throw a}}};function hr(e){return e.join("")}var eT=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof Oi&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof Oi&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},tT=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JE({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ZE(this.client,t),this.tableOps=new eT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class aT{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ew),a),this.fetch=Ff(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}listBuckets(t){return M(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&a.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&a.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&a.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&a.set("sortOrder",t.sortOrder),t!=null&&t.search&&a.set("search",t.search);const n=a.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ki(this.fetch,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}deleteBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}from(t){if(!qE(t))throw new Nc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new tT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>M(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Wf={"X-Client-Info":`storage-js/${Nw}`,"Content-Type":"application/json"};class Tw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tu extends Tw{constructor(t,a,n){super(t),this.name="StorageVectorsApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nT extends Tw{constructor(t,a){super(t),this.name="StorageVectorsUnknownError",this.originalError=a}}var Tg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Tg||(Tg={}));const Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ag=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sT=(e,t,a)=>M(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Tu(Ag(i),r,l))}).catch(()=>{const i=r+"",l=s.statusText||`HTTP ${r} error`;t(new Tu(l,r,i))});else{const i=r+"",l=s.statusText||`HTTP ${r} error`;t(new Tu(l,r,i))}}else t(new nT(Ag(e),e))}),iT=(e,t,a,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(rT(n)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(n)):r.body=n,Object.assign(Object.assign({},r),a)):r};function oT(e,t,a,n,r,s){return M(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(a,iT(t,n,r,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>sT(c,l,n))})})}function yt(e,t,a,n,r){return M(this,void 0,void 0,function*(){return oT(e,"POST",t,n,r,a)})}class lT{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),a),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return M(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}getIndex(t,a){return M(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}listIndexes(t){return M(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}deleteIndex(t,a){return M(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}}class cT{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),a),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return M(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield yt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}getVectors(t){return M(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}listVectors(t){return M(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield yt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}queryVectors(t){return M(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}deleteVectors(t){return M(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield yt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}}class uT{constructor(t,a={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wf),a),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return M(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}getBucket(t){return M(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}listBuckets(){return M(this,arguments,void 0,function*(t={}){try{return{data:yield yt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return M(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}}class dT extends uT{constructor(t,a={}){super(t,a.headers||{},a.fetch)}from(t){return new hT(this.url,this.headers,t,this.fetch)}createBucket(t){const a=Object.create(null,{createBucket:{get:()=>super.createBucket}});return M(this,void 0,void 0,function*(){return a.createBucket.call(this,t)})}getBucket(t){const a=Object.create(null,{getBucket:{get:()=>super.getBucket}});return M(this,void 0,void 0,function*(){return a.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return M(this,arguments,void 0,function*(a={}){return t.listBuckets.call(this,a)})}deleteBucket(t){const a=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return M(this,void 0,void 0,function*(){return a.deleteBucket.call(this,t)})}}class hT extends lT{constructor(t,a,n,r){super(t,a,r),this.vectorBucketName=n}createIndex(t){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return M(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return M(this,arguments,void 0,function*(a={}){return t.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return M(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return M(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new fT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class fT extends cT{constructor(t,a,n,r,s){super(t,a,s),this.vectorBucketName=n,this.indexName=r}putVectors(t){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return M(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return M(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return M(this,arguments,void 0,function*(a={}){return t.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return M(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return M(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mT extends XE{constructor(t,a={},n,r){super(t,a,n,r)}from(t){return new FE(this.url,this.headers,t,this.fetch)}get vectors(){return new dT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aT(this.url+"/iceberg",this.headers,this.fetch)}}const pT="2.86.0";let Is="";typeof Deno<"u"?Is="deno":typeof document<"u"?Is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Is="react-native":Is="node";const gT={"X-Client-Info":`supabase-js-${Is}/${pT}`},yT={headers:gT},bT={schema:"public"},vT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xT={},wT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jT=()=>Headers,_T=(e,t,a)=>{const n=wT(a),r=jT();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new r(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function ST(e){return e.endsWith("/")?e:e+"/"}function NT(e,t){var a,n;const{db:r,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function ET(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ST(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Aw="2.86.0",jr=30*1e3,rh=3,Au=rh*jr,TT="http://localhost:9999",AT="supabase.auth.token",CT={"X-Client-Info":`gotrue-js/${Aw}`},sh="X-Supabase-Api-Version",Cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OT=10*60*1e3;class Ri extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RT extends Ri{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function DT(e){return z(e)&&e.name==="AuthApiError"}class Vn extends Ri{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Nn extends Ri{constructor(t,a,n,r){super(t,n,r),this.name=a,this.status=n}}class ht extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MT(e){return z(e)&&e.name==="AuthSessionMissingError"}class fr extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Po extends Nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bo extends Nn{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UT(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cg extends Nn{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ih extends Nn{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Cu(e){return z(e)&&e.name==="AuthRetryableFetchError"}class kg extends Nn{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class oh extends Nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Og=` 	
\r=`.split(""),zT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Og.length;t+=1)e[Og[t].charCodeAt(0)]=-2;for(let t=0;t<Gl.length;t+=1)e[Gl[t].charCodeAt(0)]=t;return e})();function Rg(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Gl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Gl[n]),t.queuedBits-=6}}function kw(e,t,a){const n=zT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dg(e){const t=[],a=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=i=>{LT(i,n,a)};for(let i=0;i<e.length;i+=1)kw(e.charCodeAt(i),r,s);return t.join("")}function PT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BT(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|r)+65536,a+=1}PT(n,t)}}function LT(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Xr(e){const t=[],a={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)kw(e.charCodeAt(r),a,n);return new Uint8Array(t)}function VT(e){const t=[];return BT(e,a=>t.push(a)),new Uint8Array(t)}function qn(e){const t=[],a={queue:0,queuedBits:0},n=r=>{t.push(r)};return e.forEach(r=>Rg(r,a,n)),Rg(null,a,n),t.join("")}function qT(e){return Math.round(Date.now()/1e3)+e}function $T(){return Symbol("auth-callback")}const He=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},Ow=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function HT(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((r,s)=>{t[s]=r})}catch{}return a.searchParams.forEach((n,r)=>{t[r]=n}),t}const Rw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_r=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},Cn=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ia=async(e,t)=>{await e.removeItem(t)};class Ec{constructor(){this.promise=new Ec.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Ec.promiseConstructor=Promise;function ku(e){const t=e.split(".");if(t.length!==3)throw new oh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kT.test(t[n]))throw new oh("JWT not in base64url format");return{header:JSON.parse(Dg(t[0])),payload:JSON.parse(Dg(t[1])),signature:Xr(t[2]),raw:{header:t[0],payload:t[1]}}}async function GT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function YT(e,t){return new Promise((n,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){r(i);return}}})()})}function KT(e){return("0"+e.toString(16)).substr(-2)}function FT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let r="";for(let s=0;s<56;s++)r+=a.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,KT).join("")}async function XT(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),r=new Uint8Array(n);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function WT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await XT(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mr(e,t,a=!1){const n=FT();let r=n;a&&(r+="/PASSWORD_RECOVERY"),await _r(e,`${t}-code-verifier`,r);const s=await WT(n);return[s,n===s?"plain":"s256"]}const QT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JT(e){const t=e.headers.get(sh);if(!t||!t.match(QT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ZT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pr(e){if(!tA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ou(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aA(e,t){return new Proxy(e,{get:(a,n,r)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,r)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,r)}})}function Mg(e){return JSON.parse(JSON.stringify(e))}const Un=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nA=[502,503,504];async function Ug(e){var t;if(!IT(e))throw new ih(Un(e),0);if(nA.includes(e.status))throw new ih(Un(e),e.status);let a;try{a=await e.json()}catch(s){throw new Vn(Un(s),s)}let n;const r=JT(e);if(r&&r.getTime()>=Cw["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new kg(Un(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ht}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new kg(Un(a),e.status,a.weak_password.reasons);throw new RT(Un(a),e.status||500,n)}const rA=(e,t,a,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),a))};async function V(e,t,a,n){var r;const s=Object.assign({},n==null?void 0:n.headers);s[sh]||(s[sh]=Cw["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await sA(e,t,a+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function sA(e,t,a,n,r,s){const i=rA(t,n,r,s);let l;try{l=await e(a,Object.assign({},i))}catch(c){throw console.error(c),new ih(Un(c),0)}if(l.ok||await Ug(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ug(c)}}function Yt(e){var t;let a=null;lA(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=qT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function zg(e){const t=Yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iA(e){return{data:e,error:null}}function oA(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:r,verification_type:s}=e,i=_s(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:a,hashed_token:n,redirect_to:r,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Pg(e){return e}function lA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ru=["global","local","others"];class cA{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=Rw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Ru[0]){if(Ru.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ru.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Za})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=_s(t,["options"]),r=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:oA,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(z(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Za})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,r,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Pg});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){pr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Za})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){pr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Za})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){pr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Za})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){pr(t.userId);try{const{data:a,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:a,error:n}}catch(a){if(z(a))return{data:null,error:a};throw a}}async _deleteFactor(t){pr(t.userId),pr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,r,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Pg});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}}function Bg(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const gr={debug:!!(globalThis&&Ow()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uA extends Dw{}async function dA(e,t,a){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await a()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function hA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fA(e){return parseInt(e,16)}function mA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function pA(e){var t;const{chainId:a,domain:n,expirationTime:r,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Mw(e.address),b=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${v}`;let p=`URI: ${h}
Version: ${f}
Chain ID: ${a}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(r&&(p+=`
Expiration Time: ${r.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}p+=g}return`${x}
${p}`}class Ne extends Error{constructor({message:t,code:a,cause:n,name:r}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=r??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=a}}class Yl extends Ne{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function gA({error:e,options:t}){var a,n,r;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Uw(i)){if(s.rp.id!==i)return new Ne({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yA({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Uw(n)){if(a.rpId!==n)return new Ne({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bA{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vA=new bA;function xA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,r=_s(e,["challenge","user","excludeCredentials"]),s=Xr(t).buffer,i=Object.assign(Object.assign({},a),{id:Xr(a.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Xr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function wA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=_s(e,["challenge","allowCredentials"]),r=Xr(t).buffer,s=Object.assign(Object.assign({},n),{challenge:r});if(a&&a.length>0){s.allowCredentials=new Array(a.length);for(let i=0;i<a.length;i++){const l=a[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Xr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function jA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:qn(new Uint8Array(e.response.attestationObject)),clientDataJSON:qn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _A(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qn(new Uint8Array(r.authenticatorData)),clientDataJSON:qn(new Uint8Array(r.clientDataJSON)),signature:qn(new Uint8Array(r.signature)),userHandle:r.userHandle?qn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Uw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lg(){var e,t;return!!(He()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",t)}:{data:null,error:new Yl("Empty credential response",t)}}catch(t){return{data:null,error:gA({error:t,options:e})}}}async function NA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",t)}:{data:null,error:new Yl("Empty credential response",t)}}catch(t){return{data:null,error:yA({error:t,options:e})}}}const EA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kl(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),a=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of e)if(r)for(const s in r){const i=r[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(a(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=Kl(l,i):n[s]=Kl(i)}else n[s]=i}return n}function AA(e,t){return Kl(EA,e,t||{})}function CA(e,t){return Kl(TA,e,t||{})}class kA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:r},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!i)return{data:null,error:l};const c=r??vA.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=AA(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await SA({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=CA(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await NA(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new Vn("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},s){if(!a)return{data:null,error:new Ri("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:r},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:a,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new Vn("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},s){if(!a)return{data:null,error:new Ri("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:r},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:a,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return z(i)?{data:null,error:i}:{data:null,error:new Vn("Unexpected error in register",i)}}}}hA();const OA={url:TT,storageKey:AT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vg(e,t,a){return await a()}const yr={};class Di{get jwks(){var t,a;return(a=(t=yr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=yr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},OA),t);if(this.storageKey=s.storageKey,this.instanceID=(a=Di.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Di.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&He()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new cA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rw(s.fetch),this.lock=s.lock||Vg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:He()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dA:this.lock=Vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ow()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(He()&&(a=HT(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),He()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:s}=await this._getSessionFromURL(a,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),UT(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return z(a)?this._returnResult({error:a}):this._returnResult({error:new Vn("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,r;try{const s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Yt}),{data:i,error:l}=s;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var a,n,r;try{let s;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await mr(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:Yt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yt})}else throw new Po("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let a;if("email"in t){const{email:s,password:i,options:l}=t;a=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zg})}else if("phone"in t){const{phone:s,password:i,options:l}=t;a=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zg})}else throw new Po("You must provide either an email or phone number and a password");const{data:n,error:r}=a;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const s=new fr;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,r,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,r,s,i,l,c,u,d,h,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:v,wallet:x,statement:p,options:g}=t;let y;if(He())if(typeof x=="object")y=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")y=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const j=new URL((a=g==null?void 0:g.url)!==null&&a!==void 0?a:window.location.href),N=await y.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Mw(N[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await y.request({method:"eth_chainId"});S=fA(C)}const E={domain:j.host,address:_,statement:p,uri:j.href,version:"1",chainId:S,nonce:(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(i=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=pA(E),b=await y.request({method:"personal_sign",params:[mA(m),_]})}try{const{data:v,error:x}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yt});if(x)throw x;if(!v||!v.session||!v.user){const p=new fr;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(z(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var a,n,r,s,i,l,c,u,d,h,f,m;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:x,wallet:p,statement:g,options:y}=t;let j;if(He())if(typeof p=="object")j=p;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((a=y==null?void 0:y.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:x,error:p}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:qn(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Yt});if(p)throw p;if(!x||!x.session||!x.user){const g=new fr;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if(z(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const a=await Cn(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(a??"").split("/");try{const{data:s,error:i}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yt});if(await Ia(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const l=new fr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:i})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:a,provider:n,token:r,access_token:s,nonce:i}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new fr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,r,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await mr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Po("You must provide either an email or phone number.")}catch(l){if(z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var a,n;try{let r,s;"options"in t&&(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Yt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var a,n,r,s,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await mr(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:iA});return!((s=u.data)===null||s===void 0)&&s.url&&He()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(z(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new ht;const{error:r}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:s}=t,{error:i}=await V(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:r,options:s}=t,{data:i,error:l}=await V(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new Po("You must provide either an email or phone number and a type")}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Au:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Cn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ou()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=aA(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Za}):await this._useSession(async a=>{var n,r,s;const{data:i,error:l}=a;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Za})})}catch(a){if(z(a))return MT(a)&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new ht;const i=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await mr(this.storage,this.storageKey));const{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Za});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(z(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const a=Date.now()/1e3;let n=a,r=!0,s=null;const{payload:i}=ku(t.access_token);if(i.exp&&(n=i.exp,r=n<=a),r){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(a){if(z(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:i,error:l}=a;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{data:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!He())throw new Bo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Cg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bo("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new Bo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const p={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(z(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:r,error:s}=a;if(s)return this._returnResult({error:s});const i=(n=r.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(DT(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=$T(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,r;try{const{data:{session:s},error:i}=a;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,a={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await mr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(z(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:r}=await this._useSession(async s=>{var i,l,c,u,d;const{data:h,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return He()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(z(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:r,data:{session:s}}=a;if(r)throw r;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Yt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new fr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,r;const{data:s,error:i}=a;if(i)throw i;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await YT(async r=>(r>0&&await GT(200*Math.pow(2,r-1)),this._debug(a,"refreshing attempt",r),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yt})),(r,s)=>{const i=200*Math.pow(2,r);return s&&Cu(s)&&Date.now()+i-n<jr})}catch(n){if(this._debug(a,"error",n),z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),He()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Cn(this.storage,this.storageKey);if(r&&this.userStorage){let i=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await _r(this.userStorage,this.storageKey+"-user",i)),r.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ou()}else if(r&&!r.user&&!r.user){const i=await Cn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(r.user=i.user,await Ia(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,r)):r.user=Ou()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((a=r.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Au;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Au}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Cu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(r.access_token);!l&&(i!=null&&i.user)?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ec;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new ht;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),z(s)){const i={data:null,error:s};return Cu(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,a,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,a)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await _r(this.userStorage,this.storageKey+"-user",{user:a.user});const r=Object.assign({},a);delete r.user;const s=Mg(r);await _r(this.storage,this.storageKey,s)}else{const r=Mg(a);await _r(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ia(this.storage,this.storageKey),await Ia(this.storage,this.storageKey+"-code-verifier"),await Ia(this.storage,this.storageKey+"-user"),this.userStorage&&await Ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${jr}ms, refresh threshold is ${rh} ticks`),r<=rh&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const r=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await mr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);r.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;return s?this._returnResult({data:null,error:s}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,r;const{data:s,error:i}=a;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jA(t.webauthn.credential_response):_A(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;if(s)return this._returnResult({data:null,error:s});const i=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:xA(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:wA(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ku(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((a=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:r}=a;return r?this._returnResult({data:null,error:r}):n?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ht})})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new ht});const i=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&He()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new ht});const i=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&He()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new ht})})}catch(t){if(z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:r}=a;return r?this._returnResult({data:null,error:r}):n?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ht})})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(l=>l.kid===t);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OT>r)return n;const{data:s,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});n=m.session.access_token}const{header:r,payload:s,signature:i,raw:{header:l,payload:c}}=ku(n);a!=null&&a.allowExpired||ZT(s.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:r,signature:i},error:null}}const d=eA(r.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,VT(`${l}.${c}`)))throw new oh("Invalid JWT signature");return{data:{claims:s,header:r,signature:i},error:null}}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}}Di.nextInstanceID={};const RA=Di;class DA extends RA{constructor(t){super(t)}}class MA{constructor(t,a,n){var r,s,i;this.supabaseUrl=t,this.supabaseKey=a;const l=ET(t);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:bT,realtime:xT,auth:Object.assign(Object.assign({},vT),{storageKey:c}),global:yT},d=NT(n??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=_T(a,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new xE(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new yE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,a,n)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,a;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(a=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DA({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:i,autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:r,userStorage:s,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new PE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,a,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UA=(e,t,a)=>new MA(e,t,a);function zA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PA="https://brebvinutztbawpcnxzh.supabase.co",BA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJyZWJ2aW51dHp0YmF3cGNueHpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0ODM3NjUsImV4cCI6MjA4MTA1OTc2NX0.h5UgVx1cnzMmv9DI6G320l3id6aqIltl_4nrQLjmsFI",P=UA(PA,BA),zw=w.createContext(void 0),LA=({children:e})=>{const[t,a]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null),[l,c]=w.useState(!0);w.useEffect(()=>{P.auth.getSession().then(({data:{session:m}})=>{a(m),r((m==null?void 0:m.user)??null),m!=null&&m.user?u(m.user.id):c(!1)});const{data:{subscription:f}}=P.auth.onAuthStateChange((m,b)=>{a(b),r((b==null?void 0:b.user)??null),b!=null&&b.user?u(b.user.id):(i(null),c(!1))});return()=>f.unsubscribe()},[]);const u=async f=>{let m=0;const b=3;for(;m<b;)try{const{data:v,error:x}=await P.from("perfis").select("role").eq("id",f).single();if(v){console.log("Role fetched:",v.role),i(v.role);break}if(x&&x.code!=="PGRST116"){console.error("Error fetching user role:",x);break}console.log(`Attempt ${m+1}: Profile not found yet, retrying...`),m++,m<b&&await new Promise(p=>setTimeout(p,1e3))}catch(v){console.error("Unexpected error fetching role:",v);break}c(!1)},d=async()=>{await P.auth.signOut(),i(null)},h=s==="admin";return o.jsx(zw.Provider,{value:{session:t,user:n,role:s,isAdmin:h,loading:l,signOut:d},children:e})},cr=()=>{const e=w.useContext(zw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Pw=w.createContext(void 0),VA=({children:e})=>{const[t,a]=w.useState(()=>{const u=localStorage.getItem("cart");return u?JSON.parse(u):[]});w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const n=u=>{a(d=>{const h=d.find(f=>f.id===u.id);return h?h.quantity>=u.stock?(alert("Quantidade mxima em stock atingida!"),d):d.map(f=>f.id===u.id?{...f,quantity:f.quantity+1}:f):u.stock<1?(alert("Produto fora de stock!"),d):[...d,{...u,quantity:1}]})},r=u=>{a(d=>d.filter(h=>h.id!==u))},s=(u,d)=>{d<1||a(h=>{const f=h.find(m=>m.id===u);return f&&d>f.stock?(alert("Quantidade indisponvel em stock!"),h):h.map(m=>m.id===u?{...m,quantity:d}:m)})},i=()=>a([]),l=t.reduce((u,d)=>u+d.preco*d.quantity,0),c=t.reduce((u,d)=>u+d.quantity,0);return o.jsx(Pw.Provider,{value:{items:t,addToCart:n,removeFromCart:r,updateQuantity:s,clearCart:i,total:l,itemCount:c},children:e})},Jf=()=>{const e=w.useContext(Pw);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},qA=()=>{const{pathname:e}=ut();return w.useEffect(()=>{window.scrollTo(0,0)},[e]),null};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,n)=>n?n.toUpperCase():a.toLowerCase()),qg=e=>{const t=HA(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bw=(...e)=>e.filter((t,a,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===a).join(" ").trim(),IA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...GA,width:t,height:t,stroke:e,strokeWidth:n?Number(a)*24/Number(t):a,className:Bw("lucide",r),...!s&&!IA(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const a=w.forwardRef(({className:n,...r},s)=>w.createElement(YA,{ref:s,iconNode:t,className:Bw(`lucide-${$A(qg(e))}`,`lucide-${e}`,n),...r}));return a.displayName=qg(e),a};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lw=B("arrow-left",KA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ll=B("arrow-right",FA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],WA=B("award",XA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bt=B("calendar",QA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sn=B("check",JA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eC=B("chevron-down",ZA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vw=B("chevron-right",tC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nC=B("chevron-left",aC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sC=B("circle-alert",rC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oC=B("circle-check-big",iC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wn=B("clock",lC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],uC=B("credit-card",cC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hC=B("dollar-sign",dC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mC=B("external-link",fC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tc=B("eye-off",pC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],qw=B("facebook",gC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ac=B("eye",yC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vC=B("funnel",bC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$w=B("history",xC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Mi=B("image",wC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Fl=B("instagram",jC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lh=B("layout-dashboard",_C);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ze=B("loader",SC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gn=B("lock",NC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hw=B("log-out",EC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],us=B("mail",TC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CC=B("map-pin",AC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Iw=B("menu",kC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$g=B("message-square",OC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M5 12h14",key:"1ays0h"}]],DC=B("minus",RC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UC=B("pen",MC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Cc=B("phone",zC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],no=B("plus",PC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],LC=B("repeat",BC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ro=B("save",VC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],qe=B("scissors",qC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],so=B("search",$C);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gw=B("send",HC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ch=B("shield",IC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Oa=B("shopping-bag",GC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],KC=B("shopping-cart",YC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Yw=B("sparkles",FC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zf=B("square-pen",XC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zr=B("star",WC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Hg=B("sun",QC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZC=B("trash-2",JC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kc=B("trash",e5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],a5=B("twitter",t5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],r5=B("upload",n5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_t=B("user",s5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],li=B("users",i5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ha=B("x",o5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],c5=B("zoom-in",l5),u5=()=>{const{user:e,loading:t}=cr();return t?o.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center",children:o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin"})}):e?o.jsx(qf,{}):o.jsx(kN,{to:"/login",replace:!0})};function Kw(e){var t,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(a=Kw(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function de(){for(var e,t,a=0,n="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=Kw(e))&&(n&&(n+=" "),n+=t);return n}const em=w.createContext({});function Es(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const tm=typeof window<"u",Oc=tm?w.useLayoutEffect:w.useEffect,Rc=w.createContext(null);function am(e,t){e.indexOf(t)===-1&&e.push(t)}function nm(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const Ba=(e,t,a)=>a>t?t:a<e?e:a;let rm=()=>{};const La={},Fw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xw(e){return typeof e=="object"&&e!==null}const Ww=e=>/^0[^.\s]+$/u.test(e);function sm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lt=e=>e,d5=(e,t)=>a=>t(e(a)),io=(...e)=>e.reduce(d5),Ui=(e,t,a)=>{const n=t-e;return n===0?1:(a-e)/n};class im{constructor(){this.subscriptions=[]}add(t){return am(this.subscriptions,t),()=>nm(this.subscriptions,t)}notify(t,a,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,a,n);else for(let s=0;s<r;s++){const i=this.subscriptions[s];i&&i(t,a,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ua=e=>e*1e3,Ut=e=>e/1e3;function Qw(e,t){return t?e*(1e3/t):0}const Jw=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,h5=1e-7,f5=12;function m5(e,t,a,n,r){let s,i,l=0;do i=t+(a-t)/2,s=Jw(i,n,r)-e,s>0?a=i:t=i;while(Math.abs(s)>h5&&++l<f5);return i}function oo(e,t,a,n){if(e===t&&a===n)return Lt;const r=s=>m5(s,0,1,e,a);return s=>s===0||s===1?s:Jw(r(s),t,n)}const Zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e1=e=>t=>1-e(1-t),t1=oo(.33,1.53,.69,.99),om=e1(t1),a1=Zw(om),n1=e=>(e*=2)<1?.5*om(e):.5*(2-Math.pow(2,-10*(e-1))),lm=e=>1-Math.sin(Math.acos(e)),r1=e1(lm),s1=Zw(lm),p5=oo(.42,0,1,1),g5=oo(0,0,.58,1),i1=oo(.42,0,.58,1),y5=e=>Array.isArray(e)&&typeof e[0]!="number",o1=e=>Array.isArray(e)&&typeof e[0]=="number",b5={linear:Lt,easeIn:p5,easeInOut:i1,easeOut:g5,circIn:lm,circInOut:s1,circOut:r1,backIn:om,backInOut:a1,backOut:t1,anticipate:n1},v5=e=>typeof e=="string",Ig=e=>{if(o1(e)){rm(e.length===4);const[t,a,n,r]=e;return oo(t,a,n,r)}else if(v5(e))return b5[e];return e},Lo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x5(e,t){let a=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){i.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const b=f&&r?a:n;return h&&i.add(d),b.has(d)||b.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(l=d,r){s=!0;return}r=!0,[a,n]=[n,a],a.forEach(c),a.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const w5=40;function l1(e,t){let a=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>a=!0,i=Lo.reduce((y,j)=>(y[j]=x5(s),y),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:b}=i,v=()=>{const y=La.useManualTiming?r.timestamp:performance.now();a=!1,La.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(y-r.timestamp,w5),1)),r.timestamp=y,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),m.process(r),b.process(r),r.isProcessing=!1,a&&t&&(n=!1,e(v))},x=()=>{a=!0,n=!0,r.isProcessing||e(v)};return{schedule:Lo.reduce((y,j)=>{const N=i[j];return y[j]=(_,S=!1,E=!1)=>(a||x(),N.schedule(_,S,E)),y},{}),cancel:y=>{for(let j=0;j<Lo.length;j++)i[Lo[j]].cancel(y)},state:r,steps:i}}const{schedule:ce,cancel:Va,state:Ie,steps:Du}=l1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);let cl;function j5(){cl=void 0}const it={now:()=>(cl===void 0&&it.set(Ie.isProcessing||La.useManualTiming?Ie.timestamp:performance.now()),cl),set:e=>{cl=e,queueMicrotask(j5)}},c1=e=>t=>typeof t=="string"&&t.startsWith(e),cm=c1("--"),_5=c1("var(--"),um=e=>_5(e)?S5.test(e.split("/*")[0].trim()):!1,S5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ts={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zi={...Ts,transform:e=>Ba(0,1,e)},Vo={...Ts,default:1},ci=e=>Math.round(e*1e5)/1e5,dm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N5(e){return e==null}const E5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hm=(e,t)=>a=>!!(typeof a=="string"&&E5.test(a)&&a.startsWith(e)||t&&!N5(a)&&Object.prototype.hasOwnProperty.call(a,t)),u1=(e,t,a)=>n=>{if(typeof n!="string")return n;const[r,s,i,l]=n.match(dm);return{[e]:parseFloat(r),[t]:parseFloat(s),[a]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},T5=e=>Ba(0,255,e),Mu={...Ts,transform:e=>Math.round(T5(e))},$n={test:hm("rgb","red"),parse:u1("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:n=1})=>"rgba("+Mu.transform(e)+", "+Mu.transform(t)+", "+Mu.transform(a)+", "+ci(zi.transform(n))+")"};function A5(e){let t="",a="",n="",r="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,a+=a,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const uh={test:hm("#"),parse:A5,transform:$n.transform},lo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ya=lo("deg"),da=lo("%"),q=lo("px"),C5=lo("vh"),k5=lo("vw"),Gg={...da,parse:e=>da.parse(e)/100,transform:e=>da.transform(e*100)},Pr={test:hm("hsl","hue"),parse:u1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:n=1})=>"hsla("+Math.round(e)+", "+da.transform(ci(t))+", "+da.transform(ci(a))+", "+ci(zi.transform(n))+")"},Ee={test:e=>$n.test(e)||uh.test(e)||Pr.test(e),parse:e=>$n.test(e)?$n.parse(e):Pr.test(e)?Pr.parse(e):uh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$n.transform(e):Pr.transform(e),getAnimatableNone:e=>{const t=Ee.parse(e);return t.alpha=0,Ee.transform(t)}},O5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R5(e){var t,a;return isNaN(e)&&typeof e=="string"&&(((t=e.match(dm))==null?void 0:t.length)||0)+(((a=e.match(O5))==null?void 0:a.length)||0)>0}const d1="number",h1="color",D5="var",M5="var(",Yg="${}",U5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pi(e){const t=e.toString(),a=[],n={color:[],number:[],var:[]},r=[];let s=0;const l=t.replace(U5,c=>(Ee.test(c)?(n.color.push(s),r.push(h1),a.push(Ee.parse(c))):c.startsWith(M5)?(n.var.push(s),r.push(D5),a.push(c)):(n.number.push(s),r.push(d1),a.push(parseFloat(c))),++s,Yg)).split(Yg);return{values:a,split:l,indexes:n,types:r}}function f1(e){return Pi(e).values}function m1(e){const{split:t,types:a}=Pi(e),n=t.length;return r=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],r[i]!==void 0){const l=a[i];l===d1?s+=ci(r[i]):l===h1?s+=Ee.transform(r[i]):s+=r[i]}return s}}const z5=e=>typeof e=="number"?0:Ee.test(e)?Ee.getAnimatableNone(e):e;function P5(e){const t=f1(e);return m1(e)(t.map(z5))}const jn={test:R5,parse:f1,createTransformer:m1,getAnimatableNone:P5};function Uu(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function B5({hue:e,saturation:t,lightness:a,alpha:n}){e/=360,t/=100,a/=100;let r=0,s=0,i=0;if(!t)r=s=i=a;else{const l=a<.5?a*(1+t):a+t-a*t,c=2*a-l;r=Uu(c,l,e+1/3),s=Uu(c,l,e),i=Uu(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function Xl(e,t){return a=>a>0?t:e}const ve=(e,t,a)=>e+(t-e)*a,zu=(e,t,a)=>{const n=e*e,r=a*(t*t-n)+n;return r<0?0:Math.sqrt(r)},L5=[uh,$n,Pr],V5=e=>L5.find(t=>t.test(e));function Kg(e){const t=V5(e);if(!t)return!1;let a=t.parse(e);return t===Pr&&(a=B5(a)),a}const Fg=(e,t)=>{const a=Kg(e),n=Kg(t);if(!a||!n)return Xl(e,t);const r={...a};return s=>(r.red=zu(a.red,n.red,s),r.green=zu(a.green,n.green,s),r.blue=zu(a.blue,n.blue,s),r.alpha=ve(a.alpha,n.alpha,s),$n.transform(r))},dh=new Set(["none","hidden"]);function q5(e,t){return dh.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function $5(e,t){return a=>ve(e,t,a)}function fm(e){return typeof e=="number"?$5:typeof e=="string"?um(e)?Xl:Ee.test(e)?Fg:G5:Array.isArray(e)?p1:typeof e=="object"?Ee.test(e)?Fg:H5:Xl}function p1(e,t){const a=[...e],n=a.length,r=e.map((s,i)=>fm(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)a[i]=r[i](s);return a}}function H5(e,t){const a={...e,...t},n={};for(const r in a)e[r]!==void 0&&t[r]!==void 0&&(n[r]=fm(e[r])(e[r],t[r]));return r=>{for(const s in n)a[s]=n[s](r);return a}}function I5(e,t){const a=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const s=t.types[r],i=e.indexes[s][n[s]],l=e.values[i]??0;a[r]=l,n[s]++}return a}const G5=(e,t)=>{const a=jn.createTransformer(t),n=Pi(e),r=Pi(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?dh.has(e)&&!r.values.length||dh.has(t)&&!n.values.length?q5(e,t):io(p1(I5(n,r),r.values),a):Xl(e,t)};function g1(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?ve(e,t,a):fm(e)(e,t)}const Y5=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>ce.update(t,a),stop:()=>Va(t),now:()=>Ie.isProcessing?Ie.timestamp:it.now()}},y1=(e,t,a=10)=>{let n="";const r=Math.max(Math.round(t/a),2);for(let s=0;s<r;s++)n+=Math.round(e(s/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Wl=2e4;function mm(e){let t=0;const a=50;let n=e.next(t);for(;!n.done&&t<Wl;)t+=a,n=e.next(t);return t>=Wl?1/0:t}function K5(e,t=100,a){const n=a({...e,keyframes:[0,t]}),r=Math.min(mm(n),Wl);return{type:"keyframes",ease:s=>n.next(r*s).value/t,duration:Ut(r)}}const F5=5;function b1(e,t,a){const n=Math.max(t-F5,0);return Qw(a-e(n),t-n)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pu=.001;function X5({duration:e=we.duration,bounce:t=we.bounce,velocity:a=we.velocity,mass:n=we.mass}){let r,s,i=1-t;i=Ba(we.minDamping,we.maxDamping,i),e=Ba(we.minDuration,we.maxDuration,Ut(e)),i<1?(r=u=>{const d=u*i,h=d*e,f=d-a,m=hh(u,i),b=Math.exp(-h);return Pu-f/m*b},s=u=>{const h=u*i*e,f=h*a+a,m=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-h),v=hh(Math.pow(u,2),i);return(-r(u)+Pu>0?-1:1)*((f-m)*b)/v}):(r=u=>{const d=Math.exp(-u*e),h=(u-a)*e+1;return-Pu+d*h},s=u=>{const d=Math.exp(-u*e),h=(a-u)*(e*e);return d*h});const l=5/e,c=Q5(r,s,l);if(e=ua(e),isNaN(c))return{stiffness:we.stiffness,damping:we.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const W5=12;function Q5(e,t,a){let n=a;for(let r=1;r<W5;r++)n=n-e(n)/t(n);return n}function hh(e,t){return e*Math.sqrt(1-t*t)}const J5=["duration","bounce"],Z5=["stiffness","damping","mass"];function Xg(e,t){return t.some(a=>e[a]!==void 0)}function e4(e){let t={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...e};if(!Xg(e,Z5)&&Xg(e,J5))if(e.visualDuration){const a=e.visualDuration,n=2*Math.PI/(a*1.2),r=n*n,s=2*Ba(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:we.mass,stiffness:r,damping:s}}else{const a=X5(e);t={...t,...a,mass:we.mass},t.isResolvedFromDuration=!0}return t}function Ql(e=we.visualDuration,t=we.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=a;const s=a.keyframes[0],i=a.keyframes[a.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=e4({...a,velocity:-Ut(a.velocity||0)}),b=f||0,v=u/(2*Math.sqrt(c*d)),x=i-s,p=Ut(Math.sqrt(c/d)),g=Math.abs(x)<5;n||(n=g?we.restSpeed.granular:we.restSpeed.default),r||(r=g?we.restDelta.granular:we.restDelta.default);let y;if(v<1){const N=hh(p,v);y=_=>{const S=Math.exp(-v*p*_);return i-S*((b+v*p*x)/N*Math.sin(N*_)+x*Math.cos(N*_))}}else if(v===1)y=N=>i-Math.exp(-p*N)*(x+(b+p*x)*N);else{const N=p*Math.sqrt(v*v-1);y=_=>{const S=Math.exp(-v*p*_),E=Math.min(N*_,300);return i-S*((b+v*p*x)*Math.sinh(E)+N*x*Math.cosh(E))/N}}const j={calculatedDuration:m&&h||null,next:N=>{const _=y(N);if(m)l.done=N>=h;else{let S=N===0?b:0;v<1&&(S=N===0?ua(b):b1(y,N,_));const E=Math.abs(S)<=n,C=Math.abs(i-_)<=r;l.done=E&&C}return l.value=l.done?i:_,l},toString:()=>{const N=Math.min(mm(j),Wl),_=y1(S=>j.next(N*S).value,N,30);return N+"ms "+_},toTransition:()=>{}};return j}Ql.applyToOptions=e=>{const t=K5(e,100,Ql);return e.ease=t.ease,e.duration=ua(t.duration),e.type="keyframes",e};function fh({keyframes:e,velocity:t=0,power:a=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,b=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=a*t;const x=h+v,p=i===void 0?x:i(x);p!==x&&(v=p-h);const g=E=>-v*Math.exp(-E/n),y=E=>p+g(E),j=E=>{const C=g(E),R=y(E);f.done=Math.abs(C)<=u,f.value=f.done?p:R};let N,_;const S=E=>{m(f.value)&&(N=E,_=Ql({keyframes:[f.value,b(f.value)],velocity:b1(y,E,f.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let C=!1;return!_&&N===void 0&&(C=!0,j(E),S(E)),N!==void 0&&E>=N?_.next(E-N):(!C&&j(E),f)}}}function t4(e,t,a){const n=[],r=a||La.mix||g1,s=e.length-1;for(let i=0;i<s;i++){let l=r(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Lt:t;l=io(c,l)}n.push(l)}return n}function v1(e,t,{clamp:a=!0,ease:n,mixer:r}={}){const s=e.length;if(rm(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=t4(t,n,r),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ui(e[h],e[h+1],d);return l[h](f)};return a?d=>u(Ba(e[0],e[s-1],d)):u}function a4(e,t){const a=e[e.length-1];for(let n=1;n<=t;n++){const r=Ui(0,t,n);e.push(ve(a,1,r))}}function n4(e){const t=[0];return a4(t,e.length-1),t}function r4(e,t){return e.map(a=>a*t)}function s4(e,t){return e.map(()=>t||i1).splice(0,e.length-1)}function ui({duration:e=300,keyframes:t,times:a,ease:n="easeInOut"}){const r=y5(n)?n.map(Ig):Ig(n),s={done:!1,value:t[0]},i=r4(a&&a.length===t.length?a:n4(t),e),l=v1(i,t,{ease:Array.isArray(r)?r:s4(t,r)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const i4=e=>e!==null;function pm(e,{repeat:t,repeatType:a="loop"},n,r=1){const s=e.filter(i4),l=r<0||t&&a!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const o4={decay:fh,inertia:fh,tween:ui,keyframes:ui,spring:Ql};function x1(e){typeof e.type=="string"&&(e.type=o4[e.type])}class gm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const l4=e=>e/100;class Dc extends gm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:a}=this.options;a&&a.updatedAt!==it.now()&&this.tick(it.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;x1(t);const{type:a=ui,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=t;let{keyframes:l}=t;const c=a||ui;c!==ui&&typeof l[0]!="number"&&(this.mixKeyframes=io(l4,g1(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=mm(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:b,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let y=this.currentTime,j=n;if(h){const E=Math.min(this.currentTime,r)/l;let C=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/l)):f==="mirror"&&(j=i)),y=Ba(0,1,R)*l}const N=g?{done:!1,value:d[0]}:j.next(y);s&&(N.value=s(N.value));let{done:_}=N;!g&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return S&&b!==fh&&(N.value=pm(d,this.options,x,this.speed)),v&&v(N.value),S&&this.finish(),N}then(t,a){return this.finished.then(t,a)}get duration(){return Ut(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ut(t)}get time(){return Ut(this.currentTime)}set time(t){var a;t=ua(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Ut(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:t=Y5,startTime:a}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(r=this.options).onPlay)==null||s.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=a??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function c4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hn=e=>e*180/Math.PI,mh=e=>{const t=Hn(Math.atan2(e[1],e[0]));return ph(t)},u4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mh,rotateZ:mh,skewX:e=>Hn(Math.atan(e[1])),skewY:e=>Hn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ph=e=>(e=e%360,e<0&&(e+=360),e),Wg=mh,Qg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qg,scaleY:Jg,scale:e=>(Qg(e)+Jg(e))/2,rotateX:e=>ph(Hn(Math.atan2(e[6],e[5]))),rotateY:e=>ph(Hn(Math.atan2(-e[2],e[0]))),rotateZ:Wg,rotate:Wg,skewX:e=>Hn(Math.atan(e[4])),skewY:e=>Hn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gh(e){return e.includes("scale")?1:0}function yh(e,t){if(!e||e==="none")return gh(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(a)n=d4,r=a;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=u4,r=l}if(!r)return gh(t);const s=n[t],i=r[1].split(",").map(f4);return typeof s=="function"?s(i):i[s]}const h4=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return yh(a,t)};function f4(e){return parseFloat(e.trim())}const As=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(As),Zg=e=>e===Ts||e===q,m4=new Set(["x","y","z"]),p4=As.filter(e=>!m4.has(e));function g4(e){const t=[];return p4.forEach(a=>{const n=e.getValue(a);n!==void 0&&(t.push([a,n.get()]),n.set(a.startsWith("scale")?1:0))}),t}const Xn={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yh(t,"x"),y:(e,{transform:t})=>yh(t,"y")};Xn.translateX=Xn.x;Xn.translateY=Xn.y;const Wn=new Set;let bh=!1,vh=!1,xh=!1;function w1(){if(vh){const e=Array.from(Wn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),a=new Map;t.forEach(n=>{const r=g4(n);r.length&&(a.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=a.get(n);r&&r.forEach(([s,i])=>{var l;(l=n.getValue(s))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vh=!1,bh=!1,Wn.forEach(e=>e.complete(xh)),Wn.clear()}function j1(){Wn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vh=!0)})}function y4(){xh=!0,j1(),w1(),xh=!1}class ym{constructor(t,a,n,r,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Wn.add(this),bh||(bh=!0,ce.read(j1),ce.resolveKeyframes(w1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:n,motionValue:r}=this;if(t[0]===null){const s=r==null?void 0:r.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&a){const l=n.readValue(a,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),r&&s===void 0&&r.set(t[0])}c4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wn.delete(this)}cancel(){this.state==="scheduled"&&(Wn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b4=e=>e.startsWith("--");function v4(e,t,a){b4(t)?e.style.setProperty(t,a):e.style[t]=a}const x4=sm(()=>window.ScrollTimeline!==void 0),w4={};function j4(e,t){const a=sm(e);return()=>w4[t]??a()}const _1=j4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gs=([e,t,a,n])=>`cubic-bezier(${e}, ${t}, ${a}, ${n})`,e0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gs([0,.65,.55,1]),circOut:Gs([.55,0,1,.45]),backIn:Gs([.31,.01,.66,-.59]),backOut:Gs([.33,1.53,.69,.99])};function S1(e,t){if(e)return typeof e=="function"?_1()?y1(e,t):"ease-out":o1(e)?Gs(e):Array.isArray(e)?e.map(a=>S1(a,t)||e0.easeOut):e0[e]}function _4(e,t,a,{delay:n=0,duration:r=300,repeat:s=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:a};c&&(d.offset=c);const h=S1(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function N1(e){return typeof e=="function"&&"applyToOptions"in e}function S4({type:e,...t}){return N1(e)&&_1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class N4 extends gm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,rm(typeof t.type!="string");const u=S4(t);this.animation=_4(a,n,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=pm(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):v4(a,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,n;const t=((n=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:n.call(a).duration)||0;return Ut(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ut(t)}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ua(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&x4()?(this.animation.timeline=t,Lt):a(this)}}const E1={anticipate:n1,backInOut:a1,circInOut:s1};function E4(e){return e in E1}function T4(e){typeof e.ease=="string"&&E4(e.ease)&&(e.ease=E1[e.ease])}const t0=10;class A4 extends N4{constructor(t){T4(t),x1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:n,onComplete:r,element:s,...i}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const l=new Dc({...i,autoplay:!1}),c=ua(this.finishedTime??this.time);a.setWithVelocity(l.sample(c-t0).value,l.sample(c).value,t0),l.stop()}}const a0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jn.test(e)||e==="0")&&!e.startsWith("url("));function C4(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function k4(e,t,a,n){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=a0(r,t),l=a0(s,t);return!i||!l?!1:C4(e)||(a==="spring"||N1(a))&&n}function wh(e){e.duration=0,e.type="keyframes"}const O4=new Set(["opacity","clipPath","filter","transform"]),R4=sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D4(e){var d;const{motionValue:t,name:a,repeatDelay:n,repeatType:r,damping:s,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return R4()&&a&&O4.has(a)&&(a!=="transform"||!u)&&!c&&!n&&r!=="mirror"&&s!==0&&i!=="inertia"}const M4=40;class U4 extends gm{constructor({autoplay:t=!0,delay:a=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var b;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=it.now();const f={autoplay:t,delay:a,type:n,repeat:r,repeatDelay:s,repeatType:i,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||ym;this.keyframeResolver=new m(l,(v,x,p)=>this.onKeyframesResolved(v,x,f,!p),c,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,a,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=it.now(),k4(t,s,i,l)||((La.instantAnimations||!c)&&(d==null||d(pm(t,n,a))),t[0]=t[t.length-1],wh(n),n.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>M4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...n,keyframes:t},m=!u&&D4(f)?new A4({...f,element:f.motionValue.owner.current}):new Dc(f);m.finished.then(()=>this.notifyFinished()).catch(Lt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),y4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const z4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P4(e){const t=z4.exec(e);if(!t)return[,];const[,a,n,r]=t;return[`--${a??n}`,r]}function T1(e,t,a=1){const[n,r]=P4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return Fw(i)?parseFloat(i):i}return um(r)?T1(r,t,a+1):r}function bm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const A1=new Set(["width","height","top","left","right","bottom",...As]),B4={test:e=>e==="auto",parse:e=>e},C1=e=>t=>t.test(e),k1=[Ts,q,da,Ya,k5,C5,B4],n0=e=>k1.find(C1(e));function L4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ww(e):!0}const V4=new Set(["brightness","contrast","saturate","opacity"]);function q4(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=a.match(dm)||[];if(!n)return e;const r=a.replace(n,"");let s=V4.has(t)?1:0;return n!==a&&(s*=100),t+"("+s+r+")"}const $4=/\b([a-z-]*)\(.*?\)/gu,jh={...jn,getAnimatableNone:e=>{const t=e.match($4);return t?t.map(q4).join(" "):e}},r0={...Ts,transform:Math.round},H4={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:Vo,scaleX:Vo,scaleY:Vo,scaleZ:Vo,skew:Ya,skewX:Ya,skewY:Ya,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:zi,originX:Gg,originY:Gg,originZ:q},vm={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...H4,zIndex:r0,fillOpacity:zi,strokeOpacity:zi,numOctaves:r0},I4={...vm,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:jh,WebkitFilter:jh},O1=e=>I4[e];function R1(e,t){let a=O1(e);return a!==jh&&(a=jn),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const G4=new Set(["auto","none","0"]);function Y4(e,t,a){let n=0,r;for(;n<e.length&&!r;){const s=e[n];typeof s=="string"&&!G4.has(s)&&Pi(s).values.length&&(r=e[n]),n++}if(r&&a)for(const s of t)e[s]=R1(a,r)}class K4 extends ym{constructor(t,a,n,r,s){super(t,a,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:n}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),um(u))){const d=T1(u,a.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!A1.has(n)||t.length!==2)return;const[r,s]=t,i=n0(r),l=n0(s);if(i!==l)if(Zg(i)&&Zg(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Xn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||L4(t[r]))&&n.push(r);n.length&&Y4(t,n,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const r=a[a.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:a,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(a);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=Xn[a](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function D1(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const M1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function U1(e){return Xw(e)&&"offsetHeight"in e}const s0=30,F4=e=>!isNaN(parseFloat(e)),di={current:void 0};class X4{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const r=it.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=F4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new im);const n=this.events[t].add(a);return t==="change"?()=>{n(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,n){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return di.current&&di.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s0)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,s0);return Qw(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ar(e,t){return new X4(e,t)}const{schedule:xm}=l1(queueMicrotask,!1),Kt={x:!1,y:!1};function z1(){return Kt.x||Kt.y}function W4(e){return e==="x"||e==="y"?Kt[e]?null:(Kt[e]=!0,()=>{Kt[e]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}function P1(e,t){const a=D1(e),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[a,r,()=>n.abort()]}function i0(e){return!(e.pointerType==="touch"||z1())}function Q4(e,t,a={}){const[n,r,s]=P1(e,a),i=l=>{if(!i0(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{i0(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return n.forEach(l=>{l.addEventListener("pointerenter",i,r)}),s}const B1=(e,t)=>t?e===t?!0:B1(e,t.parentElement):!1,wm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z4(e){return J4.has(e.tagName)||e.tabIndex!==-1}const ul=new WeakSet;function o0(e){return t=>{t.key==="Enter"&&e(t)}}function Bu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ek=(e,t)=>{const a=e.currentTarget;if(!a)return;const n=o0(()=>{if(ul.has(a))return;Bu(a,"down");const r=o0(()=>{Bu(a,"up")}),s=()=>Bu(a,"cancel");a.addEventListener("keyup",r,t),a.addEventListener("blur",s,t)});a.addEventListener("keydown",n,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",n),t)};function l0(e){return wm(e)&&!z1()}function tk(e,t,a={}){const[n,r,s]=P1(e,a),i=l=>{const c=l.currentTarget;if(!l0(l))return;ul.add(c);const u=t(c,l),d=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ul.has(c)&&ul.delete(c),l0(m)&&typeof u=="function"&&u(m,{success:b})},h=m=>{d(m,c===window||c===document||a.useGlobalTarget||B1(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return n.forEach(l=>{(a.useGlobalTarget?window:l).addEventListener("pointerdown",i,r),U1(l)&&(l.addEventListener("focus",u=>ek(u,r)),!Z4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function L1(e){return Xw(e)&&"ownerSVGElement"in e}function ak(e){return L1(e)&&e.tagName==="svg"}function nk(...e){const t=!Array.isArray(e[0]),a=t?0:-1,n=e[0+a],r=e[1+a],s=e[2+a],i=e[3+a],l=v1(r,s,i);return t?l(n):l}const Le=e=>!!(e&&e.getVelocity);function rk(e,t,a){const n=e.get();let r=null,s=n,i;const l=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,c=()=>{r&&(r.stop(),r=null)},u=()=>{c(),r=new Dc({keyframes:[u0(e.get()),u0(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:i})};if(e.attach((d,h)=>{s=d,i=f=>h(c0(f,l)),ce.postRender(u)},c),Le(t)){const d=t.on("change",f=>e.set(c0(f,l))),h=e.on("destroy",d);return()=>{d(),h()}}return c}function c0(e,t){return t?e+t:e}function u0(e){return typeof e=="number"?e:parseFloat(e)}const sk=[...k1,Ee,jn],ik=e=>sk.find(C1(e)),co=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function d0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ok(...e){return t=>{let a=!1;const n=e.map(r=>{const s=d0(r,t);return!a&&typeof s=="function"&&(a=!0),s});if(a)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():d0(e[r],null)}}}}function lk(...e){return w.useCallback(ok(...e),e)}class ck extends w.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const n=a.offsetParent,r=U1(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=a.offsetHeight||0,s.width=a.offsetWidth||0,s.top=a.offsetTop,s.left=a.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uk({children:e,isPresent:t,anchorX:a,root:n}){const r=w.useId(),s=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=w.useContext(co),c=lk(s,e==null?void 0:e.ref);return w.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=i.current;if(t||!s.current||!u||!d)return;const b=a==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=r;const v=document.createElement("style");l&&(v.nonce=l);const x=n??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[t]),o.jsx(ck,{isPresent:t,childRef:s,sizeRef:i,children:w.cloneElement(e,{ref:c})})}const dk=({children:e,initial:t,isPresent:a,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:i,anchorX:l,root:c})=>{const u=Es(hk),d=w.useId();let h=!0,f=w.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:a,custom:r,onExitComplete:m=>{u.set(m,!0);for(const b of u.values())if(!b)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[a,u,n]);return s&&h&&(f={...f}),w.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[a]),w.useEffect(()=>{!a&&!u.size&&n&&n()},[a]),i==="popLayout"&&(e=o.jsx(uk,{isPresent:a,anchorX:l,root:c,children:e})),o.jsx(Rc.Provider,{value:f,children:e})};function hk(){return new Map}function V1(e=!0){const t=w.useContext(Rc);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:n,register:r}=t,s=w.useId();w.useEffect(()=>{if(e)return r(s)},[e]);const i=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!a&&n?[!1,i]:[!0]}const qo=e=>e.key||"";function h0(e){const t=[];return w.Children.forEach(e,a=>{w.isValidElement(a)&&t.push(a)}),t}const $t=({children:e,custom:t,initial:a=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:s="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=V1(i),h=w.useMemo(()=>h0(e),[e]),f=i&&!u?[]:h.map(qo),m=w.useRef(!0),b=w.useRef(h),v=Es(()=>new Map),[x,p]=w.useState(h),[g,y]=w.useState(h);Oc(()=>{m.current=!1,b.current=h;for(let _=0;_<g.length;_++){const S=qo(g[_]);f.includes(S)?v.delete(S):v.get(S)!==!0&&v.set(S,!1)}},[g,f.length,f.join("-")]);const j=[];if(h!==x){let _=[...h];for(let S=0;S<g.length;S++){const E=g[S],C=qo(E);f.includes(C)||(_.splice(S,0,E),j.push(E))}return s==="wait"&&j.length&&(_=j),y(h0(_)),p(h),null}const{forceRender:N}=w.useContext(em);return o.jsx(o.Fragment,{children:g.map(_=>{const S=qo(_),E=i&&!u?!1:h===g||f.includes(S),C=()=>{if(v.has(S))v.set(S,!0);else return;let R=!0;v.forEach(k=>{k||(R=!1)}),R&&(N==null||N(),y(b.current),i&&(d==null||d()),n&&n())};return o.jsx(dk,{isPresent:E,initial:!m.current||a?void 0:!1,custom:t,presenceAffectsLayout:r,mode:s,root:c,onExitComplete:E?void 0:C,anchorX:l,children:_},S)})})},q1=w.createContext({strict:!1}),f0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const e in f0)ds[e]={isEnabled:t=>f0[e].some(a=>!!t[a])};function fk(e){for(const t in e)ds[t]={...ds[t],...e[t]}}const mk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mk.has(e)}let $1=e=>!Jl(e);function pk(e){typeof e=="function"&&($1=t=>t.startsWith("on")?!Jl(t):e(t))}try{pk(require("@emotion/is-prop-valid").default)}catch{}function gk(e,t,a){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||($1(r)||a===!0&&Jl(r)||!t&&!Jl(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}const Mc=w.createContext({});function Uc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bi(e){return typeof e=="string"||Array.isArray(e)}const jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_m=["initial",...jm];function zc(e){return Uc(e.animate)||_m.some(t=>Bi(e[t]))}function H1(e){return!!(zc(e)||e.variants)}function yk(e,t){if(zc(e)){const{initial:a,animate:n}=e;return{initial:a===!1||Bi(a)?a:void 0,animate:Bi(n)?n:void 0}}return e.inherit!==!1?t:{}}function bk(e){const{initial:t,animate:a}=yk(e,w.useContext(Mc));return w.useMemo(()=>({initial:t,animate:a}),[m0(t),m0(a)])}function m0(e){return Array.isArray(e)?e.join(" "):e}const Li={};function vk(e){for(const t in e)Li[t]=e[t],cm(t)&&(Li[t].isCSSVariable=!0)}function I1(e,{layout:t,layoutId:a}){return Cs.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!Li[e]||e==="opacity")}const xk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wk=As.length;function jk(e,t,a){let n="",r=!0;for(let s=0;s<wk;s++){const i=As[s],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||a){const u=M1(l,vm[i]);if(!c){r=!1;const d=xk[i]||i;n+=`${d}(${u}) `}a&&(t[i]=u)}}return n=n.trim(),a?n=a(t,r?"":n):r&&(n="none"),n}function Sm(e,t,a){const{style:n,vars:r,transformOrigin:s}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(Cs.has(c)){i=!0;continue}else if(cm(c)){r[c]=u;continue}else{const d=M1(u,vm[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(i||a?n.transform=jk(t,e.transform,a):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Nm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G1(e,t,a){for(const n in t)!Le(t[n])&&!I1(n,a)&&(e[n]=t[n])}function _k({transformTemplate:e},t){return w.useMemo(()=>{const a=Nm();return Sm(a,t,e),Object.assign({},a.vars,a.style)},[t])}function Sk(e,t){const a=e.style||{},n={};return G1(n,a,e),Object.assign(n,_k(e,t)),n}function Nk(e,t){const a={},n=Sk(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const Ek={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ak(e,t,a=1,n=0,r=!0){e.pathLength=1;const s=r?Ek:Tk;e[s.offset]=q.transform(-n);const i=q.transform(t),l=q.transform(a);e[s.array]=`${i} ${l}`}function Y1(e,{attrX:t,attrY:a,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:i=0,...l},c,u,d){if(Sm(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),a!==void 0&&(h.y=a),n!==void 0&&(h.scale=n),r!==void 0&&Ak(h,r,s,i,!1)}const K1=()=>({...Nm(),attrs:{}}),F1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ck(e,t,a,n){const r=w.useMemo(()=>{const s=K1();return Y1(s,t,F1(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};G1(s,e.style,e),r.style={...s,...r.style}}return r}const kk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Em(e){return typeof e!="string"||e.includes("-")?!1:!!(kk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ok(e,t,a,{latestValues:n},r,s=!1){const l=(Em(e)?Ck:Nk)(t,n,r,e),c=gk(t,typeof e=="string",s),u=e!==w.Fragment?{...c,...l,ref:a}:{},{children:d}=t,h=w.useMemo(()=>Le(d)?d.get():d,[d]);return w.createElement(e,{...u,children:h})}function p0(e){const t=[{},{}];return e==null||e.values.forEach((a,n)=>{t[0][n]=a.get(),t[1][n]=a.getVelocity()}),t}function Tm(e,t,a,n){if(typeof t=="function"){const[r,s]=p0(n);t=t(a!==void 0?a:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=p0(n);t=t(a!==void 0?a:e.custom,r,s)}return t}function dl(e){return Le(e)?e.get():e}function Rk({scrapeMotionValuesFromProps:e,createRenderState:t},a,n,r){return{latestValues:Dk(a,n,r,e),renderState:t()}}function Dk(e,t,a,n){const r={},s=n(e,{});for(const f in s)r[f]=dl(s[f]);let{initial:i,animate:l}=e;const c=zc(e),u=H1(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const h=d?l:i;if(h&&typeof h!="boolean"&&!Uc(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const b=Tm(e,f[m]);if(b){const{transitionEnd:v,transition:x,...p}=b;for(const g in p){let y=p[g];if(Array.isArray(y)){const j=d?y.length-1:0;y=y[j]}y!==null&&(r[g]=y)}for(const g in v)r[g]=v[g]}}}return r}const X1=e=>(t,a)=>{const n=w.useContext(Mc),r=w.useContext(Rc),s=()=>Rk(e,t,n,r);return a?s():Es(s)};function Am(e,t,a){var s;const{style:n}=e,r={};for(const i in n)(Le(n[i])||t.style&&Le(t.style[i])||I1(i,e)||((s=a==null?void 0:a.getValue(i))==null?void 0:s.liveStyle)!==void 0)&&(r[i]=n[i]);return r}const Mk=X1({scrapeMotionValuesFromProps:Am,createRenderState:Nm});function W1(e,t,a){const n=Am(e,t,a);for(const r in e)if(Le(e[r])||Le(t[r])){const s=As.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}const Uk=X1({scrapeMotionValuesFromProps:W1,createRenderState:K1}),zk=Symbol.for("motionComponentSymbol");function Br(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Pk(e,t,a){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),a&&(typeof a=="function"?a(n):Br(a)&&(a.current=n))},[t])}const Cm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bk="framerAppearId",Q1="data-"+Cm(Bk),J1=w.createContext({});function Lk(e,t,a,n,r){var v,x;const{visualElement:s}=w.useContext(Mc),i=w.useContext(q1),l=w.useContext(Rc),c=w.useContext(co).reducedMotion,u=w.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:a,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=w.useContext(J1);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&Vk(u.current,a,r,h);const f=w.useRef(!1);w.useInsertionEffect(()=>{d&&f.current&&d.update(a,l)});const m=a[Q1],b=w.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return Oc(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),b.current=!1),d.enteringChildren=void 0)}),d}function Vk(e,t,a,n){const{layoutId:r,layout:s,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:Z1(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!i||l&&Br(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Z1(e){if(e)return e.options.allowProjection!==!1?e.projection:Z1(e.parent)}function Lu(e,{forwardMotionProps:t=!1}={},a,n){a&&fk(a);const r=Em(e)?Uk:Mk;function s(l,c){let u;const d={...w.useContext(co),...l,layoutId:qk(l)},{isStatic:h}=d,f=bk(l),m=r(l,h);if(!h&&tm){$k();const b=Hk(d);u=b.MeasureLayout,f.visualElement=Lk(e,m,d,n,b.ProjectionNode)}return o.jsxs(Mc.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,Ok(e,l,Pk(m,f.visualElement,c),m,h,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=w.forwardRef(s);return i[zk]=e,i}function qk({layoutId:e}){const t=w.useContext(em).id;return t&&e!==void 0?t+"-"+e:e}function $k(e,t){w.useContext(q1).strict}function Hk(e){const{drag:t,layout:a}=ds;if(!t&&!a)return{};const n={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(e)||a!=null&&a.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Ik(e,t){if(typeof Proxy>"u")return Lu;const a=new Map,n=(s,i)=>Lu(s,i,e,t),r=(s,i)=>n(s,i);return new Proxy(r,{get:(s,i)=>i==="create"?n:(a.has(i)||a.set(i,Lu(i,void 0,e,t)),a.get(i))})}function ej({top:e,left:t,right:a,bottom:n}){return{x:{min:t,max:a},y:{min:e,max:n}}}function Gk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yk(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:n.y,right:n.x}}function Vu(e){return e===void 0||e===1}function _h({scale:e,scaleX:t,scaleY:a}){return!Vu(e)||!Vu(t)||!Vu(a)}function zn(e){return _h(e)||tj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tj(e){return g0(e.x)||g0(e.y)}function g0(e){return e&&e!=="0%"}function Zl(e,t,a){const n=e-a,r=t*n;return a+r}function y0(e,t,a,n,r){return r!==void 0&&(e=Zl(e,r,n)),Zl(e,a,n)+t}function Sh(e,t=0,a=1,n,r){e.min=y0(e.min,t,a,n,r),e.max=y0(e.max,t,a,n,r)}function aj(e,{x:t,y:a}){Sh(e.x,t.translate,t.scale,t.originPoint),Sh(e.y,a.translate,a.scale,a.originPoint)}const b0=.999999999999,v0=1.0000000000001;function Kk(e,t,a,n=!1){const r=a.length;if(!r)return;t.x=t.y=1;let s,i;for(let l=0;l<r;l++){s=a[l],i=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vr(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,aj(e,i)),n&&zn(s.latestValues)&&Vr(e,s.latestValues))}t.x<v0&&t.x>b0&&(t.x=1),t.y<v0&&t.y>b0&&(t.y=1)}function Lr(e,t){e.min=e.min+t,e.max=e.max+t}function x0(e,t,a,n,r=.5){const s=ve(e.min,e.max,r);Sh(e,t,a,s,n)}function Vr(e,t){x0(e.x,t.x,t.scaleX,t.scale,t.originX),x0(e.y,t.y,t.scaleY,t.scale,t.originY)}function nj(e,t){return ej(Yk(e.getBoundingClientRect(),t))}function Fk(e,t,a){const n=nj(e,a),{scroll:r}=t;return r&&(Lr(n.x,r.offset.x),Lr(n.y,r.offset.y)),n}const w0=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:w0(),y:w0()}),j0=()=>({min:0,max:0}),De=()=>({x:j0(),y:j0()}),Nh={current:null},rj={current:!1};function Xk(){if(rj.current=!0,!!tm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nh.current=e.matches;e.addEventListener("change",t),t()}else Nh.current=!1}const Wk=new WeakMap;function Qk(e,t,a){for(const n in t){const r=t[n],s=a[n];if(Le(r))e.addValue(n,r);else if(Le(s))e.addValue(n,ar(r,{owner:e}));else if(s!==r)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(r):i.hasAnimated||i.set(r)}else{const i=e.getStaticValue(n);e.addValue(n,ar(i!==void 0?i:r,{owner:e}))}}for(const n in a)t[n]===void 0&&e.removeValue(n);return t}const _0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jk{scrapeMotionValuesFromProps(t,a,n){return{}}constructor({parent:t,props:a,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ym,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=it.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ce.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=a,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=zc(a),this.isVariantNode=H1(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(a,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Le(m)&&m.set(c[f])}}mount(t){var a;this.current=t,Wk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rj.current||Xk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nh.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Va(this.notifyUpdate),Va(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const n=this.features[a];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Cs.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=a.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&ce.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{r(),s&&s(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ds){const a=ds[t];if(!a)continue;const{isEnabled:n,Feature:r}=a;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let n=0;n<_0.length;n++){const r=_0[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,i=t[s];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=Qk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const n=this.values.get(t);a!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&a!==void 0&&(n=ar(a===null?void 0:a,{owner:this}),this.addValue(t,n)),n}readValue(t,a){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Fw(n)||Ww(n))?n=parseFloat(n):!ik(n)&&jn.test(a)&&(n=R1(t,a)),this.setBaseTarget(t,Le(n)?n.get():n)),Le(n)?n.get():n}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var s;const{initial:a}=this.props;let n;if(typeof a=="string"||typeof a=="object"){const i=Tm(this.props,a,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(a&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Le(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new im),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){xm.render(this.render)}}class sj extends Jk{constructor(){super(...arguments),this.KeyframeResolver=K4}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:n}){delete a[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Le(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function ij(e,{style:t,vars:a},n,r){const s=e.style;let i;for(i in t)s[i]=t[i];r==null||r.applyProjectionStyles(s,n);for(i in a)s.setProperty(i,a[i])}function Zk(e){return window.getComputedStyle(e)}class eO extends sj{constructor(){super(...arguments),this.type="html",this.renderInstance=ij}readValueFromInstance(t,a){var n;if(Cs.has(a))return(n=this.projection)!=null&&n.isProjecting?gh(a):h4(t,a);{const r=Zk(t),s=(cm(a)?r.getPropertyValue(a):r[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return nj(t,a)}build(t,a,n){Sm(t,a,n.transformTemplate)}scrapeMotionValuesFromProps(t,a,n){return Am(t,a,n)}}const oj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tO(e,t,a,n){ij(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(oj.has(r)?r:Cm(r),t.attrs[r])}class aO extends sj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Cs.has(a)){const n=O1(a);return n&&n.default||0}return a=oj.has(a)?a:Cm(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,n){return W1(t,a,n)}build(t,a,n){Y1(t,a,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,a,n,r){tO(t,a,n,r)}mount(t){this.isSVGTag=F1(t.tagName),super.mount(t)}}const nO=(e,t)=>Em(e)?new aO(t):new eO(t,{allowProjection:e!==w.Fragment});function Wr(e,t,a){const n=e.getProps();return Tm(n,t,a!==void 0?a:n.custom,e)}const Eh=e=>Array.isArray(e);function rO(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,ar(a))}function sO(e){return Eh(e)?e[e.length-1]||0:e}function km(e,t){const a=Wr(e,t);let{transitionEnd:n={},transition:r={},...s}=a||{};s={...s,...n};for(const i in s){const l=sO(s[i]);rO(e,i,l)}}function iO(e){return!!(Le(e)&&e.add)}function Th(e,t){const a=e.getValue("willChange");if(iO(a))return a.add(t);if(!a&&La.WillChange){const n=new La.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function lj(e){return e.props[Q1]}const oO=e=>e!==null;function lO(e,{repeat:t,repeatType:a="loop"},n){const r=e.filter(oO),s=t&&a!=="loop"&&t%2===1?0:r.length-1;return r[s]}const cO={type:"spring",stiffness:500,damping:25,restSpeed:10},uO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dO={type:"keyframes",duration:.8},hO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fO=(e,{keyframes:t})=>t.length>2?dO:Cs.has(e)?e.startsWith("scale")?uO(t[1]):cO:hO;function mO({when:e,delay:t,delayChildren:a,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Om=(e,t,a,n={},r,s)=>i=>{const l=bm(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ua(c);const d={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:r};mO(l)||Object.assign(d,fO(e,d)),d.duration&&(d.duration=ua(d.duration)),d.repeatDelay&&(d.repeatDelay=ua(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(wh(d),d.delay===0&&(h=!0)),(La.instantAnimations||La.skipAnimations)&&(h=!0,wh(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!s&&t.get()!==void 0){const f=lO(d.keyframes,l);if(f!==void 0){ce.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Dc(d):new U4(d)};function pO({protectedKeys:e,needsAnimating:t},a){const n=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,n}function cj(e,t,{delay:a=0,transitionOverride:n,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(s=n);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&pO(u,d))continue;const m={delay:a,...bm(s||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const p=lj(e);if(p){const g=window.MotionHandoffAnimation(p,d,ce);g!==null&&(m.startTime=g,v=!0)}}Th(e,d),h.start(Om(d,h,f,e.shouldReduceMotion&&A1.has(d)?{type:!1}:m,e,v));const x=h.animation;x&&c.push(x)}return i&&Promise.all(c).then(()=>{ce.update(()=>{i&&km(e,i)})}),c}function uj(e,t,a,n=0,r=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof a=="function"?a(s,i):r===1?s*n:l-s*n}function Ah(e,t,a={}){var c;const n=Wr(e,t,a.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(r=a.transitionOverride);const s=n?()=>Promise.all(cj(e,n,a)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return gO(e,t,u,d,h,f,a)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[s,i]:[i,s];return u().then(()=>d())}else return Promise.all([s(),i(a.delay)])}function gO(e,t,a=0,n=0,r=0,s=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Ah(c,t,{...i,delay:a+(typeof n=="function"?0:n)+uj(e.variantChildren,c,n,r,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function dj(e,t,a={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(s=>Ah(e,s,a));n=Promise.all(r)}else if(typeof t=="string")n=Ah(e,t,a);else{const r=typeof t=="function"?Wr(e,t,a.custom):t;n=Promise.all(cj(e,r,a))}return n.then(()=>{e.notify("AnimationComplete",t)})}function hj(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let n=0;n<a;n++)if(t[n]!==e[n])return!1;return!0}const yO=_m.length;function fj(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?fj(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<yO;a++){const n=_m[a],r=e.props[n];(Bi(r)||r===!1)&&(t[n]=r)}return t}const bO=[...jm].reverse(),vO=jm.length;function xO(e){return t=>Promise.all(t.map(({animation:a,options:n})=>dj(e,a,n)))}function wO(e){let t=xO(e),a=S0(),n=!0;const r=c=>(u,d)=>{var f;const h=Wr(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:b,...v}=h;u={...u,...v,...b}}return u};function s(c){t=c(e)}function i(c){const{props:u}=e,d=fj(e.parent)||{},h=[],f=new Set;let m={},b=1/0;for(let x=0;x<vO;x++){const p=bO[x],g=a[p],y=u[p]!==void 0?u[p]:d[p],j=Bi(y),N=p===c?g.isActive:null;N===!1&&(b=x);let _=y===d[p]&&y!==u[p]&&j;if(_&&n&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...m},!g.isActive&&N===null||!y&&!g.prevProp||Uc(y)||typeof y=="boolean")continue;const S=jO(g.prevProp,y);let E=S||p===c&&g.isActive&&!_&&j||x>b&&j,C=!1;const R=Array.isArray(y)?y:[y];let k=R.reduce(r(p),{});N===!1&&(k={});const{prevResolvedValues:L={}}=g,ie={...L,...k},We=T=>{E=!0,f.has(T)&&(C=!0,f.delete(T)),g.needsAnimating[T]=!0;const U=e.getValue(T);U&&(U.liveStyle=!1)};for(const T in ie){const U=k[T],G=L[T];if(m.hasOwnProperty(T))continue;let Q=!1;Eh(U)&&Eh(G)?Q=!hj(U,G):Q=U!==G,Q?U!=null?We(T):f.add(T):U!==void 0&&f.has(T)?We(T):g.protectedKeys[T]=!0}g.prevProp=y,g.prevResolvedValues=k,g.isActive&&(m={...m,...k}),n&&e.blockInitialAnimation&&(E=!1);const $e=_&&S;E&&(!$e||C)&&h.push(...R.map(T=>{const U={type:p};if(typeof T=="string"&&n&&!$e&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,Q=Wr(G,T);if(G.enteringChildren&&Q){const{delayChildren:ta}=Q.transition||{};U.delay=uj(G.enteringChildren,e,ta)}}return{animation:T,options:U}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const p=Wr(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(x.transition=p.transition)}f.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),x[p]=g??null}),h.push({animation:x})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function l(c,u){var h;if(a[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),a[c].isActive=u;const d=i(c);for(const f in a)a[f].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:s,getState:()=>a,reset:()=>{a=S0()}}}function jO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hj(t,e):!1}function kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S0(){return{animate:kn(!0),whileInView:kn(),whileHover:kn(),whileTap:kn(),whileDrag:kn(),whileFocus:kn(),exit:kn()}}class En{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _O extends En{constructor(t){super(t),t.animationState||(t.animationState=wO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let SO=0;class NO extends En{constructor(){super(...arguments),this.id=SO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);a&&!t&&r.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const EO={animation:{Feature:_O},exit:{Feature:NO}};function Vi(e,t,a,n={passive:!0}){return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a)}function uo(e){return{point:{x:e.pageX,y:e.pageY}}}const TO=e=>t=>wm(t)&&e(t,uo(t));function hi(e,t,a,n){return Vi(e,t,TO(a),n)}const mj=1e-4,AO=1-mj,CO=1+mj,pj=.01,kO=0-pj,OO=0+pj;function et(e){return e.max-e.min}function RO(e,t,a){return Math.abs(e-t)<=a}function N0(e,t,a,n=.5){e.origin=n,e.originPoint=ve(t.min,t.max,e.origin),e.scale=et(a)/et(t),e.translate=ve(a.min,a.max,e.origin)-e.originPoint,(e.scale>=AO&&e.scale<=CO||isNaN(e.scale))&&(e.scale=1),(e.translate>=kO&&e.translate<=OO||isNaN(e.translate))&&(e.translate=0)}function fi(e,t,a,n){N0(e.x,t.x,a.x,n?n.originX:void 0),N0(e.y,t.y,a.y,n?n.originY:void 0)}function E0(e,t,a){e.min=a.min+t.min,e.max=e.min+et(t)}function DO(e,t,a){E0(e.x,t.x,a.x),E0(e.y,t.y,a.y)}function T0(e,t,a){e.min=t.min-a.min,e.max=e.min+et(t)}function ec(e,t,a){T0(e.x,t.x,a.x),T0(e.y,t.y,a.y)}function Tt(e){return[e("x"),e("y")]}const gj=({current:e})=>e?e.ownerDocument.defaultView:null,A0=(e,t)=>Math.abs(e-t);function MO(e,t){const a=A0(e.x,t.x),n=A0(e.y,t.y);return Math.sqrt(a**2+n**2)}class yj{constructor(t,a,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$u(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,b=MO(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!b)return;const{point:v}=f,{timestamp:x}=Ie;this.history.push({...v,timestamp:x});const{onStart:p,onMove:g}=this.handlers;m||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qu(m,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=$u(f.type==="pointercancel"?this.lastMoveEventInfo:qu(m,this.transformPagePoint),this.history);this.startEvent&&b&&b(f,p),v&&v(f,p)},!wm(t))return;this.dragSnapToOrigin=s,this.handlers=a,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const l=uo(t),c=qu(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ie;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=a;h&&h(t,$u(c,this.history)),this.removeListeners=io(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Va(this.updatePoint)}}function qu(e,t){return t?{point:t(e.point)}:e}function C0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $u({point:e},t){return{point:e,delta:C0(e,bj(t)),offset:C0(e,UO(t)),velocity:zO(t,.1)}}function UO(e){return e[0]}function bj(e){return e[e.length-1]}function zO(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,n=null;const r=bj(e);for(;a>=0&&(n=e[a],!(r.timestamp-n.timestamp>ua(t)));)a--;if(!n)return{x:0,y:0};const s=Ut(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function PO(e,{min:t,max:a},n){return t!==void 0&&e<t?e=n?ve(t,e,n.min):Math.max(e,t):a!==void 0&&e>a&&(e=n?ve(a,e,n.max):Math.min(e,a)),e}function k0(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function BO(e,{top:t,left:a,bottom:n,right:r}){return{x:k0(e.x,a,r),y:k0(e.y,t,n)}}function O0(e,t){let a=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,n]=[n,a]),{min:a,max:n}}function LO(e,t){return{x:O0(e.x,t.x),y:O0(e.y,t.y)}}function VO(e,t){let a=.5;const n=et(e),r=et(t);return r>n?a=Ui(t.min,t.max-n,e.min):n>r&&(a=Ui(e.min,e.max-r,t.min)),Ba(0,1,a)}function qO(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const Ch=.35;function $O(e=Ch){return e===!1?e=0:e===!0&&(e=Ch),{x:R0(e,"left","right"),y:R0(e,"top","bottom")}}function R0(e,t,a){return{min:D0(e,t),max:D0(e,a)}}function D0(e,t){return typeof e=="number"?e:e[t]||0}const HO=new WeakMap;class IO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(uo(h).point)},i=(h,f)=>{const{drag:m,dragPropagation:b,onDragStart:v}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W4(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(p=>{let g=this.getAxisMotionValue(p).get()||0;if(da.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const j=y.layout.layoutBox[p];j&&(g=et(j)*(parseFloat(g)/100))}}this.originPoint[p]=g}),v&&ce.postRender(()=>v(h,f)),Th(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:v,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=f;if(b&&this.currentDirection===null){this.currentDirection=GO(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),x&&x(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yj(t,{onSessionStart:s,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:gj(this.visualElement)})}stop(t,a){const n=t||this.latestPointerEvent,r=a||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&ce.postRender(()=>l(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,n){const{drag:r}=this.getProps();if(!n||!$o(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=PO(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;t&&Br(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=BO(n.layoutBox,t):this.constraints=!1,this.elastic=$O(a),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Tt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=qO(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Br(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Fk(n,r.root,this.visualElement.getTransformPagePoint());let i=LO(r.layout.layoutBox,s);if(a){const l=a(Gk(i));this.hasMutatedConstraints=!!l,l&&(i=ej(l))}return i}startAnimation(t){const{drag:a,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Tt(d=>{if(!$o(d,a,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,b={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,a){const n=this.getAxisMotionValue(t);return Th(this.visualElement,t),n.start(Om(t,n,0,a,this.visualElement,!1))}stopAnimation(){Tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tt(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[a];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Tt(a=>{const{drag:n}=this.getProps();if(!$o(a,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(a);if(r&&r.layout){const{min:i,max:l}=r.layout.layoutBox[a];s.set(t[a]-ve(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:n}=this.visualElement;if(!Br(a)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Tt(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();r[i]=VO({min:c,max:c},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Tt(i=>{if(!$o(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(ve(c,u,r[i]))})}addListeners(){if(!this.visualElement.current)return;HO.set(this.visualElement,this);const t=this.visualElement.current,a=hi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Br(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ce.read(n);const i=Vi(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),a(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Ch,dragMomentum:l=!0}=t;return{...t,drag:a,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:l}}}function $o(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function GO(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class YO extends En{constructor(t){super(t),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new IO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const M0=e=>(t,a)=>{e&&ce.postRender(()=>e(t,a))};class KO extends En{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(t){this.session=new yj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:M0(t),onStart:M0(a),onMove:n,onEnd:(s,i)=>{delete this.session,r&&ce.postRender(()=>r(s,i))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const a=U0(e,t.target.x),n=U0(e,t.target.y);return`${a}% ${n}%`}},FO={correct:(e,{treeScale:t,projectionDelta:a})=>{const n=e,r=jn.parse(e);if(r.length>5)return n;const s=jn.createTransformer(e),i=typeof r[0]!="number"?1:0,l=a.x.scale*t.x,c=a.y.scale*t.y;r[0+i]/=l,r[1+i]/=c;const u=ve(l,c,.5);return typeof r[2+i]=="number"&&(r[2+i]/=u),typeof r[3+i]=="number"&&(r[3+i]/=u),s(r)}};let Hu=!1;class XO extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=t;vk(WO),s&&(a.group&&a.group.add(s),n&&n.register&&r&&n.register(s),Hu&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,Hu=!0,r||t.layoutDependency!==a||a===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||ce.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n}=this.props,{projection:r}=t;Hu=!0,r&&(r.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vj(e){const[t,a]=V1(),n=w.useContext(em);return o.jsx(XO,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(J1),isPresent:t,safeToRemove:a})}const WO={borderRadius:{...Bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bs,borderTopRightRadius:Bs,borderBottomLeftRadius:Bs,borderBottomRightRadius:Bs,boxShadow:FO};function QO(e,t,a){const n=Le(e)?e:ar(e);return n.start(Om("",n,t,a)),n.animation}const JO=(e,t)=>e.depth-t.depth;class ZO{constructor(){this.children=[],this.isDirty=!1}add(t){am(this.children,t),this.isDirty=!0}remove(t){nm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JO),this.isDirty=!1,this.children.forEach(t)}}function eR(e,t){const a=it.now(),n=({timestamp:r})=>{const s=r-a;s>=t&&(Va(n),e(s-t))};return ce.setup(n,!0),()=>Va(n)}const xj=["TopLeft","TopRight","BottomLeft","BottomRight"],tR=xj.length,z0=e=>typeof e=="string"?parseFloat(e):e,P0=e=>typeof e=="number"||q.test(e);function aR(e,t,a,n,r,s){r?(e.opacity=ve(0,a.opacity??1,nR(n)),e.opacityExit=ve(t.opacity??1,0,rR(n))):s&&(e.opacity=ve(t.opacity??1,a.opacity??1,n));for(let i=0;i<tR;i++){const l=`border${xj[i]}Radius`;let c=B0(t,l),u=B0(a,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||P0(c)===P0(u)?(e[l]=Math.max(ve(z0(c),z0(u),n),0),(da.test(u)||da.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||a.rotate)&&(e.rotate=ve(t.rotate||0,a.rotate||0,n))}function B0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nR=wj(0,.5,r1),rR=wj(.5,.95,Lt);function wj(e,t,a){return n=>n<e?0:n>t?1:a(Ui(e,t,n))}function L0(e,t){e.min=t.min,e.max=t.max}function Gt(e,t){L0(e.x,t.x),L0(e.y,t.y)}function V0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function q0(e,t,a,n,r){return e-=t,e=Zl(e,1/a,n),r!==void 0&&(e=Zl(e,1/r,n)),e}function sR(e,t=0,a=1,n=.5,r,s=e,i=e){if(da.test(t)&&(t=parseFloat(t),t=ve(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ve(s.min,s.max,n);e===s&&(l-=t),e.min=q0(e.min,t,a,l,r),e.max=q0(e.max,t,a,l,r)}function $0(e,t,[a,n,r],s,i){sR(e,t[a],t[n],t[r],t.scale,s,i)}const iR=["x","scaleX","originX"],oR=["y","scaleY","originY"];function H0(e,t,a,n){$0(e.x,t,iR,a?a.x:void 0,n?n.x:void 0),$0(e.y,t,oR,a?a.y:void 0,n?n.y:void 0)}function I0(e){return e.translate===0&&e.scale===1}function jj(e){return I0(e.x)&&I0(e.y)}function G0(e,t){return e.min===t.min&&e.max===t.max}function lR(e,t){return G0(e.x,t.x)&&G0(e.y,t.y)}function Y0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _j(e,t){return Y0(e.x,t.x)&&Y0(e.y,t.y)}function K0(e){return et(e.x)/et(e.y)}function F0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cR{constructor(){this.members=[]}add(t){am(this.members,t),t.scheduleRender()}remove(t){if(nm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(r=>t===r);if(a===0)return!1;let n;for(let r=a;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,a){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,a&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:n}=t;a.onExitComplete&&a.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uR(e,t,a){let n="";const r=e.x.translate/t.x,s=e.y.translate/t.y,i=(a==null?void 0:a.z)||0;if((r||s||i)&&(n=`translate3d(${r}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:b}=a;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Iu=["","X","Y","Z"],dR=1e3;let hR=0;function Gu(e,t,a,n){const{latestValues:r}=t;r[e]&&(a[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Sj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=lj(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",ce,!(r||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Sj(n)}function Nj({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(i={},l=t==null?void 0:t()){this.id=hR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pR),this.nodes.forEach(vR),this.nodes.forEach(xR),this.nodes.forEach(gR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZO)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new im),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=L1(i)&&!ak(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{h=window.innerWidth}),e(i,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=eR(f,250),hl.hasAnimatedSinceResize&&(hl.hasAnimatedSinceResize=!1,this.nodes.forEach(Q0)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||NR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),p=!this.targetLayout||!_j(this.targetLayout,m),g=!h&&f;if(this.options.layoutRoot||this.resumeFrom||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...bm(b,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,g)}else h||Q0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wR),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(W0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bR),this.nodes.forEach(fR),this.nodes.forEach(mR)):this.nodes.forEach(W0),this.clearAllSnapshots();const l=it.now();Ie.delta=Ba(0,1e3/60,l-Ie.timestamp),Ie.timestamp=l,Ie.isProcessing=!0,Du.update.process(Ie),Du.preRender.process(Ie),Du.render.process(Ie),Ie.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yR),this.sharedNodes.forEach(jR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!et(this.snapshot.measuredBox.x)&&!et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!jj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||zn(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),ER(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return De();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(TR))){const{scroll:d}=this.root;d&&(Lr(l.x,d.offset.x),Lr(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=De();if(Gt(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Gt(l,i),Lr(l.x,h.offset.x),Lr(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const c=De();Gt(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zn(d.latestValues)&&Vr(c,d.latestValues)}return zn(this.latestValues)&&Vr(c,this.latestValues),c}removeTransform(i){const l=De();Gt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zn(u.latestValues))continue;_h(u.latestValues)&&u.updateSnapshot();const d=De(),h=u.measurePageBox();Gt(d,h),H0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zn(this.latestValues)&&H0(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ie.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ie.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),aj(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_h(this.parent.latestValues)||tj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),ec(this.relativeTargetOrigin,l,c),Gt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ie.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Gt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Kk(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=De());const{target:m}=i;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(V0(this.prevProjectionDelta.x,this.projectionDelta.x),V0(this.prevProjectionDelta.y,this.projectionDelta.y)),fi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!F0(this.projectionDelta.x,this.prevProjectionDelta.x)||!F0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qr(),this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=De(),m=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=m!==b,x=this.getStack(),p=!x||x.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(SR));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const N=j/1e3;J0(h.x,i.x,N),J0(h.y,i.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_R(this.relativeTarget,this.relativeTargetOrigin,f,N),y&&lR(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=De()),Gt(y,this.relativeTarget)),v&&(this.animationValues=d,aR(d,u,this.latestValues,N,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{hl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ar(0)),this.currentAnimation=QO(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Ej(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||De();const h=et(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=et(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}Gt(l,c),Vr(l,d),fi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new cR),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Gu("z",i,u,this.animationValues);for(let d=0;d<Iu.length;d++)Gu(`rotate${Iu[d]}`,i,u,this.animationValues),Gu(`skew${Iu[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=dl(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=dl(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=uR(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),i.transform=h;const{x:f,y:m}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in Li){if(d[b]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:p}=Li[b],g=h==="none"?d[b]:v(d[b],u);if(x){const y=x.length;for(let j=0;j<y;j++)i[x[j]]=g}else p?this.options.visualElement.renderState.vars[b]=g:i[b]=g}this.options.layoutId&&(i.pointerEvents=u===this?dl(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(X0),this.root.sharedNodes.clear()}}}function fR(e){e.updateLayout()}function mR(e){var a;const t=((a=e.resumeFrom)==null?void 0:a.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Tt(h=>{const f=i?t.measuredBox[h]:t.layoutBox[h],m=et(f);f.min=n[h].min,f.max=f.min+m}):Ej(s,t.layoutBox,n)&&Tt(h=>{const f=i?t.measuredBox[h]:t.layoutBox[h],m=et(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=qr();fi(l,n,t.layoutBox);const c=qr();i?fi(c,e.applyTransform(r,!0),t.measuredBox):fi(c,n,t.layoutBox);const u=!jj(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const b=De();ec(b,t.layoutBox,f.layoutBox);const v=De();ec(v,n,m.layoutBox),_j(b,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pR(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yR(e){e.clearSnapshot()}function X0(e){e.clearMeasurements()}function W0(e){e.isLayoutDirty=!1}function bR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Q0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vR(e){e.resolveTargetDelta()}function xR(e){e.calcProjection()}function wR(e){e.resetSkewAndRotation()}function jR(e){e.removeLeadSnapshot()}function J0(e,t,a){e.translate=ve(t.translate,0,a),e.scale=ve(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function Z0(e,t,a,n){e.min=ve(t.min,a.min,n),e.max=ve(t.max,a.max,n)}function _R(e,t,a,n){Z0(e.x,t.x,a.x,n),Z0(e.y,t.y,a.y,n)}function SR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NR={duration:.45,ease:[.4,0,.1,1]},ey=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ty=ey("applewebkit/")&&!ey("chrome/")?Math.round:Lt;function ay(e){e.min=ty(e.min),e.max=ty(e.max)}function ER(e){ay(e.x),ay(e.y)}function Ej(e,t,a){return e==="position"||e==="preserve-aspect"&&!RO(K0(t),K0(a),.2)}function TR(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const AR=Nj({attachResizeListener:(e,t)=>Vi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yu={current:void 0},Tj=Nj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yu.current){const e=new AR({});e.mount(window),e.setOptions({layoutScroll:!0}),Yu.current=e}return Yu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CR={pan:{Feature:KO},drag:{Feature:YO,ProjectionNode:Tj,MeasureLayout:vj}};function ny(e,t,a){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",a==="Start");const r="onHover"+a,s=n[r];s&&ce.postRender(()=>s(t,uo(t)))}class kR extends En{mount(){const{current:t}=this.node;t&&(this.unmount=Q4(t,(a,n)=>(ny(this.node,n,"Start"),r=>ny(this.node,r,"End"))))}unmount(){}}class OR extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(Vi(this.node.current,"focus",()=>this.onFocus()),Vi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ry(e,t,a){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",a==="Start");const r="onTap"+(a==="End"?"":a),s=n[r];s&&ce.postRender(()=>s(t,uo(t)))}class RR extends En{mount(){const{current:t}=this.node;t&&(this.unmount=tk(t,(a,n)=>(ry(this.node,n,"Start"),(r,{success:s})=>ry(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kh=new WeakMap,Ku=new WeakMap,DR=e=>{const t=kh.get(e.target);t&&t(e)},MR=e=>{e.forEach(DR)};function UR({root:e,...t}){const a=e||document;Ku.has(a)||Ku.set(a,{});const n=Ku.get(a),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(MR,{root:e,...t})),n[r]}function zR(e,t,a){const n=UR(t);return kh.set(e,a),n.observe(e),()=>{kh.delete(e),n.unobserve(e)}}const PR={some:0,all:1};class BR extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:n,amount:r="some",once:s}=t,i={root:a?a.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:PR[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return zR(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(LR(t,a))&&this.startObserver()}unmount(){}}function LR({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const VR={inView:{Feature:BR},tap:{Feature:RR},focus:{Feature:OR},hover:{Feature:kR}},qR={layout:{ProjectionNode:Tj,MeasureLayout:vj}},$R={...EO,...VR,...CR,...qR},D=Ik($R,nO);function tc(e){const t=Es(()=>ar(e)),{isStatic:a}=w.useContext(co);if(a){const[,n]=w.useState(e);w.useEffect(()=>t.on("change",n),[])}return t}function Aj(e,t){const a=tc(t()),n=()=>a.set(t());return n(),Oc(()=>{const r=()=>ce.preRender(n,!1,!0),s=e.map(i=>i.on("change",r));return()=>{s.forEach(i=>i()),Va(n)}}),a}function HR(e){di.current=[],e();const t=Aj(di.current,e);return di.current=void 0,t}function Oh(e,t,a,n){if(typeof e=="function")return HR(e);const r=typeof t=="function"?t:nk(t,a,n);return Array.isArray(e)?sy(e,r):sy([e],([s])=>r(s))}function sy(e,t){const a=Es(()=>[]);return Aj(e,()=>{a.length=0;const n=e.length;for(let r=0;r<n;r++)a[r]=e[r].get();return t(a)})}function iy(e,t={}){const{isStatic:a}=w.useContext(co),n=()=>Le(e)?e.get():e;if(a)return Oh(n);const r=tc(n());return w.useInsertionEffect(()=>rk(r,e,t),[r,JSON.stringify(t)]),r}function IR(e){e.values.forEach(t=>t.stop())}function Rh(e,t){[...t].reverse().forEach(n=>{const r=e.getVariant(n);r&&km(e,r),e.variantChildren&&e.variantChildren.forEach(s=>{Rh(s,t)})})}function GR(e,t){if(Array.isArray(t))return Rh(e,t);if(typeof t=="string")return Rh(e,[t]);km(e,t)}function YR(){const e=new Set,t={subscribe(a){return e.add(a),()=>void e.delete(a)},start(a,n){const r=[];return e.forEach(s=>{r.push(dj(s,a,{transitionOverride:n}))}),Promise.all(r)},set(a){return e.forEach(n=>{GR(n,a)})},stop(){e.forEach(a=>{IR(a)})},mount(){return()=>{t.stop()}}};return t}function KR(){const e=Es(YR);return Oc(e.mount,[]),e}const FR=KR,XR={some:0,all:1};function WR(e,t,{root:a,margin:n,amount:r="some"}={}){const s=D1(e),i=new WeakMap,l=u=>{u.forEach(d=>{const h=i.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d.target,d);typeof f=="function"?i.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),i.delete(d.target))})},c=new IntersectionObserver(l,{root:a,rootMargin:n,threshold:typeof r=="number"?r:XR[r]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function QR(e,{root:t,margin:a,amount:n,once:r=!1,initial:s=!1}={}){const[i,l]=w.useState(s);return w.useEffect(()=>{if(!e.current||r&&i)return;const c=()=>(l(!0),r?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:a,amount:n};return WR(e.current,c,u)},[t,e,a,r,n]),i}const JR=()=>{var x;const[e,t]=w.useState(!1),[a,n]=w.useState(!1),[r,s]=w.useState(!1),i=ut(),l=$a(),{user:c,signOut:u,isAdmin:d,role:h}=cr(),{itemCount:f}=Jf();w.useEffect(()=>{const p=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const m=[{name:"Servios",path:"/servicos",icon:qe},{name:"Galeria",path:"/galeria",icon:Mi},{name:"Loja",path:"/loja",icon:Oa},{name:"Avaliaes",path:"/avaliacoes",icon:zr},{name:"Contactos",path:"/contato",icon:Cc}],b=p=>i.pathname===p,v=async()=>{await u(),l("/"),t(!1),s(!1)};return o.jsxs("nav",{className:de("fixed top-0 w-full z-50 transition-all duration-300",a?"bg-dark/95 backdrop-blur-md shadow-lg py-2 border-b border-white/5":"bg-transparent py-6"),children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(Y,{to:"/",className:"flex items-center space-x-2 group",children:[o.jsx(qe,{className:"h-8 w-8 text-primary group-hover:rotate-45 transition-transform duration-300"}),o.jsx("span",{className:"font-heading font-bold text-xl tracking-wider text-white",children:"BARBEARIA DOURADO"})]})}),o.jsx("div",{className:"hidden md:block",children:o.jsxs("div",{className:"ml-10 flex items-baseline space-x-1",children:[m.map(p=>{const g=p.icon;return o.jsxs(Y,{to:p.path,className:de("px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 relative group flex items-center gap-2",b(p.path)?"text-primary":"text-gray-300 hover:text-primary"),children:[o.jsx(g,{className:"w-4 h-4"}),p.name,o.jsx("span",{className:de("absolute bottom-0 left-0 w-full h-0.5 bg-primary transform origin-left transition-transform duration-300",b(p.path)?"scale-x-100":"scale-x-0 group-hover:scale-x-100")})]},p.name)}),o.jsxs(Y,{to:"/agendar",className:"ml-4 px-4 py-2 rounded-lg bg-primary text-black text-sm font-bold uppercase tracking-wide hover:bg-primary/90 hover:scale-105 transition-all duration-300 flex items-center gap-2 shadow-lg shadow-primary/10",children:[o.jsx(Bt,{className:"w-4 h-4"}),"Marcao"]})]})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-4 ml-12",children:[o.jsxs(Y,{to:"/loja/carrinho",className:"relative text-gray-300 hover:text-primary transition-colors p-2",children:[o.jsx(Oa,{className:"w-6 h-6"}),f>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-primary text-dark text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:f})]}),c?o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-2 text-gray-300 hover:text-white focus:outline-none transition-colors",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center overflow-hidden",children:o.jsx(_t,{className:"w-5 h-5 text-gray-400"})}),o.jsx("span",{className:"font-medium max-w-[100px] truncate hidden lg:block",children:((x=c.user_metadata)==null?void 0:x.nome)||"Cliente"}),o.jsx(eC,{className:`w-4 h-4 transition-transform duration-200 ${r?"rotate-180":""}`})]}),o.jsx($t,{children:r&&o.jsxs(D.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-dark border border-gray-800 rounded-lg shadow-xl py-2 z-50 ring-1 ring-black ring-opacity-5",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 mb-2",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Logado como"}),o.jsx("p",{className:"text-sm font-bold text-white truncate",children:c.email})]}),o.jsxs(Y,{to:"/perfil",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-primary transition-colors",children:[o.jsx(_t,{className:"w-4 h-4 mr-3"}),"Meu Perfil"]}),d&&o.jsxs(Y,{to:"/admin",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-primary transition-colors",children:[o.jsx(lh,{className:"w-4 h-4 mr-3"}),"Painel Admin"]}),h==="barbeiro"&&o.jsxs(Y,{to:"/barbeiro",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-primary transition-colors",children:[o.jsx(lh,{className:"w-4 h-4 mr-3"}),"Painel Barbeiro"]}),o.jsx("div",{className:"border-t border-gray-800 my-2"}),o.jsxs("button",{onClick:v,className:"flex w-full items-center px-4 py-2 text-sm text-red-400 hover:bg-red-900/10 hover:text-red-300 transition-colors",children:[o.jsx(Hw,{className:"w-4 h-4 mr-3"}),"Sair da Conta"]})]})})]}):o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Y,{to:"/login",className:"text-gray-300 hover:text-white font-medium transition-colors",children:"Entrar"}),o.jsx(Y,{to:"/registo",className:"btn-primary text-sm px-4 py-2 font-bold uppercase tracking-wide hover:scale-105 transition-transform duration-300",children:"Registar"})]})]}),o.jsxs("div",{className:"-mr-2 flex md:hidden",children:[o.jsxs(Y,{to:"/loja/carrinho",className:"relative text-gray-300 hover:text-primary transition-colors p-2 mr-2",children:[o.jsx(Oa,{className:"w-6 h-6"}),f>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-primary text-dark text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:f})]}),o.jsx("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:e?o.jsx(ha,{className:"h-6 w-6"}):o.jsx(Iw,{className:"h-6 w-6"})})]})]})}),o.jsx($t,{children:e&&o.jsx(D.div,{className:"md:hidden bg-dark-bg border-t border-gray-800 absolute w-full",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[m.map(p=>o.jsx(Y,{to:p.path,onClick:()=>t(!1),className:de("block px-3 py-2 rounded-md text-base font-medium",b(p.path)?"text-primary bg-gray-900":"text-gray-300 hover:text-white hover:bg-gray-700"),children:p.name},p.name)),o.jsx("div",{className:"border-t border-gray-700 pt-4 mt-4",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Y,{to:"/perfil",onClick:()=>t(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700",children:"Meu Perfil"}),d&&o.jsx(Y,{to:"/admin",onClick:()=>t(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700",children:"Painel Admin"}),h==="barbeiro"&&o.jsx(Y,{to:"/barbeiro",onClick:()=>t(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700",children:"Painel Barbeiro"}),o.jsx(Y,{to:"/agendar",onClick:()=>t(!1),className:"block w-full text-center mt-4 btn-primary",children:"Agendar Online"}),o.jsx("button",{onClick:v,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-500 hover:bg-gray-700 mt-2",children:"Sair"})]}):o.jsxs("div",{className:"space-y-3 px-3",children:[o.jsx(Y,{to:"/login",onClick:()=>t(!1),className:"block text-center text-gray-300 hover:text-white font-medium",children:"Entrar"}),o.jsx(Y,{to:"/registo",onClick:()=>t(!1),className:"block w-full text-center btn-primary",children:"Registar"})]})})]})})})]})},ZR=()=>ut().pathname.startsWith("/admin")?null:o.jsx("footer",{className:"bg-dark-bg text-white pt-16 pb-8 border-t border-white/5",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[o.jsxs("div",{className:"col-span-1 md:col-span-1",children:[o.jsxs(Y,{to:"/",className:"flex items-center space-x-2 mb-6",children:[o.jsx(qe,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"font-heading font-bold text-lg tracking-wider text-white",children:"BARBEARIA DOURADO"})]}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Tradio e estilo para o homem moderno. Uma experincia nica de barbearia em Montemor-o-Velho."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-primary tracking-wide",children:"Links Rpidos"}),o.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[o.jsx("li",{children:o.jsx(Y,{to:"/",className:"hover:text-primary transition-colors duration-300",children:"Incio"})}),o.jsx("li",{children:o.jsx(Y,{to:"/sobre",className:"hover:text-primary transition-colors duration-300",children:"Sobre"})}),o.jsx("li",{children:o.jsx(Y,{to:"/servicos",className:"hover:text-primary transition-colors duration-300",children:"Servios"})}),o.jsx("li",{children:o.jsx(Y,{to:"/agendar",className:"hover:text-primary transition-colors duration-300",children:"Agendar"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-primary tracking-wide",children:"Contactos"}),o.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[o.jsx("li",{children:"Rua Principal, 123"}),o.jsx("li",{children:"Montemor-o-Velho, Portugal"}),o.jsx("li",{children:"+351 912 345 678"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-primary tracking-wide",children:"Siga-nos"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary transition-colors duration-300 transform hover:scale-110",children:o.jsx(Fl,{className:"h-6 w-6"})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary transition-colors duration-300 transform hover:scale-110",children:o.jsx(qw,{className:"h-6 w-6"})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary transition-colors duration-300 transform hover:scale-110",children:o.jsx(a5,{className:"h-6 w-6"})})]})]})]}),o.jsx("div",{className:"border-t border-white/5 pt-8 text-center text-sm text-gray-500",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Barbearia Dourado. Todos os direitos reservados."]})})]})}),e3=()=>o.jsxs("div",{className:"flex flex-col min-h-screen bg-dark-bg",children:[o.jsx(JR,{}),o.jsx("main",{className:"flex-grow",children:o.jsx(qf,{})}),o.jsx(ZR,{})]}),t3=()=>{var c,u;const e=ut(),t=$a(),{user:a,loading:n}=cr(),[r,s]=w.useState(!0);if(Io.useEffect(()=>{if(!n){if(!a){t("/login");return}(async()=>{const{data:h}=await P.from("perfis").select("role").eq("id",a.id).single();(h==null?void 0:h.role)!=="admin"&&(h==null?void 0:h.role)!=="barbeiro"&&t("/")})()}},[a,n,t]),n)return o.jsx("div",{className:"flex bg-dark-bg min-h-[50vh] items-center justify-center",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})});const i=[{name:"Dashboard",path:"/admin",icon:lh},{name:"Agendamentos",path:"/admin/agendamentos",icon:Bt},{name:"Gesto",path:"/admin/gerenciar",icon:li},{name:"Produtos",path:"/admin/produtos",icon:Oa},{name:"Galeria",path:"/admin/galeria",icon:Mi},{name:"Servios",path:"/admin/servicos",icon:qe}],l=d=>e.pathname===d;return o.jsxs("div",{className:"min-h-screen bg-zinc-950 pt-24 pb-12 relative flex",children:[o.jsx("button",{onClick:()=>s(!r),className:"lg:hidden fixed bottom-6 right-6 z-50 p-3 bg-primary text-dark rounded-full shadow-xl",children:r?o.jsx(ha,{className:"w-6 h-6"}):o.jsx(Iw,{className:"w-6 h-6"})}),o.jsx($t,{mode:"wait",children:(r||window.innerWidth>=1024)&&o.jsxs(D.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},exit:{x:-250,opacity:0},className:de("fixed lg:sticky top-24 left-0 h-[calc(100vh-6rem)] w-64 bg-zinc-900/50 backdrop-blur-md border-r border-white/5 z-40 lg:z-0 flex-shrink-0 rounded-r-2xl overflow-hidden shadow-2xl lg:shadow-none","lg:block",!r&&"hidden"),children:[o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-6",children:"Menu Admin"}),o.jsx("nav",{className:"space-y-2",children:i.map(d=>o.jsxs(Y,{to:d.path,onClick:()=>window.innerWidth<1024&&s(!1),className:de("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden",l(d.path)?"text-primary bg-primary/10":"text-gray-400 hover:text-white hover:bg-white/5"),children:[o.jsx(d.icon,{className:de("w-5 h-5",l(d.path)?"text-primary":"group-hover:text-primary")}),o.jsx("span",{className:"font-medium relative z-10",children:d.name}),l(d.path)&&o.jsx(D.div,{layoutId:"active-nav",className:"absolute inset-0 border-l-2 border-primary",transition:{duration:.3}})]},d.path))})]}),o.jsx("div",{className:"absolute bottom-0 w-full p-6 bg-gradient-to-t from-black/50 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:o.jsx(qe,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400",children:"Logado como"}),o.jsx("p",{className:"text-sm font-bold text-white truncate max-w-[120px]",children:((c=a==null?void 0:a.user_metadata)==null?void 0:c.nome)||"Admin"})]})]})})]})}),o.jsxs(D.main,{layout:!0,className:"flex-1 px-4 sm:px-8 max-w-[1600px] mx-auto w-full lg:w-auto overflow-hidden",children:[o.jsxs("div",{className:"mb-8 flex items-center gap-2 text-sm text-gray-400",children:[o.jsx("span",{children:"Painel"}),o.jsx(Vw,{className:"w-4 h-4"}),o.jsx("span",{className:"text-white",children:((u=i.find(d=>l(d.path)))==null?void 0:u.name)||"Dashboard"})]}),o.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:o.jsx(qf,{})})]})]})},a3=({children:e})=>o.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full h-full",children:e}),Fu=({children:e,width:t="fit-content",delay:a=.25,className:n=""})=>{const r=w.useRef(null),s=QR(r,{once:!0}),i=FR();return w.useEffect(()=>{s&&i.start("visible")},[s,i]),o.jsx("div",{ref:r,className:n,style:{position:"relative",width:t,overflow:"hidden"},children:o.jsx(D.div,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:"hidden",animate:i,transition:{duration:.5,delay:a},className:"h-full",children:e})})},Xu=({children:e,className:t="",tiltMaxAngleX:a=10,tiltMaxAngleY:n=10})=>{const r=w.useRef(null),s=tc(0),i=tc(0),l=iy(s),c=iy(i),u=Oh(c,[-.5,.5],[a,-a]),d=Oh(l,[-.5,.5],[-n,n]),h=m=>{if(!r.current)return;const b=r.current.getBoundingClientRect(),v=b.width,x=b.height,p=m.clientX-b.left,g=m.clientY-b.top,y=p/v-.5,j=g/x-.5;s.set(y),i.set(j)},f=()=>{s.set(0),i.set(0)};return o.jsx(D.div,{ref:r,onMouseMove:h,onMouseLeave:f,style:{rotateY:d,rotateX:u,transformStyle:"preserve-3d"},className:`relative transition-all duration-200 ease-out ${t}`,children:o.jsx("div",{style:{transform:"translateZ(50px)"},children:e})})},n3="/PAP/assets/hero-bg-CF2cB2CT.png",Qt=({title:e,subtitle:t,backgroundImage:a="https://images.unsplash.com/photo-1503951914875-452162b7f30a?auto=format&fit=crop&q=80&w=2070",height:n="h-[60vh]",children:r})=>o.jsxs("div",{className:`relative ${n} flex items-center justify-center overflow-hidden border-b border-white/5`,children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 z-10"}),o.jsx(D.img,{src:a,alt:"Background",className:"w-full h-full object-cover",initial:{scale:1.1},animate:{scale:1},transition:{duration:1.5}})]}),o.jsxs(D.div,{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsx("div",{className:"font-heading text-5xl md:text-7xl font-bold text-white mb-6 tracking-wider",children:e}),t&&o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light tracking-wide mb-8",children:t}),r]})]}),r3=()=>{const e={initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6}};return o.jsxs(a3,{children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["BARBEARIA ",o.jsx("br",{}),o.jsx("span",{className:"text-primary",children:"DOURADO"})]}),subtitle:"Onde a tradio encontra a modernidade. Cortes clssicos, barbas esculpidas e uma experincia premium em Montemor-o-Velho.",backgroundImage:n3,height:"h-[85vh]",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mt-8",children:[o.jsx(Y,{to:"/agendar",className:"btn-primary px-10 py-4 text-lg font-bold uppercase tracking-wider shadow-[0_0_20px_rgba(212,175,55,0.2)] hover:shadow-[0_0_30px_rgba(212,175,55,0.4)] transition-all transform hover:-translate-y-1",children:"Agendar Agora"}),o.jsx(Y,{to:"/loja",className:"px-10 py-4 text-lg font-bold uppercase tracking-wider border-2 border-white text-white hover:bg-white hover:text-dark transition-all duration-300 shadow-lg hover:shadow-white/20 rounded-md",children:"Loja Online"})]})}),o.jsx("section",{className:"py-24 bg-dark-bg relative",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[o.jsxs(D.div,{...e,children:[o.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-8 border-l-4 border-primary pl-6",children:"Tradio desde 2015"}),o.jsxs("div",{className:"space-y-6 text-gray-400 text-lg leading-relaxed",children:[o.jsxs("p",{children:["Fundada com a misso de resgatar a arte da barbearia clssica, a ",o.jsx("span",{className:"text-primary font-semibold",children:"Barbearia Dourado"})," nasceu do sonho de criar um espao onde o homem moderno pudesse encontrar no apenas um corte de cabelo, mas uma experincia de cuidado e relaxamento."]}),o.jsx("p",{children:"Localizados no corao de Montemor-o-Velho, combinamos tcnicas tradicionais de barbearia com as tendncias mais atuais, garantindo que cada cliente saia da nossa cadeira sentindo-se confiante e renovado."})]})]}),o.jsxs(D.div,{className:"relative h-[500px] rounded-2xl overflow-hidden shadow-2xl shadow-primary/10 border border-white/5 group",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 bg-primary/10 z-10 group-hover:bg-transparent transition-colors duration-500"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1503951914875-befbb7135952?q=80&w=2070&auto=format&fit=crop",alt:"Interior da Barbearia",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]})]})})}),o.jsxs("section",{className:"py-32 relative z-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:o.jsx("img",{src:"https://www.transparenttextures.com/patterns/cubes.png",alt:"Background Texture",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"absolute inset-0 bg-dark-bg/90 z-0"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"text-center mb-20",children:[o.jsx("h2",{className:"text-primary font-bold tracking-widest uppercase mb-3 text-sm",children:"Por que nos escolher"}),o.jsx("h3",{className:"text-4xl md:text-5xl font-heading font-bold text-white",children:"A Experincia Dourado"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[o.jsx(Fu,{delay:.1,className:"h-full",children:o.jsxs(Xu,{className:"bg-card-bg p-10 rounded-2xl border border-white/5 h-full group hover:border-primary/30 transition-colors duration-500",children:[o.jsx("div",{className:"w-16 h-16 bg-dark-bg rounded-2xl flex items-center justify-center mb-8 group-hover:bg-primary/10 transition-colors border border-white/5 group-hover:border-primary/20",children:o.jsx(qe,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Profissionais Experientes"}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Nossa equipe  formada por mestres na arte da barbearia, com anos de experincia e paixo pelo ofcio."})]})}),o.jsx(Fu,{delay:.3,className:"h-full",children:o.jsxs(Xu,{className:"bg-card-bg p-10 rounded-2xl border border-white/5 h-full group hover:border-primary/30 transition-colors duration-500",children:[o.jsx("div",{className:"w-16 h-16 bg-dark-bg rounded-2xl flex items-center justify-center mb-8 group-hover:bg-primary/10 transition-colors border border-white/5 group-hover:border-primary/20",children:o.jsx(zr,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Produtos Premium"}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Utilizamos apenas os melhores produtos do mercado para garantir o cuidado e a sade do seu cabelo e barba."})]})}),o.jsx(Fu,{delay:.5,className:"h-full",children:o.jsxs(Xu,{className:"bg-card-bg p-10 rounded-2xl border border-white/5 h-full group hover:border-primary/30 transition-colors duration-500",children:[o.jsx("div",{className:"w-16 h-16 bg-dark-bg rounded-2xl flex items-center justify-center mb-8 group-hover:bg-primary/10 transition-colors border border-white/5 group-hover:border-primary/20",children:o.jsx(Bt,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Agendamento Fcil"}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Reserve seu horrio em segundos atravs da nossa plataforma online, sem complicaes ou esperas."})]})})]})]})]}),o.jsx("section",{className:"py-24 bg-dark-bg relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-primary font-bold tracking-widest uppercase mb-3 text-sm",children:"Nossos Servios"}),o.jsx("h3",{className:"text-4xl md:text-5xl font-heading font-bold text-white",children:"O Que Oferecemos"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Corte Clssico",price:"15",desc:"Tesoura e mquina com acabamento perfeito.",image:"https://images.unsplash.com/photo-1599351431202-6e0000a40697?auto=format&fit=crop&q=80&w=800"},{title:"Barba Tradicional",price:"12",desc:"Toalha quente e navalha para um barbear suave.",image:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?auto=format&fit=crop&q=80&w=800"},{title:"Experincia Completa",price:"25",desc:"Combo de corte e barba com tratamento vip.",image:"https://images.unsplash.com/photo-1503951914875-befbb7135952?auto=format&fit=crop&q=80&w=800"}].map((t,a)=>o.jsxs(D.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:a*.2},className:"bg-card-bg rounded-2xl border border-white/5 hover:border-primary/30 transition-all duration-300 group hover:-translate-y-2 shadow-lg hover:shadow-primary/5 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"h-48 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-300 z-10"}),o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute top-4 right-4 z-20",children:o.jsx("span",{className:"text-lg font-bold text-dark bg-primary px-3 py-1 rounded-lg shadow-lg",children:t.price})})]}),o.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[o.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-primary transition-colors mb-4",children:t.title}),o.jsx("p",{className:"text-gray-400 mb-6 flex-1",children:t.desc}),o.jsxs(Y,{to:"/agendar",state:{serviceName:t.title},className:"text-sm font-bold text-white hover:text-primary transition-colors uppercase tracking-wide flex items-center mt-auto",children:["Ver Detalhes ",o.jsx(ll,{className:"ml-2 w-4 h-4"})]})]})]},a))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Y,{to:"/servicos",className:"btn-outline px-8 py-3 text-sm",children:"Ver Menu Completo"})})]})}),o.jsxs("section",{className:"py-24 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-dark-bg/50 z-0"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-primary font-bold tracking-widest uppercase mb-3 text-sm",children:"Loja Online"}),o.jsx("h3",{className:"text-4xl md:text-5xl font-heading font-bold text-white",children:"Cuide de si em casa"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"leo de Barba Premium",price:"18.90",image:"https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=800"},{title:"Pomada Modeladora",price:"15.50",image:"https://images.unsplash.com/photo-1595348079549-0a6dd24b2bf5?auto=format&fit=crop&q=80&w=800"},{title:"Kit Barba Completo",price:"45.00",image:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?auto=format&fit=crop&q=80&w=800"}].map((t,a)=>o.jsxs(D.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:a*.2},className:"bg-card-bg rounded-2xl border border-white/5 hover:border-primary/30 transition-all duration-300 group hover:-translate-y-2 shadow-lg hover:shadow-primary/5 overflow-hidden",children:[o.jsxs("div",{className:"h-64 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-300 z-10"}),o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute top-4 right-4 z-20",children:o.jsx("span",{className:"text-lg font-bold text-dark bg-primary px-3 py-1 rounded-lg shadow-lg",children:t.price})})]}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),o.jsx(Y,{to:"/loja",className:"inline-block mt-4 text-primary font-bold uppercase tracking-wide hover:text-white transition-colors",children:"Ver na Loja"})]})]},a))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Y,{to:"/loja",className:"btn-outline px-8 py-3 text-sm",children:"Ver Todos os Produtos"})})]})]}),o.jsx("section",{className:"py-24 bg-black/20 relative overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-end justify-between mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-primary font-bold tracking-widest uppercase mb-3 text-sm",children:"Galeria"}),o.jsx("h3",{className:"text-4xl md:text-5xl font-heading font-bold text-white",children:"Nossos Trabalhos"})]}),o.jsxs(Y,{to:"/galeria",className:"hidden md:flex items-center text-primary hover:text-white transition-colors font-bold uppercase tracking-wider text-sm",children:["Ver Galeria Completa ",o.jsx(ll,{className:"ml-2 w-5 h-5"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["https://images.unsplash.com/photo-1585747860715-2ba37e788b70?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1605497788044-5a32c7078486?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1621605815971-fbc98d665033?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1503951914875-452162b7f30a?auto=format&fit=crop&q=80&w=800"].map((t,a)=>o.jsxs(D.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:a*.1},className:"relative aspect-square overflow-hidden rounded-xl group",children:[o.jsx("img",{src:t,alt:`Trabalho ${a+1}`,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:o.jsx(qe,{className:"text-primary w-8 h-8"})})]},a))}),o.jsx("div",{className:"mt-8 text-center md:hidden",children:o.jsx(Y,{to:"/galeria",className:"btn-outline px-8 py-3 text-sm",children:"Ver Galeria Completa"})})]})}),o.jsxs("section",{className:"py-32 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-primary/5 z-0"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between bg-card-bg border border-white/5 p-16 rounded-3xl relative overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-l from-black/80 to-transparent z-0"}),o.jsxs("div",{className:"relative z-10 mb-10 md:mb-0 max-w-xl",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-white mb-6",children:"Pronto para renovar o visual?"}),o.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"No espere mais. Garanta seu horrio com os melhores profissionais da regio e sinta a diferena."})]}),o.jsx("div",{className:"relative z-10",children:o.jsxs(Y,{to:"/agendar",className:"btn-primary px-10 py-5 text-lg font-bold uppercase tracking-wider flex items-center group shadow-xl shadow-primary/20",children:["Agendar Visita ",o.jsx(ll,{className:"ml-3 w-6 h-6 group-hover:translate-x-1 transition-transform"})]})})]})})]})]})},s3=()=>{const e={initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["NOSSA ",o.jsx("span",{className:"text-primary",children:"HISTRIA"})]}),subtitle:"Mais do que uma barbearia, um legado de tradio e estilo.",backgroundImage:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?q=80&w=2070&auto=format&fit=crop",height:"h-[60vh]"}),o.jsx("section",{className:"py-24 bg-dark-bg relative",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[o.jsxs(D.div,{...e,children:[o.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-8 border-l-4 border-primary pl-6",children:"Tradio desde 2015"}),o.jsxs("div",{className:"space-y-6 text-gray-400 text-lg leading-relaxed",children:[o.jsxs("p",{children:["Fundada com a misso de resgatar a arte da barbearia clssica, a ",o.jsx("span",{className:"text-primary font-semibold",children:"Barbearia Dourado"})," nasceu do sonho de criar um espao onde o homem moderno pudesse encontrar no apenas um corte de cabelo, mas uma experincia de cuidado e relaxamento."]}),o.jsx("p",{children:"Localizados no corao de Montemor-o-Velho, combinamos tcnicas tradicionais de barbearia com as tendncias mais atuais, garantindo que cada cliente saia da nossa cadeira sentindo-se confiante e renovado."})]})]}),o.jsxs(D.div,{className:"relative h-[500px] rounded-2xl overflow-hidden shadow-2xl shadow-primary/10 border border-white/5 group",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 bg-primary/10 z-10 group-hover:bg-transparent transition-colors duration-500"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1503951914875-befbb7135952?q=80&w=2070&auto=format&fit=crop",alt:"Interior da Barbearia",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]})]})})}),o.jsx("section",{className:"py-24 bg-card-bg border-y border-white/5",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-4",children:"Nossos Valores"}),o.jsx("div",{className:"w-24 h-1 bg-primary mx-auto rounded-full"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-10",children:[{icon:$w,title:"Tradio",desc:"Respeitamos as razes da barbearia clssica, mantendo viva a essncia do ofcio."},{icon:WA,title:"Excelncia",desc:"Compromisso inegocivel com a qualidade em cada corte, barba e atendimento."},{icon:li,title:"Comunidade",desc:"Um ambiente acolhedor onde clientes se tornam amigos e parte da nossa famlia."}].map((t,a)=>o.jsxs(D.div,{className:"p-10 bg-dark-bg rounded-2xl border border-white/5 hover:border-primary/30 transition-all duration-300 group hover:-translate-y-2 shadow-lg hover:shadow-primary/10",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.2},children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-card-bg mb-8 text-primary group-hover:scale-110 transition-transform duration-300 border border-white/5 group-hover:border-primary/20",children:o.jsx(t.icon,{className:"w-10 h-10"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:t.title}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.desc})]},a))})]})}),o.jsx("section",{className:"py-24 bg-dark-bg",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsxs(D.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-16",children:[o.jsx("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-4",children:"Nossa Equipe"}),o.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Conhea os mestres por trs das tesouras."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-10",children:[1,2,3].map(t=>o.jsxs(D.div,{className:"group relative overflow-hidden rounded-2xl aspect-[3/4] border border-white/5",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:t*.1},children:[o.jsx("img",{src:`https://images.unsplash.com/photo-${t===1?"1560250097-0b93528c311a":t===2?"1519085360753-af0119f7cbe7":"1507003211169-0a1dd7228f2d"}?q=80&w=1000&auto=format&fit=crop`,alt:"Barbeiro",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 grayscale group-hover:grayscale-0"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Nome do Barbeiro"}),o.jsx("p",{className:"text-primary font-medium tracking-wide",children:"Master Barber"})]})]},t))})]})})]})},i3=()=>{const e=[{title:"Cabelo",items:[{name:"Corte Clssico",price:"15",description:"Corte tradicional com tesoura e mquina, lavagem e finalizao."},{name:"Corte Degrad",price:"18",description:"Fade perfeito com navalha e acabamento premium."},{name:"Corte Infantil",price:"12",description:"Para os pequenos cavalheiros (at 12 anos)."},{name:"Camuflagem de Brancos",price:"20",description:"Tintura sutil para um visual natural e rejuvenescido."}]},{title:"Barba",items:[{name:"Barba Tradicional",price:"12",description:"Modelagem com toalha quente e navalha."},{name:"Barboterapia",price:"20",description:"Tratamento completo com esfoliao e hidratao profunda."},{name:"Acabamento",price:"8",description:"Limpeza do pescoo e contornos."}]},{title:"Combos",items:[{name:"Corte + Barba",price:"25",description:"O pacote essencial para o homem moderno."},{name:"Experincia Dourado",price:"45",description:"Corte, barboterapia, sobrancelha e bebida cortesia."}]}];return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["MENU DE ",o.jsx("span",{className:"text-primary",children:"SERVIOS"})]}),subtitle:"Qualidade premium e ateno aos detalhes em cada corte e barba.",backgroundImage:"https://images.unsplash.com/photo-1585747860715-2ba37e788b70?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-24",children:e.map((t,a)=>o.jsxs(D.div,{className:"mb-20",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.2},children:[o.jsxs("div",{className:"flex items-center mb-10",children:[o.jsx("div",{className:"h-px flex-grow bg-gradient-to-r from-transparent to-primary/50"}),o.jsx("h2",{className:"font-heading text-3xl text-white px-6 uppercase tracking-widest",children:t.title}),o.jsx("div",{className:"h-px flex-grow bg-gradient-to-l from-transparent to-primary/50"})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.items.map((n,r)=>o.jsxs("div",{className:"bg-card-bg p-8 rounded-2xl border border-white/5 hover:border-primary/30 transition-all duration-300 group hover:-translate-y-1 shadow-lg hover:shadow-primary/5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-primary transition-colors",children:n.name}),o.jsx("span",{className:"text-xl font-bold text-primary bg-primary/10 px-3 py-1 rounded-lg",children:n.price})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed border-b border-white/5 pb-4",children:n.description}),o.jsxs(Y,{to:"/agendar",state:{serviceName:n.name},className:"inline-flex items-center text-sm font-bold text-white hover:text-primary transition-colors uppercase tracking-wide",children:[o.jsx(sn,{className:"w-4 h-4 mr-2 text-primary"})," Agendar Agora"]})]},r))})]},a))}),o.jsxs("section",{className:"py-24 bg-card-bg border-t border-white/5 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent"}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[o.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-6",children:"No sabe qual escolher?"}),o.jsx("p",{className:"text-gray-400 text-lg mb-10",children:"Nossos profissionais experientes podem ajudar voc a encontrar o estilo perfeito para o seu rosto e personalidade."}),o.jsx(Y,{to:"/contato",className:"btn-outline px-10 py-4 text-lg hover:bg-primary hover:text-dark",children:"Fale Conosco"})]})]})]})},o3=()=>{const[e,t]=Io.useState([]),[a,n]=Io.useState(!0);Io.useEffect(()=>{r()},[]);const r=async()=>{try{const{data:s,error:i}=await P.from("galeria").select("*").eq("visible",!0).order("created_at",{ascending:!1});if(i)throw i;t(s||[])}catch(s){console.error("Error fetching gallery:",s)}finally{n(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["NOSSA ",o.jsx("span",{className:"text-primary",children:"GALERIA"})]}),subtitle:"Confira alguns dos nossos melhores trabalhos e inspire-se.",backgroundImage:"https://images.unsplash.com/photo-1599351431202-1e0f0137899a?q=80&w=1976&auto=format&fit=crop"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[a?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(s=>o.jsxs(D.div,{className:"relative aspect-square overflow-hidden rounded-2xl group cursor-pointer border border-white/5 shadow-lg bg-zinc-900",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[o.jsx("img",{src:s.url,alt:s.descricao||"Galeria Barbearia Dourado",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4",children:[o.jsx("button",{className:"p-3 bg-primary rounded-full text-dark hover:bg-white transition-colors",children:o.jsx(c5,{className:"w-6 h-6"})}),o.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-dark rounded-full text-white hover:text-primary transition-colors",children:o.jsx(Fl,{className:"w-6 h-6"})})]}),s.descricao&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:o.jsx("p",{className:"text-white text-sm font-medium truncate",children:s.descricao})})]},s.id))}):o.jsx("div",{className:"text-center py-16",children:o.jsx("p",{className:"text-gray-400 text-lg",children:"Nenhuma imagem disponvel no momento."})}),o.jsx("div",{className:"text-center mt-16",children:o.jsxs("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"btn-outline inline-flex items-center px-8 py-4 text-lg",children:[o.jsx(Fl,{className:"mr-2 w-6 h-6"})," Ver mais no Instagram"]})})]})]})},l3=()=>o.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["ENTRE EM ",o.jsx("span",{className:"text-primary",children:"CONTACTO"})]}),subtitle:"Estamos prontos para atend-lo. Agende seu horrio ou visite-nos para um caf.",backgroundImage:"https://images.unsplash.com/photo-1534353436294-0dbd4bdac845?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-8",children:o.jsxs("div",{className:"bg-card-bg p-8 rounded-2xl border border-white/5 shadow-xl",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-8 border-l-4 border-primary pl-4",children:"Informaes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start group",children:[o.jsx("div",{className:"bg-dark-bg p-4 rounded-xl mr-6 border border-white/5 group-hover:border-primary/50 transition-colors",children:o.jsx(CC,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white mb-1 text-lg",children:"Localizao"}),o.jsxs("p",{className:"text-gray-400",children:["Rua Principal, 123",o.jsx("br",{}),"3140-000 Montemor-o-Velho"]})]})]}),o.jsxs("div",{className:"flex items-start group",children:[o.jsx("div",{className:"bg-dark-bg p-4 rounded-xl mr-6 border border-white/5 group-hover:border-primary/50 transition-colors",children:o.jsx(Cc,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white mb-1 text-lg",children:"Telefone"}),o.jsx("p",{className:"text-gray-400",children:"+351 912 345 678"})]})]}),o.jsxs("div",{className:"flex items-start group",children:[o.jsx("div",{className:"bg-dark-bg p-4 rounded-xl mr-6 border border-white/5 group-hover:border-primary/50 transition-colors",children:o.jsx(us,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white mb-1 text-lg",children:"Email"}),o.jsx("p",{className:"text-gray-400",children:"geral@barbeariadourado.pt"})]})]}),o.jsxs("div",{className:"flex items-start group",children:[o.jsx("div",{className:"bg-dark-bg p-4 rounded-xl mr-6 border border-white/5 group-hover:border-primary/50 transition-colors",children:o.jsx(wn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white mb-1 text-lg",children:"Horrio de Funcionamento"}),o.jsx("p",{className:"text-gray-400",children:"Segunda a Sbado: 09:00 - 19:00"}),o.jsx("p",{className:"text-gray-400",children:"Domingo: Fechado"})]})]})]}),o.jsxs("div",{className:"mt-16 pt-8 border-t border-white/5",children:[o.jsx("h4",{className:"font-bold text-white mb-4",children:"Siga-nos"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"bg-dark-bg p-3 rounded-full text-gray-400 hover:text-primary hover:bg-black transition-all border border-white/5 hover:border-primary/30",children:o.jsx(Fl,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"bg-dark-bg p-3 rounded-full text-gray-400 hover:text-primary hover:bg-black transition-all border border-white/5 hover:border-primary/30",children:o.jsx(qw,{className:"w-6 h-6"})})]})]})]})}),o.jsxs(D.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-8",children:[o.jsxs("div",{className:"bg-card-bg p-8 rounded-2xl border border-white/5 shadow-xl",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-l-4 border-primary pl-4",children:"Envie uma Mensagem"}),o.jsxs("form",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Nome",className:"bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:border-primary focus:outline-none w-full"}),o.jsx("input",{type:"email",placeholder:"Email",className:"bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:border-primary focus:outline-none w-full"})]}),o.jsx("input",{type:"text",placeholder:"Assunto",className:"bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:border-primary focus:outline-none w-full"}),o.jsx("textarea",{placeholder:"Mensagem",rows:4,className:"bg-dark-bg border border-white/10 rounded-lg px-4 py-3 text-white focus:border-primary focus:outline-none w-full"}),o.jsxs("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center",children:[o.jsx(Gw,{className:"w-4 h-4 mr-2"})," Enviar Mensagem"]})]})]}),o.jsx("div",{className:"h-[300px] bg-dark rounded-2xl border border-white/5 overflow-hidden relative shadow-xl",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3046.867667634863!2d-8.6833!3d40.1756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd23f0c000000001%3A0x0!2sMontemor-o-Velho!5e0!3m2!1spt-PT!2spt!4v1620000000000!5m2!1spt-PT!2spt",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",title:"Localizao Barbearia Dourado",className:"grayscale hover:grayscale-0 transition-all duration-700"})})]})]})})]}),Cj=6048e5,c3=864e5,u3=6e4,oy=Symbol.for("constructDateFrom");function Ht(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&oy in e?e[oy](t):e instanceof Date?new e.constructor(t):new Date(t)}function Oe(e,t){return Ht(t||e,e)}function kj(e,t,a){const n=Oe(e,a==null?void 0:a.in);return isNaN(t)?Ht(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let d3={};function Pc(){return d3}function nr(e,t){var l,c,u,d;const a=Pc(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=Oe(e,t==null?void 0:t.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function ac(e,t){return nr(e,{...t,weekStartsOn:1})}function Oj(e,t){const a=Oe(e,t==null?void 0:t.in),n=a.getFullYear(),r=Ht(a,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ac(r),i=Ht(a,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=ac(i);return a.getTime()>=s.getTime()?n+1:a.getTime()>=l.getTime()?n:n-1}function ly(e){const t=Oe(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function Rj(e,...t){const a=Ht.bind(null,t.find(n=>typeof n=="object"));return t.map(a)}function qi(e,t){const a=Oe(e,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function h3(e,t,a){const[n,r]=Rj(a==null?void 0:a.in,e,t),s=qi(n),i=qi(r),l=+s-ly(s),c=+i-ly(i);return Math.round((l-c)/c3)}function f3(e,t){const a=Oj(e,t),n=Ht(e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),ac(n)}function Ho(e,t,a){const n=Oe(e,a==null?void 0:a.in);return n.setTime(n.getTime()+t*u3),n}function Dj(e,t,a){return kj(e,t*7,a)}function Wu(e,t,a){const[n,r]=Rj(a==null?void 0:a.in,e,t);return+qi(n)==+qi(r)}function m3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function p3(e){return!(!m3(e)&&typeof e!="number"||isNaN(+Oe(e)))}function g3(e,t){const a=Oe(e,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const y3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b3=(e,t,a)=>{let n;const r=y3[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Qr(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const v3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j3={date:Qr({formats:v3,defaultWidth:"full"}),time:Qr({formats:x3,defaultWidth:"full"}),dateTime:Qr({formats:w3,defaultWidth:"full"})},_3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S3=(e,t,a,n)=>_3[e];function ra(e){return(t,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=a!=null&&a.width?String(a.width):i;r=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=a!=null&&a.width?String(a.width):e.defaultWidth;r=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return r[s]}}const N3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O3=(e,t)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},R3={ordinalNumber:O3,era:ra({values:N3,defaultWidth:"wide"}),quarter:ra({values:E3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ra({values:T3,defaultWidth:"wide"}),day:ra({values:A3,defaultWidth:"wide"}),dayPeriod:ra({values:C3,defaultWidth:"wide",formattingValues:k3,defaultFormattingWidth:"wide"})};function sa(e){return(t,a={})=>{const n=a.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?M3(l,h=>h.test(i)):D3(l,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=a.valueCallback?a.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function D3(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function M3(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Mj(e){return(t,a={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=a.valueCallback?a.valueCallback(i):i;const l=t.slice(r.length);return{value:i,rest:l}}}const U3=/^(\d+)(th|st|nd|rd)?/i,z3=/\d+/i,P3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B3={any:[/^b/i,/^(a|c)/i]},L3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V3={any:[/1/i,/2/i,/3/i,/4/i]},q3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K3={ordinalNumber:Mj({matchPattern:U3,parsePattern:z3,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:B3,defaultParseWidth:"any"}),quarter:sa({matchPatterns:L3,defaultMatchWidth:"wide",parsePatterns:V3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:$3,defaultParseWidth:"any"}),day:sa({matchPatterns:H3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:G3,defaultMatchWidth:"any",parsePatterns:Y3,defaultParseWidth:"any"})},F3={code:"en-US",formatDistance:b3,formatLong:j3,formatRelative:S3,localize:R3,match:K3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X3(e,t){const a=Oe(e,t==null?void 0:t.in);return h3(a,g3(a))+1}function W3(e,t){const a=Oe(e,t==null?void 0:t.in),n=+ac(a)-+f3(a);return Math.round(n/Cj)+1}function Uj(e,t){var d,h,f,m;const a=Oe(e,t==null?void 0:t.in),n=a.getFullYear(),r=Pc(),s=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ht((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=nr(i,t),c=Ht((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=nr(c,t);return+a>=+l?n+1:+a>=+u?n:n-1}function Q3(e,t){var l,c,u,d;const a=Pc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(u=a.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=Uj(e,t),s=Ht((t==null?void 0:t.in)||e,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),nr(s,t)}function J3(e,t){const a=Oe(e,t==null?void 0:t.in),n=+nr(a,t)-+Q3(a,t);return Math.round(n/Cj)+1}function ee(e,t){const a=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return a+n}const Ga={y(e,t){const a=e.getFullYear(),n=a>0?a:1-a;return ee(t==="yy"?n%100:n,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):ee(a+1,2)},d(e,t){return ee(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return ee(e.getHours()%12||12,t.length)},H(e,t){return ee(e.getHours(),t.length)},m(e,t){return ee(e.getMinutes(),t.length)},s(e,t){return ee(e.getSeconds(),t.length)},S(e,t){const a=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return ee(r,t.length)}},br={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cy={G:function(e,t,a){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return Ga.y(e,t)},Y:function(e,t,a,n){const r=Uj(e,n),s=r>0?r:1-r;if(t==="YY"){const i=s%100;return ee(i,2)}return t==="Yo"?a.ordinalNumber(s,{unit:"year"}):ee(s,t.length)},R:function(e,t){const a=Oj(e);return ee(a,t.length)},u:function(e,t){const a=e.getFullYear();return ee(a,t.length)},Q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ee(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ee(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){const n=e.getMonth();switch(t){case"M":case"MM":return Ga.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ee(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){const r=J3(e,n);return t==="wo"?a.ordinalNumber(r,{unit:"week"}):ee(r,t.length)},I:function(e,t,a){const n=W3(e);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):ee(n,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):Ga.d(e,t)},D:function(e,t,a){const n=X3(e);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):ee(n,t.length)},E:function(e,t,a){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){const r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ee(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){const r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ee(s,t.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,a){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return ee(r,t.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){const n=e.getHours();let r;switch(n===12?r=br.noon:n===0?r=br.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,a){const n=e.getHours();let r;switch(n>=17?r=br.evening:n>=12?r=br.afternoon:n>=4?r=br.morning:r=br.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Ga.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):Ga.H(e,t)},K:function(e,t,a){const n=e.getHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):ee(n,t.length)},k:function(e,t,a){let n=e.getHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):ee(n,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ga.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Ga.s(e,t)},S:function(e,t){return Ga.S(e,t)},X:function(e,t,a){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dy(n);case"XXXX":case"XX":return Pn(n);case"XXXXX":case"XXX":default:return Pn(n,":")}},x:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"x":return dy(n);case"xxxx":case"xx":return Pn(n);case"xxxxx":case"xxx":default:return Pn(n,":")}},O:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uy(n,":");case"OOOO":default:return"GMT"+Pn(n,":")}},z:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uy(n,":");case"zzzz":default:return"GMT"+Pn(n,":")}},t:function(e,t,a){const n=Math.trunc(+e/1e3);return ee(n,t.length)},T:function(e,t,a){return ee(+e,t.length)}};function uy(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),s=n%60;return s===0?a+String(r):a+String(r)+t+ee(s,2)}function dy(e,t){return e%60===0?(e>0?"-":"+")+ee(Math.abs(e)/60,2):Pn(e,t)}function Pn(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=ee(Math.trunc(n/60),2),s=ee(n%60,2);return a+r+t+s}const hy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z3=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return hy(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",hy(n,t)).replace("{{time}}",zj(r,t))},eD={p:zj,P:Z3},tD=/^D+$/,aD=/^Y+$/,nD=["D","DD","YY","YYYY"];function rD(e){return tD.test(e)}function sD(e){return aD.test(e)}function iD(e,t,a){const n=oD(e,t,a);if(console.warn(n),nD.includes(e))throw new RangeError(n)}function oD(e,t,a){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uD=/^'([^]*?)'?$/,dD=/''/g,hD=/[a-zA-Z]/;function Ea(e,t,a){var d,h,f,m,b,v,x,p;const n=Pc(),r=(a==null?void 0:a.locale)??n.locale??F3,s=(a==null?void 0:a.firstWeekContainsDate)??((h=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=(a==null?void 0:a.weekStartsOn)??((v=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((p=(x=n.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??0,l=Oe(e,a==null?void 0:a.in);if(!p3(l))throw new RangeError("Invalid time value");let c=t.match(cD).map(g=>{const y=g[0];if(y==="p"||y==="P"){const j=eD[y];return j(g,r.formatLong)}return g}).join("").match(lD).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:fD(g)};if(cy[y])return{isToken:!0,value:g};if(y.match(hD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&sD(y)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&rD(y))&&iD(y,t,String(e));const j=cy[y[0]];return j(l,y,r.localize,u)}).join("")}function fD(e){const t=e.match(uD);return t?t[1].replace(dD,"'"):e}function mD(e,t){const a=Oe(e,t==null?void 0:t.in),n=a.getFullYear(),r=a.getMonth(),s=Ht(a,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function fy(e,t){return+Oe(e)>+Oe(t)}function Dh(e,t){return+Oe(e)<+Oe(t)}function pD(e,t,a){const n=Oe(e,a==null?void 0:a.in),r=n.getFullYear(),s=n.getDate(),i=Ht(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const l=mD(i);return n.setMonth(t,Math.min(s,l)),n}function my(e,t,a){let n=Oe(e,a==null?void 0:a.in);return isNaN(+n)?Ht(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=pD(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function gD(e,t,a){return Dj(e,-1,a)}const yD=9,bD=19,py=30,vD=async(e,t,a)=>{const n=`${e}T00:00:00`,r=`${e}T23:59:59`;let s=P.from("Marcacoes").select(`
            id,
            data_hora,
            barbeiro_id,
            servicos (duracao)
        `).gte("data_hora",n).lte("data_hora",r).neq("status","cancelado");a!=="any"&&(s=s.eq("barbeiro_id",a));const{data:i,error:l}=await s;if(l)return console.error("Error fetching appointments:",l),[];let c=[];if(a==="any"){const{data:m}=await P.from("barbeiros").select("id").eq("disponivel",!0);c=(m==null?void 0:m.map(b=>b.id))||[]}else c=[a];const u=[];let d=my(new Date(e),{hours:yD,minutes:0,seconds:0});const h=my(new Date(e),{hours:bD,minutes:0,seconds:0}),f=(m,b,v)=>i==null?void 0:i.some(x=>{if(x.barbeiro_id!==m)return!1;const p=new Date(x.data_hora),g=Array.isArray(x.servicos)?x.servicos[0]:x.servicos,y=(g==null?void 0:g.duracao)||30,j=Ho(p,y);return Dh(b,j)&&fy(v,p)});for(;Dh(d,h);){const m=Ea(d,"HH:mm"),b=Ho(d,t);if(fy(b,h)){d=Ho(d,py);continue}let v=!1,x;for(const p of c)if(!f(p,d,b)){v=!0,x=p;break}u.push({time:m,available:v,barberId:x}),d=Ho(d,py)}return u},xD={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 ms",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},wD=(e,t,a)=>{let n;const r=xD[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"daqui a "+n:"h "+n:n},jD={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},_D={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},SD={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ND={date:Qr({formats:jD,defaultWidth:"full"}),time:Qr({formats:_D,defaultWidth:"full"}),dateTime:Qr({formats:SD,defaultWidth:"full"})},ED={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},TD=(e,t,a,n)=>{const r=ED[e];return typeof r=="function"?r(t):r},AD={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},CD={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},kD={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},OD={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sb"],abbreviated:["dom","seg","ter","qua","qui","sex","sb"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},RD={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"}},DD={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},MD=(e,t)=>Number(e)+"",UD={ordinalNumber:MD,era:ra({values:AD,defaultWidth:"wide"}),quarter:ra({values:CD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ra({values:kD,defaultWidth:"wide"}),day:ra({values:OD,defaultWidth:"wide"}),dayPeriod:ra({values:RD,defaultWidth:"wide",formattingValues:DD,defaultFormattingWidth:"wide"})},zD=/^(\d+)(|)?/i,PD=/\d+/i,BD={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},LD={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},VD={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](|)? trimestre/i},qD={any:[/1/i,/2/i,/3/i,/4/i]},$D={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},HD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},ID={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|segunda-?\s?feira|tera-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[a]bado)/i},GD={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]/i]},YD={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i},KD={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[a]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},FD={ordinalNumber:Mj({matchPattern:zD,parsePattern:PD,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:BD,defaultMatchWidth:"wide",parsePatterns:LD,defaultParseWidth:"any"}),quarter:sa({matchPatterns:VD,defaultMatchWidth:"wide",parsePatterns:qD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:$D,defaultMatchWidth:"wide",parsePatterns:HD,defaultParseWidth:"any"}),day:sa({matchPatterns:ID,defaultMatchWidth:"wide",parsePatterns:GD,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:YD,defaultMatchWidth:"any",parsePatterns:KD,defaultParseWidth:"any"})},mi={code:"pt",formatDistance:wD,formatLong:ND,formatRelative:TD,localize:UD,match:FD,options:{weekStartsOn:1,firstWeekContainsDate:4}},XD=({selectedDate:e,onDateSelect:t})=>{const[a,n]=w.useState(nr(new Date,{weekStartsOn:1})),[r,s]=w.useState(0),i=qi(new Date),l=Wu(nr(i,{weekStartsOn:1}),a),c=()=>{s(1),n(Dj(a,1))},u=()=>{l||(s(-1),n(gD(a)))},d=[];let h=a;for(let m=0;m<7;m++)d.push(h),h=kj(h,1);const f={enter:m=>({x:m>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:m=>({x:m>0?-50:50,opacity:0})};return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white capitalize flex items-center gap-2",children:[o.jsx(Bt,{className:"w-5 h-5 text-primary"}),Ea(a,"MMMM yyyy",{locale:mi})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:u,disabled:l,className:de("p-2 rounded-lg border transition-colors",l?"border-gray-800 text-gray-600 cursor-not-allowed":"border-gray-700 text-gray-400 hover:text-white hover:border-primary"),children:o.jsx(nC,{className:"w-5 h-5"})}),o.jsx("button",{onClick:c,className:"p-2 rounded-lg border border-gray-700 text-gray-400 hover:text-white hover:border-primary transition-colors",children:o.jsx(Vw,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"bg-dark-bg/50 rounded-xl p-4 border border-white/5 overflow-hidden",children:o.jsx($t,{mode:"popLayout",custom:r,children:o.jsx(D.div,{custom:r,variants:f,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3,type:"spring",stiffness:300,damping:30},className:"grid grid-cols-7 gap-1 md:gap-2",children:d.map((m,b)=>{const v=Dh(m,i),x=e&&Wu(m,e),p=Wu(m,i);return o.jsxs("button",{onClick:()=>!v&&t(m),disabled:v,className:de("flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-300 relative group min-h-[70px]",x?"bg-primary text-black shadow-[0_0_15px_rgba(212,175,55,0.4)] scale-105 z-10":"bg-card-bg hover:bg-white/5 text-gray-400",v&&"opacity-30 cursor-not-allowed hover:bg-card-bg",p&&!x&&"border border-primary/50 text-primary"),children:[o.jsx("span",{className:"text-[10px] md:text-xs uppercase font-bold mb-1 opacity-70",children:Ea(m,"EEE",{locale:mi}).replace(".","")}),o.jsx("span",{className:de("text-base md:text-lg font-bold",x?"text-black":"text-white"),children:Ea(m,"d")}),x&&o.jsx(D.div,{layoutId:"selectedIndicator",className:"absolute -bottom-1 w-1 h-1 bg-black rounded-full"})]},b)})},a.toISOString())})}),e&&o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-gray-400 text-sm",children:["Dia selecionado: ",o.jsx("span",{className:"text-primary font-bold capitalize",children:Ea(e,"EEEE, d 'de' MMMM",{locale:mi})})]})})]})},WD=()=>{var We,$e,O;const{user:e}=cr(),[t,a]=w.useState(1),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(null),[h,f]=w.useState(null),[m,b]=w.useState(""),[v,x]=w.useState(""),[p,g]=w.useState([]),[y,j]=w.useState(null),N=ut(),[_,S]=w.useState(!1);if(w.useEffect(()=>{(async()=>{var U;try{const[G,Q]=await Promise.all([P.from("barbeiros").select("*").eq("disponivel",!0),P.from("servicos").select("*")]);if(G.error)throw G.error;if(Q.error)throw Q.error;const ta={id:"any",nome:"Qualquer Profissional",foto_url:"",disponivel:!0},aa=(G.data||[]).sort((dt,Et)=>dt.nome.localeCompare(Et.nome));r([ta,...aa]),i(Q.data||[]);const na=N.state;if(na){let dt=1;if(na.barberName){const Et=aa.find(Bc=>Bc.nome===na.barberName);Et&&(d(Et),dt=2)}if(na.serviceName){const Et=(U=Q.data)==null?void 0:U.find(Bc=>Bc.nome===na.serviceName);Et&&(f(Et),na.barberName&&(dt=3))}a(dt)}}catch(G){console.error("Error fetching data:",G)}finally{c(!1)}})()},[N]),l)return o.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center",children:o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin"})});const E=async T=>{const U=Ea(T,"yyyy-MM-dd");if(b(U),x(""),j(null),h&&u){const G=await vD(U,h.duracao,u.id);g(G)}},C=(T,U)=>{x(T),(u==null?void 0:u.id)==="any"&&U?j(U):j((u==null?void 0:u.id)||null)},R=async T=>{T.preventDefault();const U=(u==null?void 0:u.id)==="any"?y:u==null?void 0:u.id;if(!e||!U||!h||!m||!v){alert("Por favor, preencha todos os campos.");return}S(!0);try{const G=`${m}T${v}:00`,Q=new Date(G),ta={cliente_id:e.id,barbeiro_id:U,servico_id:h.id,data_hora:Q.toISOString(),status:"pendente"},{error:aa}=await P.from("Marcacoes").insert([ta]);if(aa)throw aa;a(5)}catch(G){console.error("Erro ao agendar:",G),alert("Ocorreu um erro ao realizar o agendamento. Por favor, tente novamente.")}finally{S(!1)}},k=()=>a(t+1),L=()=>a(t-1),ie={enter:{opacity:0,x:20},center:{opacity:1,x:0},exit:{opacity:0,x:-20}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["AGENDAR ",o.jsx("span",{className:"text-primary",children:"HORRIO"})]}),subtitle:"Escolha o servio, data e hora que melhor se adequam a si.",backgroundImage:"https://images.unsplash.com/photo-1503951914875-452162b7f30a?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"pt-12 px-4 pb-12",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("div",{className:"mb-12",children:o.jsxs("div",{className:"relative flex justify-between items-center max-w-2xl mx-auto",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-800 -z-10 -translate-y-1/2 rounded-full",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-500 rounded-full",style:{width:`${(t-1)/4*100}%`}})}),[{num:1,icon:_t,label:"Profissional"},{num:2,icon:qe,label:"Servio"},{num:3,icon:Bt,label:"Data"},{num:4,icon:sn,label:"Confirmar"},{num:5,icon:Yw,label:"Concluir"}].map(T=>o.jsxs("div",{className:"flex flex-col items-center group",children:[o.jsx("div",{className:de("w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center border-4 transition-all duration-300 z-10",t>=T.num?"bg-primary border-primary text-black shadow-[0_0_15px_rgba(212,175,55,0.4)]":"bg-dark-bg border-gray-700 text-gray-500"),children:o.jsx(T.icon,{className:"w-5 h-5 md:w-6 md:h-6"})}),o.jsx("span",{className:de("mt-3 text-xs md:text-sm font-bold tracking-wide transition-colors duration-300",t>=T.num?"text-primary":"text-gray-600"),children:T.label})]},T.num))]})}),o.jsx("div",{className:"bg-dark/50 backdrop-blur-sm p-6 md:p-8 rounded-2xl border border-white/5 shadow-2xl min-h-[400px]",children:o.jsxs($t,{mode:"wait",children:[t===1&&o.jsxs(D.div,{variants:ie,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(_t,{className:"mr-2 text-primary"})," Escolha o Profissional"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:n.map(T=>o.jsxs("button",{onClick:()=>d(T),className:de("relative overflow-hidden group rounded-2xl border transition-all duration-300 aspect-[3/4]",(u==null?void 0:u.id)===T.id?"border-primary shadow-[0_0_20px_rgba(212,175,55,0.2)]":"border-gray-800 hover:border-gray-600"),children:[o.jsx("div",{className:de("absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent z-10 transition-opacity duration-300",(u==null?void 0:u.id)===T.id?"opacity-80":"opacity-60 group-hover:opacity-40")}),o.jsx("img",{src:T.id==="any"?"https://ui-avatars.com/api/?name=Qualquer+Pro&background=d4af37&color=000":T.foto_url||"https://ui-avatars.com/api/?name=Barber&background=random",alt:T.nome,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20 text-left",children:o.jsx("h3",{className:de("font-bold text-lg transition-colors duration-300",(u==null?void 0:u.id)===T.id?"text-primary":"text-white"),children:T.nome})}),(u==null?void 0:u.id)===T.id&&o.jsx("div",{className:"absolute top-4 right-4 z-20 bg-primary text-black p-1 rounded-full",children:o.jsx(sn,{className:"w-4 h-4"})})]},T.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx("button",{onClick:k,disabled:!u,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Prximo"})})]},"step1"),t===2&&o.jsxs(D.div,{variants:ie,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[o.jsx(qe,{className:"mr-2 text-primary"})," Escolha o Servio"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(T=>o.jsxs("button",{onClick:()=>f(T),className:de("group relative overflow-hidden p-6 rounded-xl border text-left transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",(h==null?void 0:h.id)===T.id?"border-primary bg-primary/10 shadow-[0_0_20px_rgba(212,175,55,0.1)]":"border-gray-800 bg-card-bg hover:border-gray-600"),children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{className:de("p-3 rounded-lg transition-colors",(h==null?void 0:h.id)===T.id?"bg-primary text-black":"bg-dark-bg text-gray-400 group-hover:text-primary"),children:o.jsx(qe,{className:"w-6 h-6"})}),o.jsxs("span",{className:de("text-xl font-bold transition-colors",(h==null?void 0:h.id)===T.id?"text-primary":"text-white"),children:[T.preco,""]})]}),o.jsx("h3",{className:"font-bold text-lg text-white mb-1 group-hover:text-primary transition-colors",children:T.nome}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(wn,{className:"w-4 h-4 mr-1"}),T.duracao," min"]}),(h==null?void 0:h.id)===T.id&&o.jsx("div",{className:"absolute top-2 right-2 text-primary",children:o.jsx(sn,{className:"w-5 h-5"})})]},T.id))}),o.jsxs("div",{className:"mt-8 flex justify-between",children:[o.jsx("button",{onClick:L,className:"text-gray-400 hover:text-white",children:"Voltar"}),o.jsx("button",{onClick:k,disabled:!h,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Prximo"})]})]},"step2"),t===3&&o.jsxs(D.div,{variants:ie,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(Bt,{className:"mr-2 text-primary"})," Escolha a Data e Hora"]}),o.jsx("div",{className:"mb-8",children:o.jsx(XD,{selectedDate:m?new Date(m):null,onDateSelect:E})}),m&&o.jsxs(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-3 text-gray-300",children:[o.jsx(Hg,{className:"w-4 h-4 mr-2 text-yellow-500"}),o.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Manh"})]}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3",children:p.filter(T=>parseInt(T.time.split(":")[0])<12).map(T=>o.jsx("button",{disabled:!T.available,onClick:()=>C(T.time,T.barberId),className:de("py-2 px-1 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden",!T.available&&"bg-gray-800/50 text-gray-600 cursor-not-allowed border border-transparent",T.available&&v===T.time&&"bg-primary text-black font-bold shadow-lg shadow-primary/20 scale-105",T.available&&v!==T.time&&"bg-card-bg border border-gray-700 text-gray-300 hover:border-primary/50 hover:text-white"),children:T.time},T.time))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-3 text-gray-300",children:[o.jsx("div",{className:"relative",children:o.jsx(Hg,{className:"w-4 h-4 mr-2 text-orange-500"})}),o.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Tarde"})]}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3",children:p.filter(T=>parseInt(T.time.split(":")[0])>=12).map(T=>o.jsx("button",{disabled:!T.available,onClick:()=>C(T.time,T.barberId),className:de("py-2 px-1 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden",!T.available&&"bg-gray-800/50 text-gray-600 cursor-not-allowed border border-transparent",T.available&&v===T.time&&"bg-primary text-black font-bold shadow-lg shadow-primary/20 scale-105",T.available&&v!==T.time&&"bg-card-bg border border-gray-700 text-gray-300 hover:border-primary/50 hover:text-white"),children:T.time},T.time))})]})]}),o.jsxs("div",{className:"mt-8 flex justify-between",children:[o.jsx("button",{onClick:L,className:"text-gray-400 hover:text-white",children:"Voltar"}),o.jsx("button",{onClick:k,disabled:!m||!v,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Prximo"})]})]},"step3"),t===4&&o.jsxs(D.div,{variants:ie,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(_t,{className:"mr-2 text-primary"})," Confirmar Detalhes"]}),o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-gray-400",children:["O agendamento ser realizado em nome de:",o.jsx("br",{}),o.jsx("span",{className:"text-white font-bold text-lg block mt-1",children:((We=e==null?void 0:e.user_metadata)==null?void 0:We.nome)||(e==null?void 0:e.email)})]})}),o.jsxs("div",{className:"relative mt-8 bg-card-bg rounded-lg border-2 border-dashed border-gray-700 p-6 overflow-hidden max-w-sm mx-auto shadow-2xl",children:[o.jsx("div",{className:"absolute top-1/2 -left-3 w-6 h-6 bg-dark rounded-full -translate-y-1/2"}),o.jsx("div",{className:"absolute top-1/2 -right-3 w-6 h-6 bg-dark rounded-full -translate-y-1/2"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"font-heading font-bold text-xl text-primary tracking-widest uppercase",children:"Barbearia Dourado"}),o.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Comprovativo de Pr-Agendamento"})]}),o.jsxs("div",{className:"space-y-4 relative z-10",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[o.jsx("span",{className:"text-gray-400",children:"Cliente"}),o.jsx("span",{className:"font-bold text-white",children:(($e=e==null?void 0:e.user_metadata)==null?void 0:$e.nome)||"Cliente"})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[o.jsx("span",{className:"text-gray-400",children:"Profissional"}),o.jsx("span",{className:"font-bold text-white",children:u==null?void 0:u.nome})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[o.jsx("span",{className:"text-gray-400",children:"Servio"}),o.jsx("span",{className:"font-bold text-white",children:h==null?void 0:h.nome})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[o.jsx("span",{className:"text-gray-400",children:"Data"}),o.jsx("span",{className:"font-bold text-white capitalize",children:m&&Ea(new Date(m),"EEEE, d MMM",{locale:mi})})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[o.jsx("span",{className:"text-gray-400",children:"Horrio"}),o.jsx("span",{className:"font-bold text-white",children:v})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Total a Pagar"}),o.jsxs("span",{className:"font-bold text-2xl text-primary",children:[h==null?void 0:h.preco,""]})]})]})]}),o.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:L,className:"text-gray-400 hover:text-white",children:"Voltar"}),o.jsx("button",{onClick:R,className:"btn-primary font-bold uppercase tracking-wide px-8 py-3 shadow-[0_0_20px_rgba(212,175,55,0.3)] hover:shadow-[0_0_30px_rgba(212,175,55,0.5)] transform hover:-translate-y-1 transition-all",children:"Confirmar Agendamento"})]}),_&&o.jsx("div",{className:"absolute inset-0 bg-dark/80 backdrop-blur-sm rounded-2xl flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin mb-4"}),o.jsx("p",{className:"text-white font-bold",children:"Processando agendamento..."})]})})]},"step4"),t===5&&o.jsxs(D.div,{variants:ie,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-500/20 text-green-500 mb-6 border border-green-500/50 shadow-[0_0_30px_rgba(34,197,94,0.3)]",children:o.jsx(sn,{className:"w-10 h-10"})}),o.jsx("h2",{className:"text-3xl font-heading font-bold text-white mb-4",children:"Agendamento Confirmado!"}),o.jsxs("p",{className:"text-gray-300 mb-8 max-w-md mx-auto",children:["Obrigado, ",o.jsx("span",{className:"text-primary font-bold",children:((O=e==null?void 0:e.user_metadata)==null?void 0:O.nome)||"Cliente"}),". O seu horrio para ",o.jsx("span",{className:"text-white font-bold",children:h==null?void 0:h.nome})," foi reservado com sucesso."]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"btn-primary",children:"Voltar para o Incio"})]},"step5")]})})]})})]})},QD=()=>{const[e,t]=w.useState(""),[a,n]=w.useState(""),[r,s]=w.useState(!1),[i,l]=w.useState(!1),[c,u]=w.useState(null),d=$a(),h=async f=>{var m,b;f.preventDefault(),l(!0),u(null);try{const{error:v}=await P.auth.signInWithPassword({email:e,password:a});if(v)throw v;const{data:{user:x}}=await P.auth.getUser();if(x){const{data:p,error:g}=await P.from("perfis").select("role").eq("id",x.id).single();if(g||!p){console.warn("Perfil no encontrado. Tentando criar automaticamente...");const{error:y}=await P.from("perfis").insert([{id:x.id,nome:((m=x.user_metadata)==null?void 0:m.nome)||"Utilizador",email:x.email,telemovel:((b=x.user_metadata)==null?void 0:b.telemovel)||"",role:"client"}]);if(y){console.error("Falha ao criar perfil automtico:",y),u("Erro ao carregar perfil de utilizador. Contacte o suporte."),l(!1);return}const{data:j}=await P.from("perfis").select("role").eq("id",x.id).single();j?(console.log("Perfil recuperado/criado com sucesso."),d("/")):u("Erro crtico de perfil. Tente novamente mais tarde.");return}console.log("Login efetuado com perfil:",p==null?void 0:p.role),(p==null?void 0:p.role)==="admin"?d("/admin"):(p==null?void 0:p.role)==="barbeiro"?d("/barbeiro"):d("/")}else d("/")}catch(v){console.error("Login Error:",v);const x=v instanceof Error?v.message:"Erro ao efetuar login. Verifique as suas credenciais.";u(x)}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center px-4 pt-20 pb-12 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 z-10"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1503951914875-452162b7f30a?auto=format&fit=crop&q=80&w=2070",alt:"Background",className:"w-full h-full object-cover"})]}),o.jsxs(D.div,{className:"max-w-md w-full bg-card-bg p-10 rounded-2xl border border-white/5 shadow-2xl relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-16 h-16 bg-dark-bg rounded-2xl flex items-center justify-center mx-auto mb-6 border border-white/5",children:o.jsx(qe,{className:"w-8 h-8 text-primary"})}),o.jsx("h2",{className:"text-3xl font-heading font-bold text-white mb-2",children:"Bem-vindo de volta"}),o.jsx("p",{className:"text-gray-400",children:"Aceda  sua conta para agendar"})]}),c&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-8 text-sm text-center",children:c}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"w-full bg-dark-bg border border-white/10 rounded-lg p-4 pl-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"seu@email.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Palavra-passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:r?"text":"password",required:!0,value:a,onChange:f=>n(f.target.value),className:"w-full bg-dark-bg border border-white/10 rounded-lg p-4 pl-12 pr-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:""}),o.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:r?o.jsx(Tc,{className:"w-5 h-5"}):o.jsx(Ac,{className:"w-5 h-5"})})]})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary py-4 font-bold uppercase tracking-wide flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed rounded-lg shadow-lg shadow-primary/20",children:i?o.jsx(ze,{className:"animate-spin w-5 h-5"}):"Entrar"})]}),o.jsxs("div",{className:"mt-8 text-center text-sm text-gray-400",children:["No tem uma conta?"," ",o.jsx(Y,{to:"/registo",className:"text-primary hover:text-secondary font-semibold transition-colors",children:"Registar-se"})]})]})]})},JD=()=>{const[e,t]=w.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[a,n]=w.useState(!1),[r,s]=w.useState(!1),[i,l]=w.useState(null),c=$a(),u=h=>{t({...e,[h.target.name]:h.target.value})},d=async h=>{if(h.preventDefault(),n(!0),l(null),e.password!==e.confirmPassword){l("As palavras-passe no coincidem"),n(!1);return}try{const{data:f,error:m}=await P.auth.signUp({email:e.email,password:e.password,options:{data:{nome:e.name,telemovel:e.phone}}});if(m)throw m;if(f!=null&&f.session&&f.user){const b=f.user;let v=!1;for(let x=0;x<5&&b;x++){const{data:p}=await P.from("perfis").select("id").eq("id",b.id).single();if(p){v=!0;break}await new Promise(g=>setTimeout(g,1e3))}if(!v&&b){console.warn("Profile creation delayed or failed. Attempting manual creation...");const{error:x}=await P.from("perfis").insert([{id:b.id,nome:e.name,email:e.email,telemovel:e.phone,role:"client"}]);x?console.error("Manual profile creation failed:",x):console.log("Profile created manually.")}c("/")}else f!=null&&f.user?(l("Conta criada com sucesso! Por favor, verifique o seu email para ativar a conta."),n(!1)):c("/")}catch(f){console.error("Registration Error:",f);let m=f instanceof Error?f.message:"Erro ao criar conta";(m.includes("User already registered")||m.includes("already registered"))&&(m="Este email j est registado. Tente fazer login ou recuperar a palavra-passe."),l(m),n(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center px-4 pt-20 pb-12 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 z-10"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1503951914875-452162b7f30a?auto=format&fit=crop&q=80&w=2070",alt:"Background",className:"w-full h-full object-cover"})]}),o.jsxs(D.div,{className:"max-w-md w-full bg-card-bg p-10 rounded-2xl border border-white/5 shadow-2xl relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-16 h-16 bg-dark-bg rounded-2xl flex items-center justify-center mx-auto mb-6 border border-white/5",children:o.jsx(qe,{className:"w-8 h-8 text-primary"})}),o.jsx("h2",{className:"text-3xl font-heading font-bold text-white mb-2",children:"Crie sua Conta"}),o.jsx("p",{className:"text-gray-400",children:"Junte-se  Barbearia Dourado"})]}),i&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-8 text-sm text-center",children:i}),o.jsxs("form",{onSubmit:d,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome Completo"}),o.jsxs("div",{className:"relative",children:[o.jsx(_t,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"text",name:"name",required:!0,value:e.name,onChange:u,className:"w-full bg-dark-bg border border-white/10 rounded-lg p-3 pl-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"Seu nome"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telemvel"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"tel",name:"phone",required:!0,value:e.phone,onChange:u,className:"w-full bg-dark-bg border border-white/10 rounded-lg p-3 pl-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"Seu telefone"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"email",name:"email",required:!0,value:e.email,onChange:u,className:"w-full bg-dark-bg border border-white/10 rounded-lg p-3 pl-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"seu@email.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Palavra-passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:u,className:"w-full bg-dark-bg border border-white/10 rounded-lg p-3 pl-12 pr-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:""}),o.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:r?o.jsx(Tc,{className:"w-5 h-5"}):o.jsx(Ac,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Confirmar Palavra-passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:r?"text":"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:u,className:"w-full bg-dark-bg border border-white/10 rounded-lg p-3 pl-12 pr-12 text-white focus:border-primary focus:outline-none transition-colors",placeholder:""})]})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary py-4 font-bold uppercase tracking-wide flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed mt-6 rounded-lg shadow-lg shadow-primary/20",children:a?o.jsx(ze,{className:"animate-spin w-5 h-5"}):"Criar Conta"})]}),o.jsxs("div",{className:"mt-8 text-center text-sm text-gray-400",children:["J tem uma conta?"," ",o.jsx(Y,{to:"/login",className:"text-primary hover:text-secondary font-semibold transition-colors",children:"Entrar"})]})]})]})},ZD=()=>{var C,R;const{user:e,role:t,signOut:a}=cr(),n=$a(),r=ut(),[s,i]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState("upcoming"),[h,f]=w.useState({nome:"",telemovel:""}),[m,b]=w.useState({new:"",confirm:""});w.useEffect(()=>{var k;(k=r.state)!=null&&k.editMode&&(d("settings"),window.history.replaceState({},document.title))},[r]),w.useEffect(()=>{var k,L;e&&f({nome:((k=e.user_metadata)==null?void 0:k.nome)||"",telemovel:((L=e.user_metadata)==null?void 0:L.telemovel)||""})},[e]),w.useEffect(()=>{(async()=>{if(e)try{const{data:L,error:ie}=await P.from("Marcacoes").select(`
                        id,
                        data_hora,
                        status,
                        servicos (nome, preco, duracao),
                        barbeiros (nome)
                    `).eq("cliente_id",e.id).order("data_hora",{ascending:!1});if(ie)throw ie;const We=L.map($e=>{const O=Array.isArray($e.servicos)?$e.servicos[0]:$e.servicos,T=Array.isArray($e.barbeiros)?$e.barbeiros[0]:$e.barbeiros;return{...$e,servicos:O?{nome:O.nome,preco:O.preco||0,duracao:O.duracao||0}:{nome:"Servio Removido",preco:0,duracao:0},barbeiros:T?{nome:T.nome}:{nome:"Barbeiro Removido"}}});i(We)}catch(L){console.error("Erro ao buscar agendamentos:",L)}finally{c(!1)}})()},[e]);const v=async k=>{k.preventDefault();try{const{error:L}=await P.from("perfis").update({nome:h.nome,telemovel:h.telemovel}).eq("id",e==null?void 0:e.id);if(L)throw L;await P.auth.updateUser({data:{nome:h.nome,telemovel:h.telemovel}}),alert("Perfil atualizado com sucesso!"),window.location.reload()}catch(L){console.error("Erro ao atualizar perfil:",L),alert("Erro ao atualizar perfil.")}},x=async k=>{if(k.preventDefault(),m.new!==m.confirm){alert("As palavras-passe no coincidem.");return}try{const{error:L}=await P.auth.updateUser({password:m.new});if(L)throw L;alert("Palavra-passe alterada com sucesso!"),b({new:"",confirm:""})}catch(L){console.error("Erro ao alterar palavra-passe:",L),alert("Erro ao alterar palavra-passe. Tente novamente.")}},p=async k=>{if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{const{error:L}=await P.from("Marcacoes").update({status:"cancelado"}).eq("id",k);if(L)throw L;i(ie=>ie.map(We=>We.id===k?{...We,status:"cancelado"}:We))}catch(L){console.error("Erro ao cancelar:",L),alert("Erro ao cancelar agendamento.")}},g=k=>{n("/agendar",{state:{serviceName:k.servicos.nome,barberName:k.barbeiros.nome}})},y=k=>new Date(k).toLocaleDateString("pt-PT",{day:"2-digit",month:"long",year:"numeric"}),j=k=>new Date(k).toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"}),N=k=>new Date(k)>new Date,_=s.filter(k=>N(k.data_hora)&&k.status!=="cancelado"),S=s.filter(k=>!N(k.data_hora)||k.status==="cancelado"),E=u==="upcoming"?_:S;return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-gray-100",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["MEU ",o.jsx("span",{className:"text-primary",children:"DASHBOARD"})]}),subtitle:"Faa a gesto do seu perfil e dos seus agendamentos exclusivos.",backgroundImage:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?q=80&w=2070&auto=format&fit=crop"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-dark/50 backdrop-blur-md border border-white/5 rounded-2xl p-6 sticky top-24 shadow-xl",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[o.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-yellow-600 rounded-full blur opacity-20"}),o.jsx("div",{className:"relative w-full h-full bg-gray-800 rounded-full border-2 border-primary/50 flex items-center justify-center overflow-hidden",children:o.jsx(_t,{className:"w-16 h-16 text-gray-400"})}),o.jsx("div",{className:"absolute bottom-1 right-1 bg-dark border border-gray-700 rounded-full p-1.5",title:"Seu Cargo",children:o.jsx(ch,{className:"w-4 h-4 text-primary"})})]}),o.jsx("h2",{className:"text-2xl font-heading font-bold text-white mb-1",children:((C=e==null?void 0:e.user_metadata)==null?void 0:C.nome)||"Cliente"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:(t==null?void 0:t.toUpperCase())||"MEMBRO"}),o.jsxs("button",{onClick:()=>d("settings"),className:de("w-full flex items-center justify-center gap-2 py-2 text-sm rounded-lg transition-all",u==="settings"?"bg-primary text-dark font-bold shadow-lg shadow-primary/20":"btn-outline"),children:[o.jsx(UC,{className:"w-4 h-4"})," Editar Perfil"]})]}),o.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-800/50 flex items-center justify-center text-primary",children:o.jsx(us,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 truncate",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),o.jsx("p",{className:"truncate",title:e==null?void 0:e.email,children:e==null?void 0:e.email})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-800/50 flex items-center justify-center text-primary",children:o.jsx(Cc,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Telemvel"}),o.jsx("p",{children:((R=e==null?void 0:e.user_metadata)==null?void 0:R.telemovel)||"No definido"})]})]})]}),o.jsxs("button",{onClick:a,className:"w-full mt-8 flex items-center justify-center gap-2 text-red-500 hover:text-red-400 hover:bg-red-500/10 py-3 rounded-lg transition-colors border border-transparent hover:border-red-500/20",children:[o.jsx(Hw,{className:"w-4 h-4"})," Sair da Conta"]})]})}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/5 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>d("upcoming"),className:de("pb-4 text-sm font-bold uppercase tracking-wider relative transition-colors whitespace-nowrap",u==="upcoming"?"text-primary":"text-gray-500 hover:text-gray-300"),children:["Prximos",u==="upcoming"&&o.jsx(D.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary"})]}),o.jsxs("button",{onClick:()=>d("history"),className:de("pb-4 text-sm font-bold uppercase tracking-wider relative transition-colors whitespace-nowrap",u==="history"?"text-primary":"text-gray-500 hover:text-gray-300"),children:["Histrico",u==="history"&&o.jsx(D.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary"})]}),o.jsxs("button",{onClick:()=>d("settings"),className:de("pb-4 text-sm font-bold uppercase tracking-wider relative transition-colors whitespace-nowrap",u==="settings"?"text-primary":"text-gray-500 hover:text-gray-300"),children:["Definies",u==="settings"&&o.jsx(D.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary"})]})]}),l?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin"})}):u==="settings"?o.jsxs(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"bg-dark/40 border border-white/5 rounded-2xl p-6 sm:p-8",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(_t,{className:"w-5 h-5 text-primary"}),"Informaes Pessoais"]}),o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Nome Completo"}),o.jsx("input",{type:"text",value:h.nome,onChange:k=>f({...h,nome:k.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Telemvel"}),o.jsx("input",{type:"tel",value:h.telemovel,onChange:k=>f({...h,telemovel:k.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Email (No editvel)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full bg-black/20 border border-gray-800 rounded-lg px-4 py-3 text-gray-500 cursor-not-allowed pl-10"}),o.jsx(gn,{className:"w-4 h-4 text-gray-600 absolute left-3 top-3.5"})]})]})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsxs("button",{type:"submit",className:"btn-primary px-6 py-2.5 flex items-center gap-2",children:[o.jsx(ro,{className:"w-4 h-4"}),"Guardar Informaes"]})})]})]}),o.jsxs("div",{className:"bg-dark/40 border border-white/5 rounded-2xl p-6 sm:p-8",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(ch,{className:"w-5 h-5 text-primary"}),"Segurana da Conta"]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Nova Palavra-passe"}),o.jsx("input",{type:"password",value:m.new,onChange:k=>b({...m,new:k.target.value}),placeholder:"Mnimo 6 caracteres",className:"w-full bg-black/40 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Confirmar Palavra-passe"}),o.jsx("input",{type:"password",value:m.confirm,onChange:k=>b({...m,confirm:k.target.value}),placeholder:"Repita a palavra-passe",className:"w-full bg-black/40 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"})]})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsxs("button",{type:"submit",className:"bg-gray-800 hover:bg-gray-700 text-white font-medium px-6 py-2.5 rounded-lg flex items-center gap-2 transition-colors border border-gray-700",disabled:!m.new||!m.confirm,children:[o.jsx(gn,{className:"w-4 h-4"}),"Atualizar Palavra-passe"]})})]})]})]}):E.length>0?o.jsx("div",{className:"space-y-4",children:o.jsx($t,{mode:"popLayout",children:E.map(k=>{var L,ie;return o.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-dark/40 border border-white/5 hover:border-primary/30 rounded-xl p-5 transition-all group",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mt-1",children:o.jsx(qe,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-primary transition-colors",children:(L=k.servicos)==null?void 0:L.nome}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mt-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_t,{className:"w-3 h-3"}),(ie=k.barbeiros)==null?void 0:ie.nome]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(wn,{className:"w-3 h-3"}),j(k.data_hora)]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 pl-16 md:pl-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-white font-heading font-bold text-lg",children:y(k.data_hora)}),o.jsx("span",{className:de("px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border",k.status==="confirmado"?"bg-green-500/10 text-green-500 border-green-500/20":k.status==="pendente"?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":"bg-red-500/10 text-red-500 border-red-500/20"),children:k.status})]}),u==="upcoming"&&(k.status==="pendente"||k.status==="confirmado")&&o.jsxs("div",{className:"flex items-center gap-2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>g(k),className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-colors",title:"Reagendar",children:o.jsx(LC,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>p(k.id),className:"p-2 hover:bg-red-500/10 rounded-lg text-red-500/70 hover:text-red-500 transition-colors",title:"Cancelar",children:o.jsx(ha,{className:"w-4 h-4"})})]})]})]})},k.id)})})}):o.jsxs("div",{className:"bg-dark/30 border border-white/5 rounded-2xl p-12 text-center flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mb-4",children:o.jsx($w,{className:"w-8 h-8 text-gray-500"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:u==="upcoming"?"Sem agendamentos futuros":"Sem histrico recente"}),o.jsx("p",{className:"text-gray-400 mb-8 max-w-sm",children:u==="upcoming"?"Voc no tem nenhum corte agendado para os prximos dias.":"Voc ainda no realizou agendamentos conosco."}),o.jsx("button",{onClick:()=>n("/agendar"),className:"btn-primary px-8 py-3",children:"Agendar Agora"})]})]})]})})]})},eM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(""),[i,l]=w.useState("Todos"),{addToCart:c}=Jf();w.useEffect(()=>{(async()=>{try{const{data:f,error:m}=await P.from("produtos").select("*");if(m)throw m;t(f||[])}catch(f){console.error("Erro ao buscar produtos:",f)}finally{n(!1)}})()},[]);const u=["Todos",...Array.from(new Set(e.map(h=>h.categoria)))],d=e.filter(h=>{const f=h.nome.toLowerCase().includes(r.toLowerCase()),m=i==="Todos"||h.categoria===i;return f&&m});return o.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["LOJA ",o.jsx("span",{className:"text-primary",children:"EXCLUSIVA"})]}),subtitle:"Produtos selecionados pelos nossos barbeiros para manter o seu estilo impecvel.",backgroundImage:"https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12 gap-6 bg-card-bg p-6 rounded-2xl border border-white/5 shadow-lg",children:[o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(so,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:r,onChange:h=>s(h.target.value),className:"w-full bg-dark-bg border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white focus:border-primary focus:outline-none transition-colors"})]}),o.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 scrollbar-hide",children:[o.jsx(vC,{className:"text-primary w-5 h-5 mr-2 flex-shrink-0"}),u.map(h=>o.jsx("button",{onClick:()=>l(h),className:`px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${i===h?"bg-primary text-dark shadow-lg shadow-primary/20":"bg-dark-bg text-gray-400 hover:bg-white/5 hover:text-white border border-white/5"}`,children:h},h))]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:d.map(h=>o.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{y:-10},className:"bg-card-bg rounded-2xl overflow-hidden border border-white/5 group shadow-xl hover:shadow-primary/10 transition-all duration-300 flex flex-col",children:[o.jsxs("div",{className:"relative h-72 overflow-hidden bg-white/5",children:[o.jsx("img",{src:h.imagem_url,alt:h.nome,className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${h.stock===0?"grayscale opacity-50":""}`}),h.stock===0?o.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold bg-red-500/80 px-4 py-2 rounded-lg backdrop-blur-sm",children:"Esgotado"})}):o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("button",{onClick:()=>c(h),className:"btn-primary transform translate-y-4 group-hover:translate-y-0 transition-all flex items-center px-6 py-3 rounded-full",children:[o.jsx(no,{className:"w-5 h-5 mr-2"})," Adicionar"]})}),o.jsx("div",{className:"absolute top-4 right-4 bg-dark/80 backdrop-blur-sm px-3 py-1 rounded-lg border border-white/10",children:o.jsxs("span",{className:"text-primary font-bold",children:[h.preco.toFixed(2),""]})})]}),o.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[o.jsx("div",{className:"text-xs text-primary font-bold uppercase tracking-wider mb-2",children:h.categoria}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:h.nome}),o.jsxs("div",{className:"mt-auto pt-4 flex flex-col gap-3",children:[h.stock>0&&h.stock<=5&&o.jsxs("span",{className:"text-xs text-orange-500 font-bold",children:["Apenas ",h.stock," unidades restantes!"]}),o.jsx("button",{onClick:()=>h.stock>0&&c(h),disabled:h.stock===0,className:`w-full py-3 border rounded-xl font-bold transition-all md:hidden flex justify-center items-center ${h.stock===0?"bg-white/5 border-white/5 text-gray-500 cursor-not-allowed":"bg-dark-bg border-white/10 text-gray-300 hover:bg-primary hover:text-dark hover:border-primary"}`,children:h.stock===0?"Esgotado":o.jsxs(o.Fragment,{children:[o.jsx(KC,{className:"w-5 h-5 mr-2"})," Adicionar"]})})]})]})]},h.id))}),d.length===0&&o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Oa,{className:"w-20 h-20 text-gray-800 mx-auto mb-6"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Nenhum produto encontrado"}),o.jsx("p",{className:"text-gray-500",children:"Tente ajustar sua busca ou filtros."})]})]})})]})},tM=()=>{const{items:e,removeFromCart:t,updateQuantity:a,total:n,itemCount:r}=Jf();return e.length===0?o.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[o.jsx(Qt,{title:"O SEU CARRINHO",subtitle:"O seu carrinho est vazio.",backgroundImage:"https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"pt-12 px-4 flex flex-col items-center justify-center text-center",children:o.jsxs("div",{className:"bg-dark p-8 rounded-lg border border-gray-800 max-w-md w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"O seu carrinho est vazio"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Parece que ainda no adicionou nenhum produto."}),o.jsxs(Y,{to:"/loja",className:"btn-primary inline-flex items-center",children:[o.jsx(Lw,{className:"w-4 h-4 mr-2"})," Voltar para a Loja"]})]})})]}):o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["O SEU ",o.jsx("span",{className:"text-primary",children:"CARRINHO"})]}),subtitle:`Tem ${r} itens no seu carrinho.`,backgroundImage:"https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=2070"}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(s=>o.jsxs(D.div,{layout:!0,className:"bg-dark p-4 rounded-lg border border-gray-800 flex items-center",children:[o.jsx("img",{src:s.imagem_url,alt:s.nome,className:"w-20 h-20 object-cover rounded bg-gray-800"}),o.jsxs("div",{className:"ml-4 flex-grow",children:[o.jsx("h3",{className:"font-bold text-white",children:s.nome}),o.jsxs("p",{className:"text-primary font-bold",children:[s.preco.toFixed(2),""]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg",children:[o.jsx("button",{onClick:()=>a(s.id,s.quantity-1),className:"p-2 text-gray-400 hover:text-white",children:o.jsx(DC,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-8 text-center text-white font-bold",children:s.quantity}),o.jsx("button",{onClick:()=>a(s.id,s.quantity+1),disabled:s.quantity>=s.stock,className:`p-2 transition-colors ${s.quantity>=s.stock?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"}`,children:o.jsx(no,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:()=>t(s.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:o.jsx(ZC,{className:"w-5 h-5"})})]})]},s.id))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-dark p-6 rounded-lg border border-gray-800 sticky top-24",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Resumo do Pedido"}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:[n.toFixed(2),""]})]}),o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Envio"}),o.jsx("span",{children:"Grtis"})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-3 flex justify-between text-white font-bold text-lg",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-primary",children:[n.toFixed(2),""]})]})]}),o.jsxs("button",{className:"w-full btn-primary py-3 font-bold uppercase tracking-wide flex items-center justify-center",children:[o.jsx(uC,{className:"w-5 h-5 mr-2"})," Finalizar Compra"]}),o.jsx("p",{className:"text-xs text-center text-gray-500 mt-4",children:"Pagamento seguro processado por Stripe (Simulado)"})]})})]})})]})},aM=()=>{const{user:e}=cr(),[t,a]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(5),[l,c]=w.useState(""),[u,d]=w.useState(!1),[h,f]=w.useState(null),[m,b]=w.useState(!1),v=async()=>{try{const{data:p,error:g}=await P.from("avaliacoes").select(`
                    id,
                    nota,
                    comentario,
                    created_at,
                    perfis (nome)
                `).order("created_at",{ascending:!1});if(g)throw g;const y=p.map(j=>{const N=Array.isArray(j.perfis)?j.perfis[0]:j.perfis;return{...j,perfis:N?{nome:N.nome}:{nome:"Cliente"}}});a(y)}catch(p){console.error("Erro ao buscar avaliaes:",p)}finally{r(!1)}};w.useEffect(()=>{v()},[]);const x=async p=>{if(p.preventDefault(),!!e){d(!0),f(null),b(!1);try{const{error:g}=await P.from("avaliacoes").insert([{cliente_id:e.id,nota:s,comentario:l,barbeiro_id:null}]);if(g)throw g;b(!0),c(""),i(5),v()}catch(g){f(g.message||"Erro ao enviar avaliao")}finally{d(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[o.jsx(Qt,{title:o.jsxs(o.Fragment,{children:["O QUE DIZEM ",o.jsx("span",{className:"text-primary",children:"NOSSOS CLIENTES"})]}),subtitle:"A satisfao dos nossos clientes  a nossa maior recompensa.",backgroundImage:"https://images.unsplash.com/photo-1599351431202-1e0f0137899a?auto=format&fit=crop&q=80&w=1976"}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[e?o.jsxs("div",{className:"bg-card-bg p-8 rounded-2xl border border-white/5 mb-16 shadow-xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary"}),o.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[o.jsx($g,{className:"w-6 h-6 mr-3 text-primary"})," Deixe sua Avaliao"]}),m&&o.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-500 p-4 rounded-xl mb-6 flex items-center",children:[o.jsx(zr,{className:"w-5 h-5 mr-2 fill-current"}),"Avaliao enviada com sucesso! Obrigado pelo feedback."]}),h&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl mb-6",children:h}),o.jsxs("form",{onSubmit:x,children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 mb-3 font-medium",children:"Sua Nota"}),o.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(p=>o.jsx("button",{type:"button",onClick:()=>i(p),className:`focus:outline-none transition-transform hover:scale-110 ${p<=s?"text-primary":"text-gray-700"}`,children:o.jsx(zr,{className:"w-10 h-10 fill-current"})},p))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 mb-3 font-medium",children:"Seu Comentrio"}),o.jsx("textarea",{value:l,onChange:p=>c(p.target.value),className:"w-full bg-dark-bg border border-white/10 rounded-xl p-4 text-white focus:border-primary focus:outline-none h-32 transition-colors",placeholder:"Conte-nos como foi sua experincia...",required:!0})]}),o.jsxs("button",{type:"submit",disabled:u,className:"btn-primary w-full flex justify-center items-center py-4 text-lg",children:[u?o.jsx(ze,{className:"w-6 h-6 animate-spin mr-2"}):o.jsx(Gw,{className:"w-5 h-5 mr-2"}),"Enviar Avaliao"]})]})]}):o.jsxs("div",{className:"bg-card-bg p-10 rounded-2xl border border-white/5 mb-16 text-center shadow-xl",children:[o.jsx(zr,{className:"w-16 h-16 text-primary mx-auto mb-6 opacity-50"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Quer avaliar nossos servios?"}),o.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Faa login para compartilhar sua experincia com a comunidade Barbearia Dourado."}),o.jsx("a",{href:"/login",className:"btn-outline px-8 py-3",children:"Entrar na Conta"})]}),n?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(ze,{className:"w-10 h-10 text-primary animate-spin"})}):t.length>0?o.jsx("div",{className:"grid gap-6",children:t.map(p=>{var g,y;return o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card-bg p-8 rounded-2xl border border-white/5 hover:border-primary/30 transition-all shadow-lg",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-dark-bg rounded-full flex items-center justify-center mr-4 border border-white/5 text-primary font-bold text-xl",children:(g=p.perfis)!=null&&g.nome?p.perfis.nome.charAt(0).toUpperCase():o.jsx(_t,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white text-lg",children:((y=p.perfis)==null?void 0:y.nome)||"Cliente"}),o.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString("pt-PT")})]})]}),o.jsx("div",{className:"flex text-primary bg-primary/5 px-3 py-1 rounded-lg border border-primary/10",children:[...Array(5)].map((j,N)=>o.jsx(zr,{className:`w-4 h-4 ${N<p.nota?"fill-current":"text-gray-800"}`},N))})]}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute -top-2 -left-2 text-6xl text-primary/10 font-serif",children:'"'}),o.jsx("p",{className:"text-gray-300 italic text-lg leading-relaxed pl-6 relative z-10",children:p.comentario})]})]},p.id)})}):o.jsxs("div",{className:"text-center py-20",children:[o.jsx($g,{className:"w-20 h-20 text-gray-800 mx-auto mb-6"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Nenhuma avaliao ainda"}),o.jsx("p",{className:"text-gray-500",children:"Seja o primeiro a avaliar!"})]})]})]})},nM=()=>{const[e,t]=w.useState({totalClients:0,todayAppointments:0,totalProducts:0,pendingReviews:0,totalRevenue:0}),a=$a(),[n,r]=w.useState([]),[s,i]=w.useState(!0);w.useEffect(()=>{(async()=>{var h;try{const f=new Date().toISOString().split("T")[0],[m,b,v,x,p,g]=await Promise.all([P.from("perfis").select("id",{count:"exact"}).eq("role","cliente"),P.from("Marcacoes").select("id",{count:"exact"}).gte("data_hora",`${f}T00:00:00`).lte("data_hora",`${f}T23:59:59`),P.from("produtos").select("id",{count:"exact"}),P.from("avaliacoes").select("id",{count:"exact"}),P.from("Marcacoes").select(`
                            servicos (preco)
                        `).eq("status","concluido"),P.from("Marcacoes").select(`
                            id,
                            data_hora,
                            status,
                            perfis (nome),
                            servicos (nome)
                        `).order("created_at",{ascending:!1}).limit(5)]),y=((h=p.data)==null?void 0:h.reduce((j,N)=>{var _;return j+(((_=N.servicos)==null?void 0:_.preco)||0)},0))||0;t({totalClients:m.count||0,todayAppointments:b.count||0,totalProducts:v.count||0,pendingReviews:x.count||0,totalRevenue:y}),r(g.data||[])}catch(f){console.error("Erro ao buscar estatsticas:",f)}finally{i(!1)}})()},[]);const l=[{title:"Clientes Totais",value:e.totalClients,icon:li,color:"text-blue-400",bg:"from-blue-500/20 to-blue-600/5",border:"border-blue-500/20"},{title:"Agendamentos Hoje",value:e.todayAppointments,icon:Bt,color:"text-amber-400",bg:"from-amber-500/20 to-amber-600/5",border:"border-amber-500/20"},{title:"Produtos",value:e.totalProducts,icon:Oa,color:"text-purple-400",bg:"from-purple-500/20 to-purple-600/5",border:"border-purple-500/20"},{title:"Receita Total",value:`${e.totalRevenue}`,icon:Oa,color:"text-emerald-400",bg:"from-emerald-500/20 to-emerald-600/5",border:"border-emerald-500/20"}];if(s)return o.jsx("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})});const c={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},u={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return o.jsxs(D.div,{variants:c,initial:"hidden",animate:"show",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Dashboard"}),o.jsx("p",{className:"text-gray-400",children:"Viso geral da sua barbearia hoje."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map((d,h)=>o.jsxs(D.div,{variants:u,whileHover:{y:-5},className:`p-6 rounded-xl border ${d.border} bg-gradient-to-br ${d.bg} backdrop-blur-sm relative overflow-hidden group`,children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(d.icon,{className:"w-16 h-16"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`p-3 rounded-lg w-fit mb-4 bg-black/20 ${d.color}`,children:o.jsx(d.icon,{className:"w-6 h-6"})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:d.value}),o.jsx("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:d.title})]})]},h))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(D.div,{variants:u,className:"lg:col-span-2 space-y-8",children:o.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"ltimos Agendamentos"}),o.jsxs(Y,{to:"/admin/agendamentos",className:"text-primary hover:text-amber-300 text-sm flex items-center gap-1 transition-colors",children:["Ver todos ",o.jsx(ll,{className:"w-4 h-4"})]})]}),n.length>0?o.jsx("div",{className:"space-y-3",children:n.map(d=>{var h,f,m,b;return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5 group",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center text-gray-400 group-hover:text-primary transition-colors",children:o.jsx(li,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white",children:Array.isArray(d.perfis)?(h=d.perfis[0])==null?void 0:h.nome:((f=d.perfis)==null?void 0:f.nome)||"Cliente Desconhecido"}),o.jsx("p",{className:"text-sm text-gray-400",children:Array.isArray(d.servicos)?(m=d.servicos[0])==null?void 0:m.nome:(b=d.servicos)==null?void 0:b.nome})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1 justify-end",children:[o.jsx(wn,{className:"w-3 h-3"}),new Date(d.data_hora).toLocaleDateString("pt-PT")]}),o.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider
                                                ${d.status==="confirmado"?"bg-green-500/20 text-green-400":d.status==="pendente"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:d.status})]})]},d.id)})}):o.jsxs("div",{className:"text-center py-10 text-gray-500",children:[o.jsx(Bt,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"Sem agendamentos recentes."})]})]})}),o.jsx(D.div,{variants:u,className:"space-y-6",children:o.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-6 backdrop-blur-sm",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Aes Rpidas"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>a("/admin/agendamentos"),className:"w-full p-4 rounded-xl bg-white/5 hover:bg-primary/10 border border-white/5 hover:border-primary/30 flex items-center gap-4 transition-all group text-left",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/20 text-primary group-hover:scale-110 transition-transform",children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-white group-hover:text-primary transition-colors",children:"Gerir Agenda"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Consultar marcaes"})]})]}),o.jsxs("button",{onClick:()=>a("/admin/gerenciar"),className:"w-full p-4 rounded-xl bg-white/5 hover:bg-blue-500/10 border border-white/5 hover:border-blue-500/30 flex items-center gap-4 transition-all group text-left",children:[o.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-500 group-hover:scale-110 transition-transform",children:o.jsx(li,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-white group-hover:text-blue-400 transition-colors",children:"Barbeiros & Servios"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Adicionar ou editar"})]})]}),o.jsxs("button",{onClick:()=>a("/admin/produtos"),className:"w-full p-4 rounded-xl bg-white/5 hover:bg-purple-500/10 border border-white/5 hover:border-purple-500/30 flex items-center gap-4 transition-all group text-left",children:[o.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-500 group-hover:scale-110 transition-transform",children:o.jsx(Oa,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-white group-hover:text-purple-400 transition-colors",children:"Loja Online"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Gerir produtos"})]})]})]})]})})]})]})},rM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(""),[i,l]=w.useState("all"),[c,u]=w.useState(new Date().toISOString().split("T")[0]),d=async()=>{n(!0);try{let b=P.from("Marcacoes").select(`
                    id,
                    data_hora,
                    status,
                    perfis (nome, telemovel, email),
                    servicos (nome, preco, duracao),
                    barbeiros (nome)
                `).order("data_hora",{ascending:!0});if(c){const g=`${c}T00:00:00`,y=`${c}T23:59:59`;b=b.gte("data_hora",g).lte("data_hora",y)}else{const y=`${new Date().toISOString().split("T")[0]}T00:00:00`;b=b.gte("data_hora",y)}const{data:v,error:x}=await b;if(x)throw x;const p=v.map(g=>{const y=Array.isArray(g.perfis)?g.perfis[0]:g.perfis,j=Array.isArray(g.servicos)?g.servicos[0]:g.servicos,N=Array.isArray(g.barbeiros)?g.barbeiros[0]:g.barbeiros;return{...g,perfis:y?{nome:y.nome,telemovel:y.telemovel||"",email:y.email}:null,servicos:j?{nome:j.nome,preco:j.preco||0,duracao:j.duracao||0}:null,barbeiros:N?{nome:N.nome}:null}});t(p)}catch(b){console.error("Erro ao buscar agendamentos:",b)}finally{n(!1)}};w.useEffect(()=>{d()},[c]);const h=async(b,v)=>{try{const{error:x}=await P.from("Marcacoes").update({status:v}).eq("id",b);if(x)throw x;t(p=>p.map(g=>g.id===b?{...g,status:v}:g))}catch(x){console.error("Erro ao atualizar status:",x)}},f=e.filter(b=>{var p;const v=(p=b.perfis)==null?void 0:p.nome.toLowerCase().includes(r.toLowerCase());let x=!0;return i==="pending"?x=b.status==="pendente":i==="confirmed"?x=b.status==="confirmado":i==="history"&&(x=b.status==="concluido"||b.status==="cancelado"),v&&x}),m=b=>{switch(b){case"confirmado":return"bg-green-500/10 text-green-500 border-green-500/20";case"pendente":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"cancelado":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Agendamentos"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie todas as marcaes da barbearia."})]}),o.jsxs("div",{className:"flex bg-zinc-900 border border-white/10 rounded-xl p-1 items-center",children:[o.jsx("input",{type:"date",value:c,onChange:b=>u(b.target.value),className:"bg-transparent text-white px-4 py-2 outline-none cursor-pointer"}),c&&o.jsx("button",{onClick:()=>u(""),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors mr-1",title:"Limpar filtro de data (Ver Todos Futuros)",children:o.jsx("span",{className:"text-xs font-bold uppercase",children:"Ver Todos"})})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[o.jsxs("div",{className:"relative flex-1 w-full",children:[o.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar por nome do cliente...",value:r,onChange:b=>s(b.target.value),className:"w-full bg-zinc-900/50 backdrop-blur-sm border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all"})]}),o.jsxs("div",{className:"flex p-1 bg-zinc-900/50 rounded-xl border border-white/10 overflow-x-auto max-w-full",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="all"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Todos"}),o.jsx("button",{onClick:()=>l("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="pending"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Pendentes"}),o.jsx("button",{onClick:()=>l("confirmed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="confirmed"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Confirmados"}),o.jsx("button",{onClick:()=>l("history"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="history"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Histrico"})]})]}),o.jsx("div",{className:"space-y-4",children:a?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})}):f.length>0?o.jsx($t,{children:f.map(b=>{var v,x,p,g,y,j;return o.jsx(D.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-zinc-900/40 backdrop-blur-sm border border-white/5 rounded-2xl p-6 hover:border-primary/30 transition-all group",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between lg:items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4 min-w-[180px]",children:[o.jsx("div",{className:"p-3 bg-white/5 rounded-xl text-primary group-hover:scale-110 transition-transform",children:o.jsx(wn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-white",children:Ea(new Date(b.data_hora),"HH:mm")}),o.jsx("p",{className:"text-sm text-gray-500 capitalize",children:Ea(new Date(b.data_hora),"EEEE, d MMM",{locale:mi})})]})]}),o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-full bg-zinc-800 items-center justify-center text-gray-400",children:o.jsx(_t,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white",children:((v=b.perfis)==null?void 0:v.nome)||"Cliente Desconhecido"}),o.jsx("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:o.jsx("span",{children:(x=b.perfis)==null?void 0:x.telemovel})})]})]}),o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:"hidden sm:flex w-10 h-10 rounded-full bg-zinc-800 items-center justify-center text-gray-400",children:o.jsx(qe,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white",children:((p=b.servicos)==null?void 0:p.nome)||"Servio Removido"}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[o.jsxs("span",{children:[(g=b.servicos)==null?void 0:g.preco,""]}),o.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-700"}),o.jsxs("span",{children:[(y=b.servicos)==null?void 0:y.duracao," min"]}),o.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-700"}),o.jsx("span",{className:"text-primary",children:(j=b.barbeiros)==null?void 0:j.nome})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[o.jsx("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider border ${m(b.status)}`,children:b.status}),o.jsxs("div",{className:"flex gap-2",children:[b.status==="pendente"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>h(b.id,"confirmado"),className:"p-2 bg-green-500/10 text-green-500 rounded-lg hover:bg-green-500/20 active:scale-95 transition-all",title:"Confirmar",children:o.jsx(sn,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>h(b.id,"cancelado"),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 active:scale-95 transition-all",title:"Rejeitar",children:o.jsx(ha,{className:"w-5 h-5"})})]}),b.status==="confirmado"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>h(b.id,"concluido"),className:"p-2 bg-blue-500/10 text-blue-500 rounded-lg hover:bg-blue-500/20 active:scale-95 transition-all",title:"Concluir",children:o.jsx(sn,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>h(b.id,"cancelado"),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 active:scale-95 transition-all",title:"Cancelar",children:o.jsx(ha,{className:"w-5 h-5"})})]})]})]})]})},b.id)})}):o.jsxs("div",{className:"text-center py-20 bg-zinc-900/30 rounded-2xl border border-white/5 border-dashed",children:[o.jsx(Bt,{className:"w-16 h-16 mx-auto mb-4 text-gray-700"}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sem agendamentos"}),o.jsx("p",{className:"text-gray-500",children:"Nenhum agendamento encontrado para os filtros selecionados."})]})})]})},sM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(""),[i,l]=w.useState("all"),[c,u]=w.useState(null),[d,h]=w.useState({}),[f,m]=w.useState(null);w.useEffect(()=>{v(),b()},[]);const b=async()=>{const{data:{user:_}}=await P.auth.getUser();m((_==null?void 0:_.id)||null)},v=async()=>{n(!0);try{const{data:_,error:S}=await P.from("perfis").select("*").order("nome");if(S)throw S;t(_||[])}catch(_){console.error("Erro ao buscar utilizadores:",_)}finally{n(!1)}},x=_=>{u(_.id),h({nome:_.nome,email:_.email,role:_.role,telemovel:_.telemovel||""})},p=()=>{u(null),h({})},g=async _=>{if(window.confirm("Tem certeza que deseja excluir este utilizador? Ao fazer isso, ele perder o acesso."))try{const{error:S}=await P.from("perfis").delete().eq("id",_);if(S)throw S;v(),alert("Utilizador removido com sucesso.")}catch(S){console.error("Erro ao excluir:",S),alert("Erro ao excluir utilizador: "+S.message)}},y=async _=>{var S,E;_.preventDefault();try{const{error:C}=await P.rpc("admin_update_user_v2",{p_user_id:c,p_nome:d.nome,p_role:d.role,p_telemovel:d.telemovel});if(C){if(console.error("RPC Error:",C),(S=C.message)!=null&&S.includes("function admin_update_user_v2")&&((E=C.message)!=null&&E.includes("does not exist")))alert(`Erro: A funo de atualizao no foi encontrada no banco de dados.

Por favor, execute o script SQL "20251216_admin_update_user.sql" no Painel do Supabase para habilitar essa funcionalidade.`);else throw C;return}p(),await v(),alert("Utilizador atualizado com sucesso!")}catch(C){console.error("Erro ao salvar:",C),alert("Erro ao salvar utilizador: "+C.message)}},j=_=>{const{name:S,value:E}=_.target;h(C=>({...C,[S]:E}))},N=e.filter(_=>{var C,R;const S=((C=_.nome)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))||((R=_.email)==null?void 0:R.toLowerCase().includes(r.toLowerCase()));let E=!0;return i==="clients"?E=_.role==="client"||_.role==="cliente":i==="barbers"?E=_.role==="barbeiro"||_.role==="barber":i==="admins"&&(E=_.role==="admin"),S&&E});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Gesto de Utilizadores"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie permisses e dados dos utilizadores."})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("button",{onClick:()=>window.location.href="/admin/criar-barbeiro",className:"bg-primary text-black px-4 py-2 rounded-xl font-bold hover:bg-primary/90 transition-colors flex items-center gap-2",children:"+ Novo Barbeiro"}),o.jsxs("div",{className:"relative",children:[o.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Buscar utilizador...",value:r,onChange:_=>s(_.target.value),className:"bg-zinc-900 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-white focus:border-primary/50 outline-none w-64"})]})]})]}),o.jsxs("div",{className:"flex p-1 bg-zinc-900/50 rounded-xl border border-white/10 overflow-x-auto max-w-full w-fit mb-6",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="all"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Todos"}),o.jsx("button",{onClick:()=>l("clients"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="clients"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Clientes"}),o.jsx("button",{onClick:()=>l("barbers"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="barbers"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Barbeiros"}),o.jsx("button",{onClick:()=>l("admins"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${i==="admins"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Administradores"})]}),o.jsx($t,{mode:"wait",children:c?o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-zinc-900/80 backdrop-blur-md p-8 rounded-2xl border border-primary/20 max-w-2xl mx-auto shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Editar Utilizador"}),o.jsx("button",{onClick:p,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:o.jsx(ha,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Email (Apenas leitura)"}),o.jsx("input",{type:"text",value:d.email||"",disabled:!0,className:"w-full bg-black/40 border border-white/5 rounded-xl px-4 py-3 text-gray-500 cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Nome"}),o.jsx("input",{type:"text",name:"nome",value:d.nome||"",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Telemvel"}),o.jsx("input",{type:"text",name:"telemovel",value:d.telemovel||"",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Funo (Role)"}),o.jsxs("select",{name:"role",value:d.role||"client",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none",children:[o.jsx("option",{value:"client",children:"Cliente"}),o.jsx("option",{value:"barbeiro",children:"Barbeiro"}),o.jsx("option",{value:"admin",children:"Administrador"})]}),o.jsx("p",{className:"text-xs text-yellow-500/80 mt-2 ml-1",children:' Ateno: "Barbeiro" d acesso  agenda e "Administrador" d acesso total ao sistema.'})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/5",children:[o.jsx("button",{type:"button",onClick:p,className:"px-6 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors font-medium",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btn-primary px-8 py-2.5 font-bold rounded-xl shadow-lg shadow-primary/20 flex items-center",children:[o.jsx(ro,{className:"w-4 h-4 mr-2"})," Salvar Alteraes"]})]})]})]}):o.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?o.jsx("div",{className:"col-span-full flex justify-center py-20",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})}):N.length===0?o.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:"Nenhum utilizador encontrado."}):N.map(_=>o.jsxs(D.div,{layoutId:_.id,className:"bg-zinc-900 border border-white/5 rounded-2xl p-5 flex items-center gap-4 hover:border-white/10 transition-colors group relative",children:[o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:f!==_.id&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>x(_),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20",children:o.jsx(Zf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(_.id),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",children:o.jsx(kc,{className:"w-4 h-4"})})]})}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center text-gray-400 font-bold text-lg shrink-0",children:_.nome?_.nome.charAt(0).toUpperCase():"?"}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("h3",{className:"font-bold text-white truncate",children:_.nome||"Sem Nome"}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:_.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold uppercase tracking-wider ${_.role==="admin"?"bg-red-500/20 text-red-400":_.role==="barbeiro"||_.role==="barber"?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:_.role}),_.telemovel&&o.jsx("span",{className:"text-xs text-gray-600",children:_.telemovel})]})]})]},_.id))})})]})},Rm=({value:e,onChange:t,label:a="Imagem",className:n="",placeholder:r="Clique para carregar imagem"})=>{const s=w.useRef(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,h]=w.useState(!1),f=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];m(g)},m=async p=>{if(u(null),!!p){if(!p.type.startsWith("image/")){u("Por favor, selecione um arquivo de imagem vlido.");return}if(p.size>5*1024*1024){u("A imagem  muito grande. O tamanho mximo  5MB.");return}l(!0);try{const g=await b(p);t(g)}catch(g){u("Erro ao processar imagem."),console.error(g)}finally{l(!1)}}},b=p=>new Promise((g,y)=>{const j=new FileReader;j.readAsDataURL(p),j.onload=N=>{var S;const _=new Image;_.src=(S=N.target)==null?void 0:S.result,_.onload=()=>{const E=document.createElement("canvas"),C=E.getContext("2d");if(!C){y(new Error("Could not get canvas context"));return}const R=800,k=800;let L=_.width,ie=_.height;L>ie?L>R&&(ie*=R/L,L=R):ie>k&&(L*=k/ie,ie=k),E.width=L,E.height=ie,C.drawImage(_,0,0,L,ie);const We=E.toDataURL("image/jpeg",.8);g(We)},_.onerror=E=>y(E)},j.onerror=N=>y(N)}),v=p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?h(!0):p.type==="dragleave"&&h(!1)},x=p=>{p.preventDefault(),p.stopPropagation(),h(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&m(p.dataTransfer.files[0])};return o.jsxs("div",{className:`space-y-2 ${n}`,children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block",children:a}),o.jsxs("div",{className:`relative group cursor-pointer transition-all duration-200 border-2 border-dashed rounded-xl overflow-hidden
                    ${d?"border-primary bg-primary/10":"border-white/10 hover:border-primary/50 bg-black/40"}
                    ${c?"border-red-500/50":""}
                `,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:x,onClick:()=>{var p;return(p=s.current)==null?void 0:p.click()},children:[o.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:f}),o.jsx($t,{mode:"wait",children:i?o.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-48 flex flex-col items-center justify-center gap-3 text-primary",children:[o.jsx(ze,{className:"w-8 h-8 animate-spin"}),o.jsx("span",{className:"text-sm font-medium",children:"Processando imagem..."})]}):e?o.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative h-48 w-full group-hover:opacity-90 transition-opacity",children:[o.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3 pointer-events-none",children:o.jsxs("span",{className:"flex items-center gap-2 text-white font-medium bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[o.jsx(r5,{className:"w-4 h-4"})," Alterar"]})}),o.jsx("button",{onClick:p=>{p.stopPropagation(),t("")},className:"absolute top-2 right-2 p-1.5 bg-red-500/80 text-white rounded-lg hover:bg-red-500 transition-colors shadow-lg",title:"Remover imagem",children:o.jsx(ha,{className:"w-4 h-4"})})]}):o.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-48 flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-primary transition-colors p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:o.jsx(Mi,{className:"w-6 h-6"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"block font-medium text-sm",children:r}),o.jsx("span",{className:"block text-xs opacity-60",children:"ou arraste para aqui"})]})]})})]}),c&&o.jsx("p",{className:"text-xs text-red-500 ml-1",children:c})]})},iM=()=>{const e=$a(),[t,a]=w.useState(!1),[n,r]=w.useState(!1),[s,i]=w.useState({nome:"",bio:"",foto_url:"",email:"",password:"",confirmPassword:"",disponivel:!0}),l=async c=>{var u,d;if(c.preventDefault(),a(!0),!s.password||s.password.length<6){alert("A palavra-passe deve ter pelo menos 6 caracteres."),a(!1);return}if(s.password!==s.confirmPassword){alert("As palavras-passe no coincidem."),a(!1);return}try{const{error:h}=await P.rpc("admin_create_barber_v2",{p_email:s.email,p_password:s.password,p_nome:s.nome,p_bio:s.bio,p_foto_url:s.foto_url,p_role:"barbeiro"});if(h)throw h;alert("Barbeiro criado com sucesso!"),e("/admin/gerenciar")}catch(h){console.error("Erro ao criar barbeiro:",h),(u=h.message)!=null&&u.includes("duplicate key")||(d=h.message)!=null&&d.includes("users_email_partial_key")?alert("Erro: Este endereo de email j est registado. Por favor, utilize outro email."):alert("Erro ao criar conta: "+(h.message||"Erro desconhecido"))}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white p-6 md:p-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),o.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[o.jsxs("button",{onClick:()=>e("/admin/gerenciar"),className:"flex items-center text-gray-400 hover:text-primary transition-colors mb-8 group",children:[o.jsx(Lw,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Voltar para Gesto"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("h1",{className:"text-4xl font-heading font-bold text-white mb-2",children:["Novo ",o.jsx("span",{className:"text-primary",children:"Profissional"})]}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Adicione um novo talento  equipa Barberia Dourado. Esta ao criar automaticamente uma conta de acesso e um perfil pblico."})]}),o.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-dark/50 border border-primary/20 rounded-2xl p-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(ch,{className:"w-24 h-24 text-primary"})}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[o.jsx(Yw,{className:"w-4 h-4 text-primary"}),"Credenciais de Acesso"]}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-2 rounded-lg border border-white/5",children:[o.jsx(us,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:s.email||"email@exemplo.com"})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-2 rounded-lg border border-white/5",children:[o.jsx(gn,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:s.password?"":"Palavra-passe no definida"})]})]})]})]}),o.jsx(D.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-3",children:o.jsx("form",{onSubmit:l,className:"bg-dark/40 backdrop-blur-md border border-white/10 rounded-3xl p-8 shadow-2xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-wider ml-1",children:"Nome do Profissional"}),o.jsxs("div",{className:"relative",children:[o.jsx(_t,{className:"w-5 h-5 absolute left-4 top-3.5 text-gray-500"}),o.jsx("input",{type:"text",required:!0,value:s.nome,onChange:c=>i({...s,nome:c.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-xl py-3 pl-12 pr-4 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-gray-600",placeholder:"Ex: Joo Silva"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-wider ml-1",children:"Email de Acesso"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"w-5 h-5 absolute left-4 top-3.5 text-gray-500"}),o.jsx("input",{type:"email",required:!0,value:s.email,onChange:c=>i({...s,email:c.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-xl py-3 pl-12 pr-4 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-gray-600",placeholder:"Ex: joao@email.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-wider ml-1",children:"Senha de Acesso"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"w-5 h-5 absolute left-4 top-3.5 text-gray-500"}),o.jsx("input",{type:n?"text":"password",required:!0,value:s.password,onChange:c=>i({...s,password:c.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-xl py-3 pl-12 pr-12 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-gray-600",placeholder:"Mnimo 6 caracteres"}),o.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-4 top-3.5 text-gray-500 hover:text-white transition-colors",children:n?o.jsx(Tc,{className:"w-5 h-5"}):o.jsx(Ac,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-wider ml-1",children:"Confirmar Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"w-5 h-5 absolute left-4 top-3.5 text-gray-500"}),o.jsx("input",{type:n?"text":"password",required:!0,value:s.confirmPassword,onChange:c=>i({...s,confirmPassword:c.target.value}),className:`w-full bg-black/40 border rounded-xl py-3 pl-12 pr-4 text-white focus:outline-none transition-all placeholder:text-gray-600 ${s.confirmPassword&&s.password!==s.confirmPassword?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-700 focus:border-primary focus:ring-primary"}`,placeholder:"Repita a senha"})]})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(Rm,{value:s.foto_url,onChange:c=>i({...s,foto_url:c}),label:"Foto de Perfil",placeholder:"Carregar foto de perfil"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-wider ml-1",children:"Biografia"}),o.jsx("textarea",{value:s.bio,onChange:c=>i({...s,bio:c.target.value}),className:"w-full bg-black/40 border border-gray-700 rounded-xl py-3 px-4 text-white focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-gray-600 h-32 resize-none",placeholder:"Descreva a experincia e especialidades..."})]})]}),o.jsxs("button",{type:"submit",disabled:t,className:"w-full btn-primary py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 mt-4 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-lg shadow-primary/20",children:[t?o.jsx(ze,{className:"w-6 h-6 animate-spin"}):o.jsx(sn,{className:"w-6 h-6"}),"Criar Conta de Profissional"]})]})})})]})]})]})},oM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState({}),[d,h]=w.useState(""),[f,m]=w.useState("Todas");w.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:_,error:S}=await P.from("produtos").select("*").order("nome");if(S)throw S;t(_||[])}catch(_){console.error("Erro ao buscar produtos:",_)}finally{n(!1)}},v=_=>{s(_.id),u(_),l(!1)},x=()=>{s(null),u({nome:"",descricao:"",preco:0,stock:0,imagem_url:"",categoria:"Cabelo"}),l(!0)},p=()=>{s(null),l(!1),u({})},g=async _=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{const{error:S}=await P.from("produtos").delete().eq("id",_);if(S)throw S;b()}catch(S){console.error("Erro ao excluir:",S),alert("Erro ao excluir produto.")}},y=async _=>{_.preventDefault();try{if(i){const{error:S}=await P.from("produtos").insert([c]);if(S)throw S}else{const{error:S}=await P.from("produtos").update(c).eq("id",r);if(S)throw S}p(),b()}catch(S){console.error("Erro ao salvar:",S),alert("Erro ao salvar produto.")}},j=_=>{const{name:S,value:E,type:C}=_.target;u(R=>({...R,[S]:C==="number"?parseFloat(E):E}))},N=e.filter(_=>{const S=_.nome.toLowerCase().includes(d.toLowerCase()),E=f==="Todas"||_.categoria===f;return S&&E});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Loja Online"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie o inventrio de produtos."})]}),!i&&!r&&o.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"btn-primary px-5 py-2.5 font-bold flex items-center shadow-lg shadow-primary/20",children:[o.jsx(no,{className:"w-5 h-5 mr-2"})," Novo Produto"]})]}),!i&&!r&&o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar produto...",value:d,onChange:_=>h(_.target.value),className:"w-full bg-zinc-900/50 backdrop-blur-sm border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all"})]}),o.jsxs("div",{className:"flex p-1 bg-zinc-900/50 rounded-xl border border-white/10 overflow-x-auto max-w-full",children:[o.jsx("button",{onClick:()=>m("Todas"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${f==="Todas"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Todas"}),o.jsx("button",{onClick:()=>m("Cabelo"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${f==="Cabelo"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Cabelo"}),o.jsx("button",{onClick:()=>m("Barba"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${f==="Barba"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Barba"}),o.jsx("button",{onClick:()=>m("Acessrios"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${f==="Acessrios"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Acessrios"})]})]}),o.jsx($t,{mode:"wait",children:i||r?o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-zinc-900/80 backdrop-blur-md p-8 rounded-2xl border border-primary/20 max-w-3xl mx-auto shadow-2xl relative overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:i?"Novo Produto":"Editar Produto"}),o.jsx("button",{onClick:p,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:o.jsx(ha,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Nome do Produto"}),o.jsx("input",{type:"text",name:"nome",value:c.nome||"",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Preo ()"}),o.jsx("input",{type:"number",name:"preco",value:c.preco||"",onChange:j,step:"0.01",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Stock Inicial"}),o.jsx("input",{type:"number",name:"stock",value:c.stock||"",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all",required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Categoria"}),o.jsxs("select",{name:"categoria",value:c.categoria||"Cabelo",onChange:j,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all",children:[o.jsx("option",{value:"Cabelo",children:"Cabelo"}),o.jsx("option",{value:"Barba",children:"Barba"}),o.jsx("option",{value:"Acessrios",children:"Acessrios"}),o.jsx("option",{value:"Outros",children:"Outros"})]})]}),o.jsx("div",{className:"pt-2",children:o.jsx(Rm,{value:c.imagem_url,onChange:_=>u({...c,imagem_url:_}),label:"Imagem do Produto"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Descrio"}),o.jsx("textarea",{name:"descricao",value:c.descricao||"",onChange:j,rows:3,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/5",children:[o.jsx("button",{type:"button",onClick:p,className:"px-6 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors font-medium",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btn-primary px-8 py-2.5 font-bold rounded-xl shadow-lg shadow-primary/20 flex items-center",children:[o.jsx(ro,{className:"w-4 h-4 mr-2"})," Salvar Produto"]})]})]})]}):o.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?o.jsx("div",{className:"col-span-full flex justify-center py-20",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})}):o.jsx(o.Fragment,{children:N.map(_=>o.jsxs(D.div,{layout:!0,className:"bg-zinc-900 border border-white/5 rounded-2xl p-4 hover:border-primary/30 transition-colors group relative flex flex-col h-full",children:[o.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[o.jsx("button",{onClick:()=>v(_),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 backdrop-blur-md",children:o.jsx(Zf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(_.id),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 backdrop-blur-md",children:o.jsx(kc,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative h-48 mb-4 overflow-hidden rounded-xl bg-zinc-800",children:[_.imagem_url?o.jsx("img",{src:_.imagem_url,alt:_.nome,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:o.jsx(Oa,{className:"w-12 h-12"})}),o.jsx("span",{className:"absolute bottom-2 left-2 text-[10px] font-bold uppercase tracking-wider bg-black/60 backdrop-blur-sm text-primary px-2 py-1 rounded-lg",children:_.categoria})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-white text-lg mb-1 leading-tight",children:_.nome}),o.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2 leading-relaxed",children:_.descricao}),o.jsxs("div",{className:"mt-auto flex justify-between items-center pt-4 border-t border-white/5",children:[o.jsxs("span",{className:"text-xl font-bold text-primary",children:[_.preco.toFixed(2),""]}),o.jsxs("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${_.stock>0?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[_.stock," em stock"]})]})]})]},_.id))})})})]})},lM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState({url:"",descricao:"",visible:!0});w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);try{const{data:x,error:p}=await P.from("galeria").select("*").order("created_at",{ascending:!1});p?console.error("Erro ao buscar galeria:",p):t(x||[])}catch(x){console.error("Erro:",x)}finally{n(!1)}},h=()=>{l(null),u({url:"",descricao:"",visible:!0}),s(!0)},f=x=>{l(x.id),u({url:x.url,descricao:x.descricao||"",visible:x.visible??!0}),s(!0)},m=()=>{s(!1),l(null),u({url:"",descricao:"",visible:!0})},b=async x=>{if(window.confirm("Tem certeza que deseja excluir esta imagem?"))try{const{error:p}=await P.from("galeria").delete().eq("id",x);if(p)throw p;d()}catch(p){console.error("Erro ao excluir:",p),alert("Erro ao excluir imagem.")}},v=async x=>{x.preventDefault();try{if(!c.url)return;const p={url:c.url,descricao:c.descricao,visible:c.visible};let g;if(i){const{error:y}=await P.from("galeria").update(p).eq("id",i);g=y}else{const{error:y}=await P.from("galeria").insert([p]);g=y}if(g)throw g;m(),d()}catch(p){console.error("Erro ao salvar:",p),alert('Erro ao salvar imagem. Verifique se a coluna "visible" existe na tabela.')}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Galeria"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie as fotos exibidas na galeria do site."})]}),!r&&o.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:"btn-primary px-5 py-2.5 font-bold flex items-center shadow-lg shadow-primary/20",children:[o.jsx(no,{className:"w-5 h-5 mr-2"})," Nova Imagem"]})]}),o.jsx($t,{mode:"wait",children:r?o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-zinc-900/80 backdrop-blur-md p-8 rounded-2xl border border-primary/20 max-w-2xl mx-auto shadow-2xl relative overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:i?"Editar Imagem":"Adicionar Imagem"}),o.jsx("button",{onClick:m,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:o.jsx(ha,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:v,className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"text-sm font-bold text-primary uppercase tracking-wider ml-1 block",children:"Imagem da Galeria"}),o.jsx("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5",children:o.jsx(Rm,{value:c.url,onChange:x=>u({...c,url:x}),label:"",placeholder:"Clique para carregar ou arraste",className:"h-64"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-bold text-primary uppercase tracking-wider ml-1 block mb-2",children:"Descrio"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:c.descricao,onChange:x=>u({...c,descricao:x.target.value}),placeholder:"Ex: Corte degrad moderno...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-4 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-gray-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-1",children:"Uma breve descrio ajuda no SEO e acessibilidade."})]})]}),o.jsxs("div",{className:"pt-4",children:[o.jsx("label",{className:"text-sm font-bold text-primary uppercase tracking-wider ml-1 block mb-3",children:"Visibilidade"}),o.jsxs("div",{onClick:()=>u({...c,visible:!c.visible}),className:`
                                                relative w-full p-4 rounded-xl border cursor-pointer transition-all duration-300 flex items-center justify-between group
                                                ${c.visible?"bg-primary/10 border-primary/50 shadow-[0_0_20px_rgba(239,212,31,0.1)]":"bg-black/40 border-white/10 hover:border-white/20"}
                                            `,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-2 rounded-lg transition-colors ${c.visible?"bg-primary text-dark":"bg-white/5 text-gray-400"}`,children:c.visible?o.jsx(Ac,{className:"w-5 h-5"}):o.jsx(Tc,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("span",{className:`block font-bold text-lg transition-colors ${c.visible?"text-primary":"text-gray-400"}`,children:c.visible?"Visvel na Galeria":"Oculto na Galeria"}),o.jsx("span",{className:"text-xs text-gray-500 block mt-0.5",children:c.visible?"Os clientes podero ver esta foto.":"Esta foto ficar guardada mas invisvel."})]})]}),o.jsx("div",{className:`
                                                w-14 h-7 rounded-full p-1 transition-colors duration-300 relative
                                                ${c.visible?"bg-primary":"bg-zinc-700"}
                                            `,children:o.jsx("div",{className:`
                                                    w-5 h-5 rounded-full bg-white shadow-md transform transition-transform duration-300
                                                    ${c.visible?"translate-x-7":"translate-x-0"}
                                                `})})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/5",children:[o.jsx("button",{type:"button",onClick:m,className:"px-6 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors font-medium",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btn-primary px-8 py-3 font-bold rounded-xl shadow-lg shadow-primary/20 flex items-center hover:scale-[1.02] active:scale-[0.98] transition-all",children:[o.jsx(ro,{className:"w-5 h-5 mr-2"})," ",i?"Salvar Alteraes":"Adicionar  Galeria"]})]})]})]}):o.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a?o.jsx("div",{className:"col-span-full flex justify-center py-20",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})}):e.length>0?e.map(x=>o.jsxs(D.div,{layout:!0,className:`group relative bg-zinc-900 border rounded-2xl overflow-hidden transition-all ${x.visible?"border-white/5 hover:border-primary/30":"border-red-500/30 opacity-75"}`,children:[o.jsxs("div",{className:"aspect-square overflow-hidden bg-zinc-800",children:[o.jsx("img",{src:x.url,alt:x.descricao||"Galeria",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),!x.visible&&o.jsx("div",{className:"absolute top-2 left-2 bg-red-500/80 text-white text-xs font-bold px-2 py-1 rounded backdrop-blur-sm",children:"Oculto"}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[o.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 text-white rounded-full hover:bg-primary hover:text-dark transition-colors",children:o.jsx(mC,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(x),className:"p-2 bg-blue-500/20 text-blue-400 rounded-full hover:bg-blue-500 hover:text-white transition-colors",children:o.jsx(Mi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(x.id),className:"p-2 bg-red-500/20 text-red-500 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:o.jsx(kc,{className:"w-4 h-4"})})]})]}),x.descricao&&o.jsx("div",{className:"p-3 border-t border-white/5 bg-zinc-900/50",children:o.jsx("p",{className:"text-sm text-gray-400 truncate",children:x.descricao})})]},x.id)):o.jsxs("div",{className:"col-span-full text-center py-20 bg-zinc-900/30 rounded-2xl border border-white/5 border-dashed",children:[o.jsx(Mi,{className:"w-16 h-16 mx-auto mb-4 text-gray-700"}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Galeria Vazia"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Adicione fotos para aparecerem na galeria do site."}),o.jsx("button",{onClick:h,className:"btn-primary px-6 py-2 rounded-lg text-sm font-bold",children:"Adicionar Primeira Foto"})]})})})]})},cM=()=>{const[e,t]=w.useState([]),[a,n]=w.useState(!0),[r,s]=w.useState(""),[i,l]=w.useState(!1),[c,u]=w.useState({});w.useEffect(()=>{d()},[]);const d=async()=>{n(!0);try{const{data:p,error:g}=await P.from("servicos").select("*").order("nome");if(g)throw g;t(p||[])}catch(p){console.error("Erro ao buscar servios:",p)}finally{n(!1)}},h=p=>{u(p),l(!0)},f=()=>{u({}),l(!0)},m=()=>{l(!1),u({})},b=async p=>{if(window.confirm("Tem certeza que deseja excluir este servio?"))try{const{error:g}=await P.from("servicos").delete().eq("id",p);if(g)throw g;t(e.filter(y=>y.id!==p))}catch(g){console.error("Erro ao excluir:",g),alert("Erro ao excluir servio: "+g.message)}},v=async p=>{p.preventDefault();try{if(!c.nome||!c.preco||!c.duracao){alert("Preencha todos os campos obrigatrios.");return}const g={nome:c.nome,preco:parseFloat(c.preco.toString()),duracao:parseInt(c.duracao.toString())};if(c.id){const{error:y}=await P.from("servicos").update(g).eq("id",c.id);if(y)throw y}else{const{error:y}=await P.from("servicos").insert([g]);if(y)throw y}m(),d()}catch(g){console.error("Erro ao salvar:",g),alert("Erro ao salvar servio: "+g.message)}},x=e.filter(p=>p.nome.toLowerCase().includes(r.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Gesto de Servios"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie os servios oferecidos e seus preos."})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{onClick:f,className:"bg-primary text-black px-4 py-2 rounded-xl font-bold hover:bg-primary/90 transition-colors flex items-center gap-2",children:[o.jsx(no,{className:"w-5 h-5"})," Novo Servio"]}),o.jsxs("div",{className:"relative",children:[o.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Buscar servio...",value:r,onChange:p=>s(p.target.value),className:"bg-zinc-900 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-white focus:border-primary/50 outline-none w-64"})]})]})]}),o.jsx($t,{mode:"wait",children:i?o.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-zinc-900/80 backdrop-blur-md p-8 rounded-2xl border border-primary/20 max-w-2xl mx-auto shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:c.id?"Editar Servio":"Novo Servio"}),o.jsx("button",{onClick:m,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:o.jsx(ha,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Nome do Servio"}),o.jsxs("div",{className:"relative",children:[o.jsx(qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{type:"text",value:c.nome||"",onChange:p=>u({...c,nome:p.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none",placeholder:"Ex: Corte Degrad",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Preo ()"}),o.jsxs("div",{className:"relative",children:[o.jsx(hC,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{type:"number",step:"0.01",value:c.preco||"",onChange:p=>u({...c,preco:parseFloat(p.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none",placeholder:"0.00",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 font-medium ml-1 block mb-2",children:"Durao (min)"}),o.jsxs("div",{className:"relative",children:[o.jsx(wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{type:"number",value:c.duracao||"",onChange:p=>u({...c,duracao:parseInt(p.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none",placeholder:"30",required:!0})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/5",children:[o.jsx("button",{type:"button",onClick:m,className:"px-6 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-colors font-medium",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"btn-primary px-8 py-2.5 font-bold rounded-xl shadow-lg shadow-primary/20 flex items-center",children:[o.jsx(ro,{className:"w-4 h-4 mr-2"})," Salvar Servio"]})]})]})]}):o.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?o.jsx("div",{className:"col-span-full flex justify-center py-20",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})}):x.length===0?o.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:"Nenhum servio encontrado."}):x.map(p=>o.jsxs(D.div,{layoutId:p.id,className:"bg-zinc-900 border border-white/5 rounded-2xl p-5 hover:border-white/10 transition-colors group relative",children:[o.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[o.jsx("button",{onClick:()=>h(p),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition-colors",children:o.jsx(Zf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(p.id),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors",children:o.jsx(kc,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary",children:o.jsx(qe,{className:"w-6 h-6"})}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[p.preco,""]})]}),o.jsx("h3",{className:"font-bold text-white text-lg mb-1",children:p.nome}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(wn,{className:"w-4 h-4 mr-1"}),p.duracao," minutos"]})]},p.id))})})]})},uM=()=>{var b;const{user:e}=cr(),[t,a]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState({todayCount:0,pendingCount:0,completedCount:0,totalRevenue:0}),[l,c]=w.useState("upcoming");w.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{const{data:v,error:x}=await P.from("barbeiros").select("id").eq("id",e.id).single();if(x||!v){console.error("Barber not found linked to this user"),r(!1);return}const{data:p,error:g}=await P.from("Marcacoes").select(`
                    *,
                    servico:servicos(nome, duracao, preco),
                    cliente:perfis(nome, telemovel)
                `).eq("barbeiro_id",v.id).order("data_hora",{ascending:!0});if(g)throw g;const y=p||[];a(y);const j=new Date().toISOString().split("T")[0],N=y.filter(C=>C.data_hora.startsWith(j)),_=y.filter(C=>C.status==="pendente"),S=y.filter(C=>C.status==="confirmado"||C.status==="concluido"),E=S.reduce((C,R)=>{var L;const k=((L=R.servico)==null?void 0:L.preco)||0;return C+k},0);i({todayCount:N.length,pendingCount:_.length,completedCount:S.length,totalRevenue:E})}catch(v){console.error("Error fetching data:",v)}finally{r(!1)}};if(n)return o.jsx("div",{className:"min-h-screen bg-dark-bg text-white flex justify-center items-center",children:o.jsx(ze,{className:"w-8 h-8 text-primary animate-spin"})});const d={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},f=[{title:"Hoje",value:s.todayCount,icon:Bt,color:"text-blue-400",bg:"from-blue-500/20 to-blue-600/5",border:"border-blue-500/20"},{title:"Pendentes",value:s.pendingCount,icon:sC,color:"text-amber-400",bg:"from-amber-500/20 to-amber-600/5",border:"border-amber-500/20"},{title:"Confirmados",value:s.completedCount,icon:oC,color:"text-emerald-400",bg:"from-emerald-500/20 to-emerald-600/5",border:"border-emerald-500/20"},{title:"Receita Est.",value:`${s.totalRevenue}`,icon:qe,color:"text-purple-400",bg:"from-purple-500/20 to-purple-600/5",border:"border-purple-500/20"}],m=async(v,x)=>{if(window.confirm(`Deseja alterar o status para "${x}"?`))try{const{error:p}=await P.from("Marcacoes").update({status:x}).eq("id",v);if(p)throw p;u()}catch(p){console.error("Error updating status:",p),alert("Erro ao atualizar status.")}};return o.jsxs(D.div,{variants:d,initial:"hidden",animate:"show",className:"min-h-screen bg-dark-bg text-white p-6 pt-24",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-white",children:"Painel do Barbeiro"}),o.jsxs("p",{className:"text-gray-400",children:["Bem-vindo, ",((b=e==null?void 0:e.user_metadata)==null?void 0:b.nome)||"Profissional"]})]}),o.jsx("div",{className:"flex gap-4"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:f.map((v,x)=>o.jsxs(D.div,{variants:h,whileHover:{y:-5},className:`p-4 rounded-xl border ${v.border} bg-gradient-to-br ${v.bg} backdrop-blur-sm relative overflow-hidden group`,children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(v.icon,{className:"w-16 h-16"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`p-3 rounded-lg w-fit mb-4 bg-black/20 ${v.color}`,children:o.jsx(v.icon,{className:"w-6 h-6"})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:v.value}),o.jsx("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:v.title})]})]},x))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(D.div,{variants:h,className:"lg:col-span-2 space-y-8",children:o.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Seus Agendamentos"}),o.jsxs("div",{className:"flex p-1 bg-black/40 rounded-lg border border-white/5",children:[o.jsx("button",{onClick:()=>c("upcoming"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${l==="upcoming"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Prximos"}),o.jsx("button",{onClick:()=>c("history"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${l==="history"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Histrico"}),o.jsx("button",{onClick:()=>c("cancelled"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${l==="cancelled"?"bg-zinc-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Cancelados"})]})]}),t.filter(v=>l==="upcoming"?v.status==="pendente"||v.status==="confirmado":l==="history"?v.status==="concluido":l==="cancelled"?v.status==="cancelado":!0).length>0?o.jsx("div",{className:"space-y-3",children:t.filter(v=>l==="upcoming"?v.status==="pendente"||v.status==="confirmado":l==="history"?v.status==="concluido":l==="cancelled"?v.status==="cancelado":!0).map(v=>{var x,p,g;return o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5 group gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center text-gray-400 group-hover:text-primary transition-colors shrink-0",children:o.jsx(_t,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white text-lg",children:((x=v.cliente)==null?void 0:x.nome)||"Cliente Desconhecido"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(qe,{className:"w-3 h-3"}),(p=v.servico)==null?void 0:p.nome,o.jsxs("span",{className:"text-primary font-bold",children:["(",(g=v.servico)==null?void 0:g.preco,")"]})]})]})]}),o.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-end gap-3 md:gap-1 w-full md:w-auto justify-between md:justify-end pl-16 md:pl-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(wn,{className:"w-4 h-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:[new Date(v.data_hora).toLocaleDateString("pt-PT",{day:"2-digit",month:"2-digit"}),o.jsx("span",{className:"mx-1",children:""}),new Date(v.data_hora).toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsx("div",{className:"flex items-center gap-2 mt-2",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider
                                                    ${v.status==="confirmado"?"bg-green-500/20 text-green-400":v.status==="pendente"?"bg-yellow-500/20 text-yellow-400":v.status==="concluido"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:v.status})}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[v.status==="pendente"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>m(v.id,"confirmado"),className:"px-3 py-1 bg-green-500/10 text-green-400 text-xs rounded hover:bg-green-500/20 transition-colors font-bold border border-green-500/20",children:"Confirmar"}),o.jsx("button",{onClick:()=>m(v.id,"cancelado"),className:"px-3 py-1 bg-red-500/10 text-red-400 text-xs rounded hover:bg-red-500/20 transition-colors font-bold border border-red-500/20",children:"Cancelar"})]}),v.status==="confirmado"&&o.jsx("button",{onClick:()=>m(v.id,"concluido"),className:"px-3 py-1 bg-blue-500/10 text-blue-400 text-xs rounded hover:bg-blue-500/20 transition-colors font-bold border border-blue-500/20",children:"Concluir"})]})]})]},v.id)})}):o.jsxs("div",{className:"text-center py-16 text-gray-500",children:[o.jsx(Bt,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),o.jsx("p",{className:"text-lg",children:"Sem agendamentos encontrados."})]})]})}),o.jsx(D.div,{variants:h,className:"space-y-6",children:o.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-2xl p-6 backdrop-blur-sm",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Informaes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[o.jsx("h3",{className:"font-bold text-white mb-1",children:"Dica do Dia"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Mantenha sua disponibilidade atualizada para evitar conflitos."})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-primary/10 border border-primary/20",children:[o.jsx("h3",{className:"font-bold text-primary mb-1",children:"Suporte"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Precisa de ajuda com o sistema? Contate o administrador."})]})]})]})})]})]})};function dM(){return o.jsx(LA,{children:o.jsx(VA,{children:o.jsxs(tE,{basename:"/PAP/",children:[o.jsx(qA,{}),o.jsx(RN,{children:o.jsxs(pe,{element:o.jsx(e3,{}),children:[o.jsx(pe,{path:"/",element:o.jsx(r3,{})}),o.jsx(pe,{path:"/sobre",element:o.jsx(s3,{})}),o.jsx(pe,{path:"/servicos",element:o.jsx(i3,{})}),o.jsx(pe,{path:"/galeria",element:o.jsx(o3,{})}),o.jsx(pe,{path:"/contato",element:o.jsx(l3,{})}),o.jsx(pe,{path:"/login",element:o.jsx(QD,{})}),o.jsx(pe,{path:"/registo",element:o.jsx(JD,{})}),o.jsx(pe,{path:"/loja",element:o.jsx(eM,{})}),o.jsx(pe,{path:"/loja/carrinho",element:o.jsx(tM,{})}),o.jsx(pe,{path:"/avaliacoes",element:o.jsx(aM,{})}),o.jsxs(pe,{element:o.jsx(u5,{}),children:[o.jsx(pe,{path:"/agendar",element:o.jsx(WD,{})}),o.jsx(pe,{path:"/perfil",element:o.jsx(ZD,{})}),o.jsx(pe,{path:"/barbeiro",element:o.jsx(uM,{})})]}),o.jsxs(pe,{path:"/admin",element:o.jsx(t3,{}),children:[o.jsx(pe,{index:!0,element:o.jsx(nM,{})}),o.jsx(pe,{path:"agendamentos",element:o.jsx(rM,{})}),o.jsx(pe,{path:"gerenciar",element:o.jsx(sM,{})}),o.jsx(pe,{path:"criar-barbeiro",element:o.jsx(iM,{})}),o.jsx(pe,{path:"produtos",element:o.jsx(oM,{})}),o.jsx(pe,{path:"galeria",element:o.jsx(lM,{})}),o.jsx(pe,{path:"servicos",element:o.jsx(cM,{})})]})]})})]})})})}class hM extends w.Component{constructor(){super(...arguments);Dm(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,n){console.error("Uncaught error:",a,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900 text-white p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-zinc-800 p-8 rounded-lg shadow-xl border border-red-500/20",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Ocorreu um erro inesperado. Por favor, recarregue a pgina."}),this.state.error&&o.jsx("pre",{className:"bg-black/50 p-4 rounded text-sm text-red-400 overflow-auto mb-6",children:this.state.error.toString()}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}BS.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(hM,{children:o.jsx(dM,{})})}));
